{"version":3,"sources":["assets/playbutton-white.svg","assets/pausebutton-white.svg","assets/placeholder.svg","assets/deletewhite.svg","assets/playwhite.png","assets/pausewhite.png","assets/copyright.png","assets/homewhite.svg","assets/searchwhite.svg","assets/librarywhite.svg","assets/radio2.svg","assets/expand-white.svg","assets/searchicon.svg","assets/blackclose.png","assets/dropdown.png","assets/blackandwhitelogo.svg","assets/latest-bluewhite.svg","assets/homelight.svg","assets/searchlight.svg","assets/librarylight.svg","assets/radiolight2.svg","assets/nextbutton-white.svg","assets/previousbutton-white.svg","assets/latest-whiteblack.svg","assets/new-minimizeplayer-white.svg","assets/playbutton-black.svg","assets/pausebutton-black.svg","assets/addbutton-black.svg","assets/backbutton.png","assets/backbutton-909090.svg","assets/delete-909090.svg","assets/repeat-white.svg","assets/repeat-one-white.svg","assets/norepeat-disabled.svg","assets/shuffle-disabled.svg","assets/shuffle-enabled.svg","assets/uparrow.svg","assets/downarrow.svg","assets/backbutton-white.svg","assets/tickmark.svg","assets/queuewhite.png","assets/queueaquamarine.png","assets/fullscreenaquamarine.svg","assets/fullscreenwhite.svg","assets/innerfullaquamarine.svg","assets/innerfullwhite.svg","assets/volume.svg","common.js","homepage/mainpanel/midpanel/Queue.js","homepage/mainpanel/midpanel/index.js","homepage/mainpanel/index.js","homepage/index.js","index.js","opening/index.js","Button.js","homepage/mainpanel/midpanel/HomeScreen.js","homepage/mainpanel/midpanel/AlbumView.js","homepage/mainpanel/midpanel/Library.js","homepage/mainpanel/midpanel/Radio.js","homepage/mainpanel/midpanel/Search.js"],"names":["module","exports","__webpack_require__","p","songservers","keepServersActive","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee2","wrap","_context2","prev","next","console","log","length","axios","method","url","then","res","data","archives","sent","Promise","all","map","_ref2","_callee","server","_context","get","abrupt","t0","message","stop","_x","apply","this","arguments","sendRequest","_ref3","_callee3","config","baseHeaders","_context3","USER","localStorage","getItem","concat","endpoint","headers","redirect","window","location","href","to","_x2","Timer","delay","cb","_this","_time","_callback","_timeoutTimer","_intervalTimer","_secondsTracker","_done","_paused","_started","start","t","undefined","clearInterval","setInterval","clearTimeout","setTimeout","pause","continue","diff","canPause","canContinue","hasStarted","hasFinished","done","wait","time","resolve","checkX","cursorX","sWidth","checkY","cursorY","sHeight","num","heightOfBody","convertTime","secs","total","Math","floor","min","arr","toString","split","createGlobalState","initialValue","value","subscribers","getValue","setValue","newState","_this2","forEach","subscriber","subscribe","itemToSubscribe","indexOf","push","unsubscribe","itemToUnsubscribe","filter","queueLength","songIndex","actualQueue","miniLocal","isOpen","openLocal","tabLocal","queueOpenedLocal","noLocal","whichRepeat","isSongPlaying","volumerange","elapsedTime","duration","range","style","pauseOrPlay","goToNext","goToPrevious","isBuffering","trackingTimer","screenLocal","lyricsLocal","CustomUseState","globalState","_useState","useState","setState","slicedToArray","state","reRender","useEffect","playingGlobal","tabGlobal","topBarGlobal","button","buttonFunc","title","bgColor","searchBarGlobal","open","input","prevTab","searchInputGlobal","fullScreenGlobal","show","albumGlobal","queueGlobal","queueOpenedGlobal","songIsPausedGlobal","repeatTypeGlobal","radioGlobal","openerGlobal","yValue","xValue","type","profileOpener","responseBar","msg","miniPlayerGlobal","lyricsGlobal","lyricTextGlobal","global","Opening2","_useState35","_useState36","redirectValue","setRedirectValue","_useState37","_useState38","loaderClass","setLoaderClass","_CustomUseState7","setIsPlaying","_CustomUseState9","setSong","_CustomUseState11","setQueue","_ref9","_callee6","queue","nowplaying","index","_context6","JSON","parse","list","slice","readOnlyError","setItem","stringify","findIndex","each","Title","Album","backup","removeItem","call","_ref10","_callee7","_context7","status","react_default","createElement","react_router","className","src","logo2","alt","Button","props","onClick","e","currentTarget","circle","lastChild","diameter","max","clientWidth","clientHeight","radius","dimen","getBoundingClientRect","width","height","left","clientX","top","clientY","classList","remove","add","createRipple","outline","position","overflow","children","Loader","EachLyric","lyricText","key","text","LyricsPart","song","lyricsLoading","lyrics","setTab","lyricsContainer","useRef","activeLyrics","current","document","querySelector","scroll","offsetTop","behavior","Queue_Loader","Queue_EachLyric","EachSong","_ref4","i","songIsPaused","setSongIsPaused","openerFunc","_useState3","_useState4","hovered","setHovered","handleMouse","stopPropagation","keys","onMouseDown","element","selectedElement","selectedSong","selectedSongIndex","containerDimensions","onMouseUp","onMouseOver","onMouseOut","marginBottom","Thumbnail","Play","Pause","Artist","marginLeft","dimensions","x","y","windowDim","documentElement","Duration","NewRightQueue","_ref5","_CustomUseState5","_CustomUseState6","_useState5","_useState6","showScroll","setShowScroll","_useState7","_useState8","setPosition","_useState9","_useState10","selected","setSelected","id","container","activeSong","onMouseMove","scrolled","nearest","objectSpread","onScroll","target","scrollTop","nearestIndex","splice","Queue_EachSong","backgroundColor","zIndex","borderRadius","Queue","_useState11","_useState12","tab","_CustomUseState8","queueOpened","setQueueOpened","_CustomUseState12","_CustomUseState13","_CustomUseState14","_CustomUseState15","_CustomUseState16","_CustomUseState17","_CustomUseState18","openerDetails","setOpenerDetails","_useState13","_useState14","update","setUpdate","_useState15","_useState16","isLoading","setIsLoading","_CustomUseState19","setResBar","_CustomUseState21","_CustomUseState22","topBarConfig","_CustomUseState23","_CustomUseState24","mini","setMini","_CustomUseState25","_CustomUseState26","setLyrics","_CustomUseState27","_CustomUseState28","setLyricText","_useState17","_useState18","setLyricsLoading","sDiv","hist","useHistory","goToAlbum","documentClick","includes","documentScroll","_ref8","addEventListener","removeEventListener","midpanel_MidPanelLoader","Expand","cover","Minimize","src_Button","Queue_NewRightQueue","_ref6","name","func","removeIndex","removeSong","Queue_LyricsPart","EachInQuickPick","playing","setPlaying","playingSong","setPlayingSong","radio","setRadio","setResObj","determine","handlePlayPause","main","newqueue","songList","toConsumableArray","StartRadio","picks","Fragment","item","HomeScreen_EachInQuickPick","assign","EachAlbum","_CustomUseState29","songPausedLocal","AlbumArtist","NewActualHomeScreen","_CustomUseState31","_CustomUseState32","_CustomUseState33","_CustomUseState34","_CustomUseState35","_CustomUseState36","_CustomUseState37","_CustomUseState38","_CustomUseState39","_CustomUseState40","_CustomUseState41","_CustomUseState43","_CustomUseState44","setData","_useState19","_useState20","setPicks","_ref11","albums","quickPicks","overflowY","HomeScreen_StartRadio","_ref12","album","dummy","len","addTrackToQueue","curIndex","playTrackNext","HomeScreen_EachAlbum","HomeScreen","HomeScreen_NewActualHomeScreen","NewSongRow","currentSong","setCurrentSong","songPaused","setSongPaused","isItSame","currType","Type","songType","PauseWhite","PlayWhite","newQueue","Tracks","Color","Year","setUpPlayer","NewActualAlbumView","params","useParams","_useState21","_useState22","setAlbum","_CustomUseState42","_CustomUseState45","_CustomUseState46","_CustomUseState47","_CustomUseState48","_CustomUseState49","_CustomUseState50","_CustomUseState51","topDiv","currentLocation","useLocation","decidePlayOrPause","sameAlbum","titleInSong","every","playAlbumNext","mainQueue","handleEachMenu","pathname","sec","track","dur","parseInt","div","parseFloat","addAndDisplay","AddButton","AlbumView_NewSongRow","copyright","String","fromCharCode","AlbumView","AlbumView_NewActualAlbumView","setAlbumForPlayer","_CustomUseState10","setElement","setShow","observer","IntersectionObserver","isIntersecting","threshold","currentElement","currentObserver","observe","unobserve","display","ref","NewActualLibrary","library","setLibrary","handleMenu","_ref7","addAlbumToQueue","saved","sessionStorage","Library_EachAlbum","Library","Library_NewActualLibrary","ActualRadio","_CustomUseState","isRadioOn","_CustomUseState3","_CustomUseState4","_useState2","Radio","midpanel_Queue","Radio_ActualRadio","EachInSongList","EachInAlbumList","SongsList","songs","Search_EachInSongList","AlbumsList","_CustomUseState20","Search_EachInAlbumList","NewSearch","_CustomUseState30","songsList","setSongsList","albumsList","setAlbumsList","Search_SongsList","Search_AlbumsList","_ref13","tracks","Search","Search_NewSearch","scrollTimeout","MidPanelLoader","NewReleases","Mid","scrollRef","removeClass","handleScroll","path","midpanel_HomeScreen","midpanel_Search","midpanel_NewReleases","midpanel_AlbumView","midpanel_Library","midpanel_Radio","TopSearchBar","queueOpen","setQueueOpen","searchConfig","setSearchConfig","setInput","showList","setShowList","no","setNo","search","reverse","click","contains","searchBarOpen","focus","BackButton","onSubmit","preventDefault","placeholder","align","onChange","spellCheck","Close","val","setThis","TopNav","userName","picture","setProfileOpen","loc","initial","openProfile","logo","mainpanel_TopSearchBar","currentTab","route","getCorrespondingRoute","setRouteFunc","color","fontSize","toUpperCase","MainPanel","mainpanel_TopNav","midpanel","audio","Audio","mainVolume","currentSongIndex","percent","bufferPercent","setVolume","timeout","currentLyricIndex","changeColor","changeColorVolume","Player","_CustomUseState2","buffering","setBuffering","isPlaying","repeatType","setRepeatType","shuffle","setShuffle","screen","prevSong","usePrevious","setRadioOn","_callee4","_args4","_context4","play","openQueue","currentTime","nextIndex","found","nowIndex","nextSong","findNextIndex","addToRecentlyPlayed","prevIndex","previousIndex","previousSong","findPreviousIndex","volumeinput","background","volume","volumechange","progressinput","innerText","progresschange","blur","metadata","waiting","timeupdate","from","activeElement","buffered","end","canplay","ended","onpaused","_callee5","_context5","onplaying","_x3","onkeydown","keyCode","onkeyup","shouldRemove","titleExistsInCurrent","titleExistsInPrev","navigator","mediaSession","MediaMetadata","artist","artwork","connection","downlink","rType","oldDuration","oldTime","preload","setUp","defaultValue","disabled","previous","backgroundImage","Placeholder","backgroundSize","opacity","shuffleon","shuffleoff","dummyQueue","shuffled","rand","random","randomize","noRepeat","repeat","repeatOne","downArrow","upArrow","Opener","opener","_openerDetails$data","menu","FullScreen","requestFullscreen","join","lessen","MiniPlayer","anim","ResponseBar","obj","setObj","ProfileOpener","email","_callee8","_context8","success","clear","only","handle","_callee9","_context9","_x4","Home","profileOpen","homepage_Opener","homepage_ProfileOpener","homepage_MiniPlayer","homepage_ResponseBar","homepage_FullScreen","mainpanel","homepage_Player","intervalTimeout","App","protocol","keyDown","check","react_router_dom","exact","component","Opening","ReactDOM","render","src_App","getElementById"],"mappings":"gFAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+FCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAA,46CCAAD,EAAAC,QAAA,6TCAAD,EAAAC,QAAA,0wJCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAA,g6BCAAD,EAAAC,QAAA,k+CCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,iECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,kHCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,gECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAA,stBCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4KCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB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","file":"static/js/main.78c34c3e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/playbutton-white.b6d65ce2.svg\";","module.exports = __webpack_public_path__ + \"static/media/pausebutton-white.8644a3c8.svg\";","module.exports = __webpack_public_path__ + \"static/media/placeholder.0ad1e255.svg\";","module.exports = __webpack_public_path__ + \"static/media/deletewhite.3c9459dc.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAD1klEQVR4nO3dT6hVVRTH8e+qkAb9G1iNEhpFRY3CqEmRQhCOG+bMRqFBEVSDiqAHFSERFIQDo0k5U0F5lIEYJaIFlYIQoSkULwl6ST7s/RrsNt56713PPf/W+bM+83v22muxz75n3333gRBCCCGEEEKYkaR5Sfd6xzFaSpYkfSBpvXc8o6P/+k3SdknXesc1GlrdD5Ie945tFNYoQLZX0p3eMQ7aVQogSZck7ZR0o3esg1SgANk5SdskXeMd86DMUIDsqKSHveMejBIFkKRlSZ9I2uAdf++VLEC2KOkVSdd796O3KhYgOyPpKe++9FJNBcg+l3S/d596peYCSNLfknZLus27b73QQAGyC5JekLTOu4+d1mABslOSnvDuZ2e1UIBsXtI93v2tW5+eSjcD3ygta9zsHUxntDgCJi1oIMveVvUCklRHICUdB3aY2WHHGCrpewGyfcAzZvaTdyCz6tMcMM0W4HtJc5Ju8A5mFkMZAZPOAS8CH5lZ12JbYYgFyI4C283sK+9AphnKLWg1G4EjSssat3sHs5Yhj4BJfwJvAW+Y2SXvYCaNpQDZaeAlM/vUO5BsbAXIPiM9P3znHciQ54BpNgEn1IHdfGMdAZMuAK8B75nZ5bYbjwJccQp41swOtNloFGClfaTnhx/baGysc8A0W4CTSsveNzXdWIyA6c4DrwIfmtlyEw1EAYo5RvraeqTuC8ctqJgHgMNqYDdfjIDZXQTeBObM7K+qF4sClHcWeNnMdle5SBSgui9I88O3ZT4cc0B1jwLHVXI3X4yAev0OzAHvmNlSkQ/ECHB2nXcAA7EMfAw8Z2a/zvLBKEB1h0iLeDEJt+wssNXMHiubfIgRUEatD2JRgOIE7CHd58/UddEoQDHHSL8RfFn3hWMOmO488DTwYBPJhxgBa1kC3iet9fzRZENRgJVa/UkyCnDFSdL3+YNtNhpzQNqWsgO4r+3kw7hHwGVgF2mr4oJXEGMtQGxNdHIaeNLMNnch+TCeEbAIvE0Ht6cPvQB5mfh5M/vFO5jVDLkAX5Pu8/EXpZb9DGwFHup68mFYI+Ai8C7wupktegdT1FAK0Ns/ave9AL0/qqCvc8ACaflgY5+TX4smjkKZYqmtffu90WLy5yXd7d3fzmkh8XFk2TQNJj4O7SuigcTnYytv9e5bL9Sc/Di4dVY1JT6OLi6rYuLj8O6qSiY+H19/h3f8vVci+fEChzrNkPh4hUkTCiQ+XuLTpKskP15j1bQ1En9C0iPesY3C/xIfrzJs27+Jz8vEt3jHMzqS9ku6yzuOEEIIIYQQQuiLfwDf4ChbhKO4PAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAABmJLR0QA/wD/AP+gvaeTAAAAhElEQVRoge3ZQQqDMBgFYePpqvc/gek9pis3giG1IbzCfOufR2adZZEkSRoG2IHKvQpss3ZGBLUecTpm7VyVB0F0DZfS3B61c7V+c/wPDEpnUDqD0hmUzqB0BqUzKJ1B6QxKZ1A6g9IZlM6gdE+C3h03deLOb4ANOFo/BsBr1o4kSVK/Dwsm89L0kt3xAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/homewhite.89959d04.svg\";","module.exports = __webpack_public_path__ + \"static/media/searchwhite.13de67fa.svg\";","module.exports = __webpack_public_path__ + \"static/media/librarywhite.0820be59.svg\";","module.exports = __webpack_public_path__ + \"static/media/radio2.bbfc4ef5.svg\";","module.exports = __webpack_public_path__ + \"static/media/expand-white.290ea1b7.svg\";","module.exports = __webpack_public_path__ + \"static/media/searchicon.5dfa3d28.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAACTklEQVR4nO3cu24TQRhA4QOmoYUXyaUi9IFAB0IUXEvuICrutDwHEvASvALiRQAJGiJICEWyimPPJBvvzszGcz7JTeR4/+jISdY7syBJkiRJkiRJkiRJkiRJkjSvRsB74FrpQVpYAD4Dp0sPksoI+AhsARsMO8oi8I3tWb8yp1GaGM3jL3C16ERhy8AP9s76BThZcqgULgN/2PuDbgDXSw41YfydMf54W3KolC4RjnKj5FA7FoHvVBSjEYtys+BMS4RjvCk4U1YXgXWmo9wqMEv1MRqhKJvkjWKMCbEotzMcOxbjdYZjD9oFpqP8A+4kPOYyxthXLMrdBMcKnWcYIyBHlFiMVz0eY66sEY5yr4fXNsaMUkSJxXjZadKKrAG/mY5yf4bXOgP8xBidxaI8OMRrGKNn5wlHedjie1cIx3iRZNKKzBLFGInFojwKPHcF+IUxkotFeTz2nFiM51knrcg5wlGeAGcxRhGx/74mv7YFPC00Y3VC75TJx7Ni01VqlXiUIxvjeOkBOjhWegDtavMryz/mmfhHfUD2OxfxHCSzNmfrfmSSyWE/OjFKQn64OCBdrol4LaRnfVw1NEpPYtfVZ7mE6+KGjnIucjDKAWJrs1wGVECuhXIuIW0htOg61fpeF1kfoMQKeKNElNwj4t6QCUPYRWWUHUPaZ1jtZs/GEHfiVhsltld9KNuiq9qjfpRvHPCu5FCpeGuNgRkBH9h9Zwz55jMLVHDzGYATwCfgSulBWlhi+/ZMp0oPIkmSJEmSJEmSJEmSJEmSlMZ/dtrmNM605u0AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAD/klEQVR4nO2bS4sVRxiG++ioJN4ToyYLXXgZREmI96jEVcjKvzCbCAoK/gX/giAo6kb/wmAIgYgiXnESQza6UUlUchuNongdnyzqNOfoHHv6UtVf9Tnvszm7/r56T/db1V31JokQQgghhBBCCCGEED0A1gOXgM3WvcQG8AVwLpg2wDTgIo4J4BSwKEixBgEsAA4Br9raXAWmhSi0m8mMAweCFIwcoAWMAH/20OU738U+Av7uUSjlGrDFa9GIAb4ELmToMe7VHYCjGcVSUlv6xFvhyAAW4uzmdQ49jvgquiFnwZQHOFua7qWBCKBjN38V0GGCqq6Am3gvFyjazRjwlScNzMCt/C5OMdb3cY0qNyKwt2ThlDc4W1rsUZNawM17ee0miz1lG/gY+Kdi8ZTG2BLuqR8he9FRhHHKzIvACU8NdPMzsC2Abl7AzXdlLTeL40Ub2YSbREKQ2tKSQDoWho7dhBrzBHnnQ9wjeCVQI908xNnSUGB9pxrrCP6sNosx8lgwsL+GZrq5DuyoQe93x7mJem60bvZN1dQQcLvmpsDZ0klgaQ3CL23XemMwzttM9cQT3g+zeAIcBGYGEH4IZ3n/GYyr+LwHbCTMiiAPN4BvPIr/NfCr0Vh+AbaXbbzOSaoXo8CyCsJ/irvzLOwmXWRUf/fB31thGQrbEh27eWTQb7i3fzo7YhbcBL7N0eNO4DejHsN//6LzZdDXq3pRRoHlPfr6DDu7qf9TC8W+jfvmKc6WZgEz2oN/bNBH5T2Qloc/YkOSJIeTJNla9VoluNn+HTaofTlJkv2tVmvMoPbbUG7DoqnEuw9O54SAhS2FpjknQXBnZM7b6uWVqzTtLBTZxzaawr/Eajd5AWbjViwvTKUsxiuclc631s8bwDDwo62uuTgHfG6tVzCAXcDvxiL34j7OMisvzaOHuGwptZt51rrUDrAa+MFQ/LPAOmsdzMHZ0p0ahb9HE+2GgPkA4EOcLT0PKPxLnN3MDdB/f+QDgFXA9wHEPwOsDdBvf+YDcLbk44DAXWAkQH/9nw+gY0vPSggf0m4GKx8ArAROFxD/J2BNgD4GOx+As6VbGbX/IKzdKB8AfMBkW3qBuzPnBKhnmg/YU7JwygRwjDCrpRW4/eFRYEWA6y9q9171gJryAUVA+QA7UD7ABpQPsAHlAwDlA95qSvmAsCgfgPIBuVA+oN248gHlUT4A5QO8onxAe4DKB0xG+QCUD1A+wAyUD4gDlA+IA5QPsAflA+KAuA7i5kX5AEOUDzBC+QAjlA8wFF/5gCRRPiAKaHg+oG+gYfmAvoXI8wEDAZHmAwYOIskHDDwY5QNEF9ScDxDvgcD5ACGEEEIIIYQQQgghfPM/Xz+10M7/5TQAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/blackandwhitelogo.85220a98.svg\";","module.exports = __webpack_public_path__ + \"static/media/latest-bluewhite.b3b544c8.svg\";","module.exports = __webpack_public_path__ + \"static/media/homelight.0a434760.svg\";","module.exports = __webpack_public_path__ + \"static/media/searchlight.3e4e72c1.svg\";","module.exports = __webpack_public_path__ + \"static/media/librarylight.bd340487.svg\";","module.exports = __webpack_public_path__ + \"static/media/radiolight2.bcd12ae8.svg\";","module.exports = __webpack_public_path__ + \"static/media/nextbutton-white.34bd7e24.svg\";","module.exports = __webpack_public_path__ + \"static/media/previousbutton-white.d605272d.svg\";","module.exports = __webpack_public_path__ + \"static/media/latest-whiteblack.1827c48d.svg\";","module.exports = __webpack_public_path__ + \"static/media/new-minimizeplayer-white.82e724a6.svg\";","module.exports = __webpack_public_path__ + \"static/media/playbutton-black.7bbf6f15.svg\";","module.exports = __webpack_public_path__ + \"static/media/pausebutton-black.a10520de.svg\";","module.exports = __webpack_public_path__ + \"static/media/addbutton-black.332c2ed6.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAABtUlEQVR4nO3dv0ocUQBG8YnmOVJYaBkwAX3mJFhZ2Pk4Vv6BIAoWJ4WbKgvOENh7mDm/emE/OHDvNjM7TUmSJGsFfBr13UejvtgI+AL8mqbpEXgBboCvo3dtEnABPPCv30U5sF2Mpz0x/roZvXEzZsRgd3wNu1c2Y2YMgOfRW1dvQQyAq9F7V21hjEfgZPTm1QK+sf/X1D5PwMXozatVDJFiiBRDpBgixRAphkgxRIohUgyRYogUQ6QYIsUQKYZIMUSKIVIMkWKIFEOkGCLFECmGSDFEiiFSDJFiiBRDpBgixRAphkgxRIohUgwR4Iz3x8OKYQD8LIYIcFeMjx3yXSfM/FwP6B8C8KMjSwQ4pUvdBTgH7hdEuRy9efWKIlQUoaIIFUWoKEJFESqKUFGEiiJUFKGiCBVFqChCRREqilBRhIoiVBShoggVRagoQkURKopQUYSKIlQUoaIIFUWoKEJFESqKUFGEiiLE8r9ePR29efUWRrkevXcTFhxfr8Dx6L2bMDPKG/B59NbNmHF83Y7euDm7KPueo38Bvo/et0m8v9zgendnvAG3xRAAjrrEkyTJf/kD55ddyPhrCd8AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/backbutton-909090.c160678a.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete-909090.6d980d35.svg\";","module.exports = __webpack_public_path__ + \"static/media/repeat-white.10131998.svg\";","module.exports = __webpack_public_path__ + \"static/media/repeat-one-white.730a7ffb.svg\";","module.exports = __webpack_public_path__ + \"static/media/norepeat-disabled.c1e57b0e.svg\";","module.exports = __webpack_public_path__ + \"static/media/shuffle-disabled.30593b36.svg\";","module.exports = __webpack_public_path__ + \"static/media/shuffle-enabled.6c41bc76.svg\";","module.exports = __webpack_public_path__ + \"static/media/uparrow.e137e1df.svg\";","module.exports = __webpack_public_path__ + \"static/media/downarrow.2cec847c.svg\";","module.exports = __webpack_public_path__ + \"static/media/backbutton-white.2ae7dad5.svg\";","module.exports = __webpack_public_path__ + \"static/media/tickmark.70575ee2.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAACnElEQVR4nO2aPW8TQRCG3w2kAiGB0iQdSEkMoiJxKEhMiwTiDyCo4D/w8TsAgaB0AhSAnAIhPiSooUMiBEJDSAOJEalAEQ+Fz8nKuvNt7DufE83T3N7NeOfd8+3O3mkkwzAMwzCMAIDTwEPgO/A3Oj4AKkVryxVgELhDe24Dg0VrzYWAwW/ehKK1Zk702Ps8BSaAfcAkUGuxzxStOVOAR97gagk+jz2fuV5rzJVooWsykeAz6fksx9jHgK+B0ygrloDRtPENBNyDIa/9KcHHvz4UYz8v6XBArCw5EsVtS8gN+Om1xxN8Sl77R4y9JmkpIFaWLEVxu4NGnm8yn+DzxPOpdh20nwAqLXOrBpSB/dFxvsU+XbTmzKGxyQnhZtFac4HGTvBW2uCBvUVrzRVgGpgDloE/wDdgFjhVtDbDMIxOcNv9AXBU0oykg5Lqkt465xayFtZ3ACXgdUIKfAUkbZN3PsBJ4FfKPqAOTBWtdbukTgHggKQFScPRpQ1JzyR9kTQq6Yyk5gZoRVLJObeevdSCAG54//IqMNlinwLWPJ9rRWnthJAn4L2kE9HpZefc/RifK5LuRqfvnHPlFvuApAuSRrqTuy1WJFWdc/+66gVY9/7d4QSfEc/nd4z9Usr6kRcX08YX8kGEAJ9e9JFL3JC3t8/amgJnJd2L8TnnteM+m1UjMccD4mXFB0mzXfcCXPceqVVaUh2NFOkvgle7DtpDQtPgR20tYBuSnktalDSmRhrcE9mWJR3bVWlQ2kx19ZQFpw6U03vboQDjwMuEwb8AxorW2AmdvAyNS6pIOiRpTdIb59xi1sIMwzD6DqxEpi1WIoOVyABWImMlMlYiE2O3EhlZicwOBSuRsRIZK5FpgpXIGIZhGIaxi/gPSOneBgXX7P8AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAADt0lEQVR4nO2aTWhcVRTHf+e+qVYQtaVdpDtF23yMCqU2go3FjQ0YQ9uNC12XmGjdKYhTb0jxa61TKW5E666CKWoDKrTBTczGOI/UxrqSFoy0BdFYnPeOi84zQ2aYd5O89zT0/laHuX/e/d8z790vDng8Ho/H47lVkdWIKzq33yCjIPsEtissCjINUrXSez4vk3nilIAjOrupi83vAkc6POr9KywdPSl7/s7IWyGUXETpgwfQkS7uAHh+3a4KxKQJKjq3n6bBC3wWE+/5g+hOQR8ROLOs1pGKhgO5OM2J1DcgwIxpIxY4Y6V8sKl5Fhi2Gn6q6CEAg44C09lbzYfUBCg8lsQR8Xh7VfwGyCEAQVreAKvzOyE+q+i9a7e6an6OMIPHpXehkyj1EwC2JUFA8GM7wZ9savpdt7Uq6sMFDx7gPoMOp4lcEvBbEkREu9oJbqfencQKi62K0qTAJYe+MkPgUoxMpulSPwFBphV9BsBgLPD0So1BX21aUVv2A1Z6LgL3p/X1X+CwDEqVRgKAIau1yQgmAmQ+QnsMHAOG/lUjJ/Kxmg9OG6HXNTwBOuIgrY5LeWydngrFZQ7gCktHHf7ZqrD4UgaeCmVVZwGr4T5FxwQZUHQ78KvAdATvTUj525w8ejweT26sahIEeE1/6ClhBmJ0i0GuQXTeykMX8jBXBM4JsDrXDaaq8ESb5m8iotHj8nDbs8L/GacEVDTsD2BK0bs7yK4LcsBK30xG3gohNQFWF+6CGxcUuho/1QW+BH5SeAAYZHlLfXmJUvc70v17Tn4zJ/UsEPPXi4Ikg78q6AErD84m7VbDvaBnFbYAOzYTvQC8mZPfzHE4DXI4iRV9ebxp8ABW+maOae0VgZM39XqYFQmwqiam9izIjox8O6CXDeVTViTupHI5De5MojrBF+0UhtLnSv2mGtrcGYTPCfJhel9ZIsTUAD7qpEo9DAlomiaNGF33M9aCcfDucCeoCyC7AW4jfgr4oFUVDS3raVkKDeVTUFOQclp/2aE1KH+SpnKZA04r7AZQeNtqONe81FU07Ad9a1kvp1c+o/EdfuzsvUCclkHlxjyQTGB1QaZALzbmh0FFg0bbL0uUejfSMui0EbIa7lV0Cring+x6DE9OSPm7bKwVg9ONkJW+mYjoUYGv2yv0KyHo32iDhzUdhr7fZQgeB7YCVw3Bucatr8fj8Ww4fImMi8iXyPgSGV8iA/gSGV8i40tkfImML5HxJTIp+BKZDDwVii+R8Xg8Ho/Hc8vyD3I9i0rk9GYvAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/fullscreenaquamarine.0925003b.svg\";","module.exports = __webpack_public_path__ + \"static/media/fullscreenwhite.13bfb28e.svg\";","module.exports = __webpack_public_path__ + \"static/media/innerfullaquamarine.86e946f7.svg\";","module.exports = __webpack_public_path__ + \"static/media/innerfullwhite.78d38cae.svg\";","module.exports = __webpack_public_path__ + \"static/media/volume.0128d4aa.svg\";","import { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nlet songservers = [];\r\n// let baseLink = \"\";\r\n\r\n\r\n// export const baseHeaders = {\r\n//     \"Connection\": \"Keep-Alive\",\r\n//     \"Keep-Alive\": \"timeout=20000,max=1000\"\r\n// };\r\n\r\nexport const keepServersActive = async () => {\r\n    console.log(\"activate call\");\r\n\r\n    if (songservers.length === 0) {\r\n        songservers = await axios({\r\n            method: \"GET\",\r\n            url: \"https://fervent-meninsky-931668.netlify.app/.netlify/functions/serverUrls\"\r\n        }).then(res => res.data.archives);\r\n    }\r\n\r\n    await Promise.all(\r\n        songservers.map(async (server) => {\r\n            try {\r\n                const res = await axios.get(server);\r\n                return res;\r\n            } catch(e) {\r\n                console.log(\"ERROR---------------\",e.message);\r\n                if (e) return;\r\n            }\r\n        })\r\n    );\r\n};\r\n\r\nexport const sendRequest = async config => {\r\n    let baseLink = \"http://localhost:5000\";\r\n    // const baseLink = \"https://studioserver.herokuapp.com\";\r\n    // let baseLink = \"http://192.168.29.77:5000\";\r\n    // const baseLink = \"\";\r\n\r\n    if (!baseLink) {\r\n        baseLink = await axios({\r\n            method: \"GET\",\r\n            url: \"https://fervent-meninsky-931668.netlify.app/.netlify/functions/serverUrls\"\r\n            // url: \"https://studio-urls.netlify.app/.netlify/functions/serverUrls\"\r\n        }).then(res => res.data.server);\r\n    }\r\n\r\n    const baseHeaders = {\r\n        USER: localStorage.getItem(\"userId\") || \"\"\r\n    };\r\n    let res;\r\n\r\n    try {\r\n        res = await axios({\r\n            method: config.method,\r\n            // url: `${baseLink}/api${config.endpoint}`,\r\n            url: `/api${config.endpoint}`,\r\n            data: config.data || {},\r\n            headers: baseHeaders\r\n        });\r\n        const { data } = res;\r\n        if (data.redirect) {\r\n            window.location.href = data.to;\r\n            return null;\r\n        }\r\n        return data;\r\n    } catch (e) {\r\n        console.log(\"ERROR----\",e.message);\r\n        return null;\r\n    }\r\n};\r\n\r\n\r\nconst openerConfig = {\r\n    open: false,\r\n    yValue: 0,\r\n    xValue: 0,\r\n    type: null,\r\n    data: []\r\n};\r\n\r\nconst topBarConfig = {\r\n    button: false,\r\n    buttonFunc: () => {},\r\n    title: \"\",\r\n    bgColor: \"transparent\"\r\n};\r\n\r\nconst searchConfig = {\r\n    open: false,\r\n    input: \"\",\r\n    prevTab: \"\"\r\n};\r\n\r\nconst fullScreenConfig = {\r\n    show: false\r\n}\r\n\r\nexport function Timer (delay, cb) {\r\n\r\n    let _time = delay;\r\n    let _callback = cb;\r\n\r\n    let _timeoutTimer = 0;\r\n    let _intervalTimer = 0;\r\n    let _secondsTracker = 0;\r\n    let _done = false;\r\n    let _paused = false;\r\n    let _started = false;\r\n\r\n    const _startInterval = () => {\r\n        clearInterval(_intervalTimer);\r\n        _intervalTimer = setInterval(() => {\r\n            _secondsTracker++;\r\n        },1000);\r\n    };\r\n\r\n    this.start = (t = _time) => {\r\n        _paused = false;\r\n        _started = true;\r\n        _startInterval();\r\n        clearTimeout(_timeoutTimer);\r\n        _timeoutTimer = setTimeout(() => {\r\n            _callback();\r\n            _done = true;\r\n            clearInterval(_intervalTimer);\r\n        },t*1000);\r\n    };\r\n\r\n    this.pause = () => {\r\n        _paused = true;\r\n        clearTimeout(_timeoutTimer);\r\n        clearInterval(_intervalTimer);\r\n    }\r\n\r\n    this.continue = () => {\r\n        let diff = _time - _secondsTracker < 0 ? 0 : _time - _secondsTracker;\r\n        this.start(diff);\r\n    };\r\n\r\n    this.canPause = () => {\r\n        return !_done && _started && !_paused;\r\n    };\r\n\r\n    this.canContinue = () => {\r\n        return !_done && _started && _paused;\r\n    };\r\n\r\n    this.hasStarted = () => {\r\n        return _started;\r\n    };\r\n\r\n    this.hasFinished = () => {\r\n        return this.done;\r\n    };\r\n\r\n    this.stop = () => {\r\n        clearInterval(_intervalTimer);\r\n        clearTimeout(_timeoutTimer);\r\n    };\r\n\r\n};\r\n\r\nexport const httpCheck = () => {\r\n    if (window.location.protocol !== \"https:\") {\r\n        window.location.protocol = \"https:\";\r\n    }\r\n};\r\n\r\nexport const wait = time => {\r\n    return new Promise((resolve,) => {\r\n        setTimeout(resolve, time);\r\n    });\r\n};\r\n\r\nexport const checkX = (cursorX, sWidth) => {\r\n    const atRight = (cursorX + 250 + 5) < sWidth;\r\n    if (atRight) {\r\n        return cursorX + 5;\r\n    }\r\n    return cursorX - 250 - 5;\r\n};\r\n\r\nexport const checkY = (cursorY, sHeight, num) => {\r\n    const heightOfBody = (50 * num) + 10;\r\n    const atBottom = (heightOfBody + cursorY + 5) < sHeight;\r\n    if (atBottom) {\r\n        return cursorY + 5;\r\n    }\r\n    return cursorY - heightOfBody - 5;\r\n};\r\n\r\nexport const modifyLibrary = (res, decidingNumber) => {\r\n    for (let key in res) {\r\n        if (res[key].length < decidingNumber) {\r\n            const arr = res[key];\r\n            const times = decidingNumber - arr.length;\r\n            for (let i=1;i<=times; i++) {\r\n                res[key].push({});\r\n            }\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\nexport const convertTime = time => {\r\n    let total = Math.floor(time);\r\n    let min = total/60;\r\n    let secs;\r\n    let arr = min.toString().split(\".\");\r\n    if (arr.length < 2) {\r\n        min = arr[0];\r\n        secs = \"00\";\r\n        return `${min}: ${secs}`;\r\n    } else {\r\n        min = arr[0];\r\n        secs = total - (min*60);\r\n        return `${min}: ${secs < 10 ? \"0\" : \"\"}${secs}`;\r\n    }\r\n};\r\n\r\nexport const checkArtist = async (artist,e,type) => {\r\n    return;\r\n    if (artist === \"Various Artists\") return;\r\n    if (e.target.className !== \"artistpara\" && type === \"artist\") return; \r\n    if (e.target.className !== \"albumartistname\" && type === \"albumartist\") return; \r\n    let res = await sendRequest({\r\n        method: \"POST\",\r\n        endpoint: `/checkArtist`,\r\n        data: {\r\n            name: artist\r\n        }\r\n    });\r\n    if (e.target.className !== \"artistpara-true\" && e.target.className !== \"artistpara-false\" && type === \"artist\") {\r\n        if (res.available) {\r\n            e.target.className = \"artistpara-true\";\r\n        } else {\r\n            e.target.className = \"artistpara-false\";\r\n        }\r\n        return;\r\n    }\r\n    if (e.target.className !== \"albumartistname-true\" && e.target.className !== \"albumartistname-false\" && type === \"albumartist\") {\r\n        if (res.status === 200 && res.data.available) {\r\n            e.target.className = \"albumartistname-true\";\r\n        } else {\r\n            e.target.className = \"albumartistname-false\";\r\n        }\r\n    }\r\n};\r\n\r\nfunction createGlobalState(initialValue) {\r\n    this.value = initialValue;\r\n    this.subscribers = [];\r\n\r\n    this.getValue = function() {\r\n        return this.value;\r\n    }\r\n\r\n    this.setValue = function(newState) {\r\n        if (this.getValue() === newState) {\r\n            return\r\n        }\r\n        this.value = newState;\r\n        this.subscribers.forEach(subscriber => {\r\n            subscriber(this.value);\r\n        });\r\n    }\r\n\r\n    this.subscribe = function(itemToSubscribe) {\r\n        if (this.subscribers.indexOf(itemToSubscribe) !== -1) {\r\n            return\r\n        }\r\n        this.subscribers.push(itemToSubscribe);\r\n    }\r\n\r\n    this.unsubscribe = function(itemToUnsubscribe) {\r\n        this.subscribers = this.subscribers.filter(\r\n            subscriber => subscriber !== itemToUnsubscribe\r\n        );\r\n    }\r\n};\r\n\r\nexport const CustomUseState = globalState => {\r\n    let [, setState] = useState();\r\n    const state = globalState.getValue();\r\n\r\n    function reRender(newState) {\r\n        setState({});\r\n    }\r\n\r\n    useEffect(() => {\r\n        globalState.subscribe(reRender);\r\n        return () => {\r\n            globalState.unsubscribe(reRender);\r\n        }\r\n    })\r\n\r\n    function setNewState(newState) {\r\n        globalState.setValue(newState);\r\n    }\r\n\r\n    return [state, setNewState];\r\n};\r\n\r\nexport const usePrevious = value => {\r\n    const ref = useRef({});\r\n    useEffect(() => {\r\n        ref.current = value;\r\n    });\r\n    return ref.current;\r\n}\r\n\r\nexport let playingGlobal = new createGlobalState(false);\r\nexport let colorGlobal = new createGlobalState(\"\");\r\nexport let tabGlobal = new createGlobalState(\"Home\");\r\nexport let routesGlobal = new createGlobalState([\"/home/homescreen\"]);\r\n// export let keepButtonGlobal = new createGlobalState(false);\r\n// export let onClickFuncGlobal = new createGlobalState(() => {});\r\n// export let topTitleGlobal = new createGlobalState(\"\");\r\n// export let topBgColor = new createGlobalState(\"transparent\");\r\nexport let topBarGlobal = new createGlobalState(topBarConfig);\r\nexport let searchBarGlobal = new createGlobalState(searchConfig);\r\nexport let searchInputGlobal = new createGlobalState(\"\");\r\nexport let fullScreenGlobal = new createGlobalState(fullScreenConfig);\r\nexport let albumGlobal = new createGlobalState({});\r\nexport let queueGlobal = new createGlobalState([]);\r\nexport let queueOpenedGlobal = new createGlobalState(\"\");\r\nexport let songIsPausedGlobal = new createGlobalState(false);\r\nexport let repeatTypeGlobal = new createGlobalState(0);\r\nexport let radioGlobal = new createGlobalState(false);\r\nexport let justOpened = new createGlobalState(true);\r\nexport let openerGlobal = new createGlobalState(openerConfig);\r\nexport let profileOpener = new createGlobalState(false);\r\nexport let homeClass = new createGlobalState(\"homemain start\");\r\nexport let responseBar = new createGlobalState({ open: \"\", msg: \"\" });\r\nexport let miniPlayerGlobal = new createGlobalState(false);\r\nexport let topBgColorGlobal = new createGlobalState(\"#202020\");\r\nexport let lyricsGlobal = new createGlobalState([]);\r\nexport let lyricTextGlobal = new createGlobalState({});\r\nexport const global = {};\r\n\r\n// export const prefix = \"/player\";\r\nexport const prefix = \"\";","import \"../../../css/queuestyles.css\";\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport Close from \"../../../assets/deletewhite.svg\";\r\nimport Placeholder from \"../../../assets/placeholder.svg\";\r\nimport Play from \"../../../assets/playbutton-white.svg\";\r\nimport Pause from \"../../../assets/pausebutton-white.svg\";\r\nimport Expand from \"../../../assets/expand-white.svg\";\r\n// import Expand from \"../../../assets/fullscreen.png\";\r\nimport Minimize from \"../../../assets/new-minimizeplayer-white.svg\";\r\nimport { MidPanelLoader } from \"./index\";\r\nimport { pauseOrPlay } from \"../../index\";\r\nimport {\r\n    CustomUseState,\r\n    queueGlobal,\r\n    queueOpenedGlobal,\r\n    songIsPausedGlobal,\r\n    albumGlobal,\r\n    responseBar,\r\n    openerGlobal,\r\n    playingGlobal,\r\n    topBarGlobal,\r\n    miniPlayerGlobal,\r\n    checkX,\r\n    checkY,\r\n    prefix,\r\n    global,\r\n    lyricsGlobal,\r\n    sendRequest,\r\n    lyricTextGlobal\r\n} from \"../../../common\";\r\nimport Button from \"../../../Button\";\r\nlet finalQueue = [], queueLength, songIndex, smallArr;\r\nlet actualQueue, firstpart, lastpart, topBar, miniLocal, isOpen, scrollInterval = null;\r\n\r\n\r\nconst Loader = () => {\r\n    return(\r\n        <div className=\"fullcover\">\r\n            <div className=\"bufferloader\"/>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst SongInQueue = ({ nowPlaying = false, songIsPaused = null, song, number = null, openerFunc }) => {\r\n    const [hovered, setHovered] = useState(false);\r\n    const [,setPlayingSong] = CustomUseState(albumGlobal);\r\n    const [,setSongIsPaused] = CustomUseState(songIsPausedGlobal);\r\n\r\n    const mouseOver = e => {\r\n        setHovered(true);\r\n    };\r\n\r\n    const mouseOut = e => {\r\n        setHovered(false);\r\n    };\r\n\r\n    const setSong = () => {\r\n        if (nowPlaying) {\r\n            return;\r\n        }\r\n        setPlayingSong(song);\r\n        setSongIsPaused(true);\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        openerFunc(e, { dimensions, windowDim, song });\r\n    };\r\n\r\n    return(\r\n        <div className=\"nowplaying\" style={{\r\n            marginTop: `${ nowPlaying ? \"10px\" : \"\" }`,\r\n            marginBottom: `${ nowPlaying ? \"30px\" : \"\" }`,\r\n            borderBottom: `${ nowPlaying ? \"\" : \"1px solid rgba(255,255,255,0.1)\" }`\r\n        }} onMouseOver={mouseOver} onMouseOut={mouseOut}>\r\n            <div className=\"innernowplaying\"\r\n            style={{ backgroundColor: `${ nowPlaying || hovered ? \"#202020\" : \"\" }` }}\r\n            onClick={setSong}\r\n            >\r\n                {\r\n                    nowPlaying ?\r\n                    <div className=\"firstpartifnowplaying\">\r\n                        {\r\n                            !songIsPaused ?\r\n                            <div className=\"playinganim\">\r\n                                <div className=\"div1\"></div>\r\n                                <div className=\"div2\"></div>\r\n                                <div className=\"div3\"></div>\r\n                                <div className=\"div4\"></div>\r\n                            </div> : \r\n                            <div className=\"pausedanim\">\r\n                                <div className=\"div5\"></div>\r\n                                <div className=\"div6\"></div>\r\n                                <div className=\"div7\"></div>\r\n                                <div className=\"div8\"></div>\r\n                            </div>\r\n                        }\r\n                    </div> :\r\n                    <div className=\"firstpart\">{number}</div>\r\n                }\r\n                <div className=\"nowplayingart\">\r\n                    <img src={song.Thumbnail} alt=\"\"/>\r\n                </div>\r\n                <div className=\"queuesongdetails\">\r\n                    <div className=\"startingpart\">\r\n                        <div className=\"playingsongname\"\r\n                        style={{ color: `${ nowPlaying ? \"white\" : \"white\" }` }}>{song.Title || song.Album}</div>\r\n                        <div className=\"playingsongartist\">{song.Artist}</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"lastpart\">\r\n                    <div className={ hovered ? \"openercontrol\" : \"openercontrol hidden\" } style={{marginLeft: \"0px\"}}\r\n                    onClick={handleMenu}>\r\n                        <div className=\"opener1\"></div>\r\n                        <div className=\"opener2\"></div>\r\n                        <div className=\"opener3\"></div>\r\n                    </div>\r\n                    { hovered ? \"\" : song.Duration }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst EachLyric = ({ each, lyricText }) => {\r\n    return(\r\n        <div className={`each-lyric ${each.key === lyricText.key ? \"activetext\" : \"\"}`}>\r\n            {each.text}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst LyricsPart = ({ song, lyricsLoading, lyrics, lyricText, setTab }) => {\r\n    const lyricsContainer = useRef(null);\r\n    const activeLyrics = useRef(null);\r\n\r\n    useEffect(() => {\r\n        console.log(\"lyrics\",lyrics.length);\r\n        if (lyrics.length === 0) setTab(1);\r\n    }, [song, lyrics]);\r\n\r\n    useEffect(() => {\r\n        lyricsContainer.current = document.querySelector(\".lyrics-part\");\r\n        activeLyrics.current = document.querySelector(\".each-lyric.activetext\");\r\n        if (lyricsContainer.current && activeLyrics.current) {\r\n            lyricsContainer.current.scroll({ top: activeLyrics.current.offsetTop - 200, behavior: \"smooth\" });\r\n        }\r\n    }, [song, lyricText]);\r\n\r\n    if (lyricsLoading) {\r\n        return <Loader/>;\r\n    }\r\n    return(\r\n        <div className=\"lyrics-part\">\r\n            {\r\n                lyrics.length === 0 ? \r\n                <div className=\"no-lyrics\">No lyrics found!</div> : null\r\n            }\r\n            {\r\n                lyrics.map(each => {\r\n                    return <EachLyric each={each} lyricText={lyricText} />;\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst EachSong = ({ index, i, queue, each, songIsPaused, setSongIsPaused, setSong, openerFunc }) => {\r\n    const [hovered, setHovered] = useState(false);\r\n\r\n    const handleMouse = e => e.stopPropagation();\r\n    const mouseover = e => setHovered(true);\r\n    const mouseout = e => setHovered(false);\r\n\r\n    const playThis = e => {\r\n        e.stopPropagation();\r\n        setSong(each);\r\n        setSongIsPaused(true);\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        openerFunc(e, { dimensions, windowDim, song: each });\r\n    };\r\n\r\n    const mousedown = e => {\r\n        const element = e.currentTarget;\r\n        global.selectedElement = element;\r\n        global.selectedSong = each;\r\n        global.selectedSongIndex = queue.indexOf(each);\r\n        global.containerDimensions = document.querySelector(\".tab-container\").getBoundingClientRect();\r\n        element.classList.add(\"absolute\");\r\n    };\r\n\r\n    const mouseup = e => {};\r\n\r\n    if (Object.keys(each).length === 1) {\r\n        return(\r\n            <div className=\"each-song\"></div>\r\n        );\r\n    }\r\n    return(\r\n        <div className={`each-song${index === i ? \" active-song\" : \"\"}`} title={each.Title || each.Album} onMouseDown={mousedown}\r\n        onMouseUp={mouseup} onMouseOver={mouseover} onMouseOut={mouseout} style={{ marginBottom: `${ i+1 === queue.length ? \"10px\" : \"\" }` }}>\r\n            <div className=\"song-album\" onMouseDown={handleMouse} onMouseUp={handleMouse}>\r\n                <img className=\"song-album-img\" src={each.Thumbnail} alt=\"\" />\r\n                {\r\n                    index !== i ?\r\n                        <div className=\"song-album-cover-hidden\">\r\n                            <img src={Play} className=\"song-album-cover-img\" title=\"Play\" alt=\"\" onClick={playThis} />\r\n                        </div> : \r\n                        <div className=\"song-album-cover-hidden\">\r\n                            {\r\n                                !songIsPaused ?\r\n                                <img src={Pause} className=\"song-album-cover-img\" title=\"Pause\" alt=\"\" onClick={pauseOrPlay} /> : \r\n                                <img src={Play} className=\"song-album-cover-img\" title=\"Play\" alt=\"\" onClick={pauseOrPlay} />\r\n                            }\r\n                        </div>\r\n                }\r\n                {\r\n                    index === i && !hovered ?\r\n                        <div className=\"song-album-cover\">\r\n                            {\r\n                                !songIsPaused ?\r\n                                <div className=\"playinganim\">\r\n                                    <div className=\"div1\"></div>\r\n                                    <div className=\"div2\"></div>\r\n                                    <div className=\"div3\"></div>\r\n                                    <div className=\"div4\"></div>\r\n                                </div> : \r\n                                <div className=\"pausedanim\">\r\n                                    <div className=\"div5\"></div>\r\n                                    <div className=\"div6\"></div>\r\n                                    <div className=\"div7\"></div>\r\n                                    <div className=\"div8\"></div>\r\n                                </div> \r\n                            }\r\n                        </div> : null\r\n                }\r\n            </div>\r\n            <div className=\"song-body\">\r\n                <div className=\"song-body-upper\">\r\n                    <div>{each.Title || each.Album}</div>\r\n                </div>\r\n                <div className=\"song-body-lower\">\r\n                    <div>{each.Artist}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"song-options\" onMouseDown={handleMouse} onMouseUp={handleMouse}>\r\n                <div className={ hovered ? \"openercontrol\" : \"openercontrol hidden\" } style={{marginLeft: \"0px\"}}\r\n                onClick={handleMenu} title=\"More Options\">\r\n                    <div className=\"opener1\"></div>\r\n                    <div className=\"opener2\"></div>\r\n                    <div className=\"opener3\"></div>\r\n                </div>\r\n                { hovered ? null : each.Duration }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewRightQueue = ({ song, songIsPaused, setSongIsPaused, setSong, openerFunc }) => {\r\n    const [queue, setQueue] = CustomUseState(queueGlobal);\r\n    const [showScroll, setShowScroll] = useState(false);\r\n    const [position, setPosition] = useState({ show: false, top: 0 });\r\n    const [selected, setSelected] = useState(false);\r\n    // const index = queue.indexOf(song);\r\n    const index = queue.findIndex(each => {\r\n        return each.id === song.id;\r\n    });\r\n    const container = useRef(null);\r\n    actualQueue = queue;\r\n\r\n    const mouseover = e => setShowScroll(true);\r\n    const mouseout = e => setShowScroll(false);\r\n\r\n    const mousedown = e => {\r\n        if (global.selectedElement) {\r\n            setSelected(true);\r\n            const top = (e.clientY - global.containerDimensions.top) + (global.scrolled || 0);\r\n            global.selectedElement.style.top = top + \"px\";\r\n            const nearest = Math.floor(top / 60);\r\n            setPosition({ ...position, show: true, top: nearest * 60 });\r\n\r\n            // const { selectedSong } = global;\r\n            // const index = actualQueue.indexOf(selectedSong);\r\n            // actualQueue.splice(index+1,0,{ id: index });\r\n            // setQueue(actualQueue);\r\n        }\r\n    };\r\n\r\n    const mouseup = e => {\r\n        if (global.selectedElement) {\r\n            setPosition({ ...position, show: false });\r\n            setSelected(false);\r\n\r\n            const nearestIndex = Math.floor(position.top / 60);\r\n            actualQueue.splice(global.selectedSongIndex, 1);\r\n            actualQueue.splice(nearestIndex, 0, global.selectedSong);\r\n\r\n            // const index = actualQueue.findIndex(each => {\r\n            //     if (Object.keys(each).length === 1) {\r\n            //         return true;\r\n            //     }\r\n            //     return false;\r\n            // });\r\n            // actualQueue.splice(index,1);\r\n\r\n            setQueue(actualQueue);\r\n\r\n            global.selectedElement.classList.remove(\"absolute\");\r\n            global.selectedElement = null;\r\n            global.selectedSongIndex = null;\r\n            global.selectedSong = null;\r\n        }\r\n    };\r\n\r\n    const keepScrollDown = () => {\r\n        scrollInterval = setInterval(() => {\r\n            container.current && container.current.scrollTop++;\r\n            global.selectedElement.style.top = (1+parseFloat(global.selectedElement.style.top.slice(0,-2))) + \"px\";\r\n        },5);\r\n    };\r\n\r\n    const mousemove = e => {\r\n        if (global.selectedElement) {\r\n            const top = (e.clientY - global.containerDimensions.top) + (global.scrolled || 0);\r\n            global.selectedElement.style.top = top + \"px\";\r\n            const nearest = Math.floor(top / 60);\r\n            setPosition({ ...position, top: nearest * 60 });\r\n            // if (e.clientY > global.containerDimensions.bottom - 100) {\r\n            //     !scrollInterval && keepScrollDown();\r\n            // }\r\n            // if (e.clientY < global.containerDimensions.bottom - 100) {\r\n            //     clearInterval(scrollInterval);\r\n            //     scrollInterval = null;\r\n            // }\r\n        }\r\n    };\r\n\r\n    const scroll = e => {\r\n        global.scrolled = e.target.scrollTop;\r\n    };\r\n\r\n    const flush = () => {\r\n        const index = actualQueue.findIndex(each => {\r\n            if (Object.keys(each).length === 1) {\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        if (index !== -1) {\r\n            actualQueue.splice(index,1);\r\n            setQueue(actualQueue);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // flush();\r\n        global.activeSong = document.querySelector(\".each-song.active-song\");\r\n        container.current = document.querySelector(\".tab-container\");\r\n        if (global.activeSong && container.current && !global.selectedElement) {\r\n            container.current.scroll({ top: global.activeSong.offsetTop, behavior: \"smooth\" });\r\n        }\r\n    }, [song, queue]);\r\n\r\n    return(\r\n        <div className={`tab-container${showScroll ? \" show\" : \"\"}`}\r\n        onMouseOver={mouseover}\r\n        onMouseOut={mouseout}\r\n        onMouseMove={mousemove}\r\n        onScroll={scroll}\r\n        onMouseDown={mousedown}\r\n        onMouseUp={mouseup}\r\n        >\r\n            {\r\n                queue.map((each,i) => {\r\n                    return <EachSong index={index} i={i} each={each} queue={queue} songIsPaused={songIsPaused} setSongIsPaused={setSongIsPaused}\r\n                    setSong={setSong} openerFunc={openerFunc} />;\r\n                })\r\n            }\r\n            {\r\n                selected ?\r\n                <div style={\r\n                    { width: \"100%\", position: \"absolute\",\r\n                      height: `100%`,\r\n                      top: `${global.scrolled || 0}px`,\r\n                      left: \"0\", backgroundColor: \"rgba(0,0,0,0.5)\", zIndex: \"50\" }\r\n                } ></div> :\r\n                null\r\n            }\r\n            { \r\n                position.show ?\r\n                <div style={\r\n                    { width: \"50px\", height: \"4px\", position: \"absolute\", left: \"calc((100% - 50px)/2)\", zIndex: \"100\",\r\n                        top: `${position.top}px`, backgroundColor: \"gray\", borderRadius: \"5px\" }\r\n                }></div> :\r\n                null\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Queue = () => {\r\n    const [tab, setTab] = useState(1);\r\n    const [queueOpened, setQueueOpened] = CustomUseState(queueOpenedGlobal);\r\n    const [,setPlaying] = CustomUseState(playingGlobal);\r\n    const [songIsPaused, setSongIsPaused] = CustomUseState(songIsPausedGlobal);\r\n    const [song, setSong] = CustomUseState(albumGlobal);\r\n    const [queue, setQueue] = CustomUseState(queueGlobal);\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    const [update, setUpdate] = useState(true);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [,setResBar] = CustomUseState(responseBar);\r\n    const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [mini, setMini] = CustomUseState(miniPlayerGlobal);\r\n    const [lyrics, setLyrics] = CustomUseState(lyricsGlobal);\r\n    const [lyricText, setLyricText] = CustomUseState(lyricTextGlobal);\r\n    const [lyricsLoading, setLyricsLoading] = useState(false);\r\n    // const [redirectTo, setRedirectTo] = useState(\"\");\r\n    // const [routes, setRoutes] = CustomUseState(routesGlobal);\r\n    actualQueue = queue;\r\n    topBar = topBarConfig;\r\n    queueLength = queue.length;\r\n    songIndex = actualQueue.indexOf(song);\r\n    firstpart = actualQueue.slice(0,songIndex);\r\n    lastpart = actualQueue.slice(songIndex+1,queueLength);\r\n    miniLocal = mini;\r\n    isOpen = openerDetails.open;\r\n    const sDiv = useRef(null);\r\n    const hist = useHistory();\r\n\r\n\r\n    const clearQueue = (e) => {\r\n        e.stopPropagation();\r\n        const index = actualQueue.indexOf(song);\r\n        actualQueue = [actualQueue[index]];\r\n        localStorage.setItem(\"queue\",JSON.stringify(actualQueue));\r\n        setQueue(actualQueue);\r\n        setResBar({ open: true, msg: \"Queue cleared\" });\r\n        setUpdate(!update);\r\n    };\r\n\r\n    const goToAlbum = each => {\r\n        setQueueOpened(false);\r\n        // routes.push(`/home/album/${each.Album}`);\r\n        // setRoutes(routes);\r\n        hist.push(`${prefix}/home/album/${each.Album}`);\r\n        // setRedirectTo(`${each.Album}`);\r\n    };\r\n    \r\n    const initial = () => {\r\n        finalQueue = [];\r\n        if (queueLength === 1) {\r\n            return;\r\n        }\r\n        songIndex = queue.indexOf(song);\r\n        if (songIndex === 0) {\r\n            finalQueue = queue.slice(1,queueLength);\r\n            return;\r\n        }\r\n        if (songIndex === queueLength-1) {\r\n            finalQueue = queue.slice(0,queueLength-1);\r\n            return;\r\n        }\r\n        finalQueue = queue.slice(songIndex+1,queueLength);\r\n        smallArr = queue.slice(0,songIndex);\r\n        smallArr.forEach(each => {\r\n            finalQueue.push(each);\r\n        });\r\n        return;\r\n    };\r\n\r\n    const close = () => {\r\n        setTopBarConfig({\r\n            ...topBar,\r\n            button: false\r\n        });\r\n        setQueueOpened(false);\r\n    };\r\n\r\n    const removeSong = each => {\r\n        // const removeIndex = actualQueue.indexOf(each);\r\n        const removeIndex = actualQueue.findIndex(song => {\r\n            return song.id === each.id;\r\n        });\r\n        if (removeIndex !== -1) {\r\n            if (actualQueue.length === 1) {\r\n                setSong({});\r\n                return;\r\n            }\r\n            actualQueue.splice(removeIndex, 1);\r\n            localStorage.setItem(\"queue\",JSON.stringify(actualQueue));\r\n            setQueue(actualQueue);\r\n            setUpdate(!update);\r\n            setResBar({\r\n                open: true,\r\n                msg: `Removed ${each.Title || each.Album} from queue`\r\n            });\r\n            if (each.id === song.id) {\r\n                const index = removeIndex === actualQueue.length ? 0 : removeIndex;\r\n                setSong(actualQueue[index]);\r\n                setSongIsPaused(true);\r\n            }\r\n        }\r\n    };\r\n\r\n    const albumName = () => {\r\n        if (actualQueue.length === 0) {\r\n            return \"\";\r\n        }\r\n        const index = songIndex+1 < actualQueue.length ? songIndex+1 : 0;\r\n        return actualQueue[index].Album;\r\n    };\r\n\r\n    const lessen = (num) => {\r\n        if (song.Color) {\r\n            let color = song.Color.split(\",\");\r\n            color[3] = `${num})`;\r\n            color = color.join(\",\");\r\n            return color;\r\n        }\r\n    };\r\n\r\n    const minimizer = () => {\r\n        setMini({\r\n            ...miniLocal,\r\n            show: true,\r\n            cover: song.Thumbnail\r\n        });\r\n        setQueueOpened(false);\r\n    };\r\n\r\n    const handleMenu = (e, { dimensions, windowDim, song: selectedSong }) => {\r\n        e.stopPropagation();\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: true,\r\n            xValue: checkX(dimensions.x, windowDim.width),\r\n            yValue: checkY(dimensions.y, windowDim.height, 2),\r\n            data: [\r\n                {\r\n                    name: \"Remove\",\r\n                    func: () => removeSong(selectedSong)\r\n                },\r\n                {\r\n                    name: \"Go to album\",\r\n                    func: () => goToAlbum(selectedSong)\r\n                }\r\n            ]\r\n        });\r\n    };\r\n\r\n    const handlePlayingMenu = (e, { dimensions, windowDim, song: selectedSong }) => {\r\n        e.stopPropagation();\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: true,\r\n            xValue: checkX(dimensions.x, windowDim.width),\r\n            yValue: checkY(dimensions.y, windowDim.height, 1),\r\n            data: [\r\n                {\r\n                    name: \"Go to album\",\r\n                    func: () => goToAlbum(selectedSong)\r\n                }\r\n            ]\r\n        });\r\n    };\r\n\r\n    const documentClick = e => {\r\n        const list = [\"openercontrol\",\"opener1\",\"opener2\",\"opener3\"];\r\n        if (!list.includes(e.target.className)) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    const documentScroll = e => {\r\n        if (isOpen) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    const call = async () => {\r\n        if (!lyricsLoading) setLyricsLoading(true);\r\n        const res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: `/getLyrics?name=${song.Title || song.Album}`\r\n        });\r\n        console.log(\"res\",res);\r\n        setLyricsLoading(false);\r\n        setLyrics(res);\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        call();\r\n    }, [song]);\r\n\r\n    useEffect(() => {\r\n        setIsLoading(false);\r\n        sDiv.current = document.querySelector(\".scrollcontainer\");\r\n        document.addEventListener(\"click\",documentClick);\r\n        sDiv.current && sDiv.current.addEventListener(\"scroll\",documentScroll);\r\n        return () => {\r\n            document.removeEventListener(\"click\",documentClick);\r\n            sDiv.current && sDiv.current.removeEventListener(\"scroll\",documentScroll);\r\n        };\r\n    }, [update,queue]);\r\n\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        // <div className={ queueOpened ? \"bottomqueue up\" : queueOpened !== \"\" ? \"bottomqueue down\" : \"bottomqueue start\" }>\r\n        <div className={ queueOpened ? \"bottomqueue show\" : queueOpened !== \"\" ? \"bottomqueue hide\" : \"bottomqueue stay\" }>\r\n        {/* <div className=\"bottomqueue\"> */}\r\n            <div className=\"innerbottomqueue\">\r\n                <div className=\"leftqueuepart\">\r\n                    <div className=\"leftalbumartcover-container\">\r\n                        <div className=\"leftalbumartcover\">\r\n                            <div className=\"dummyforshadow\"></div>\r\n                            <img className=\"expander\" src={Expand} alt=\"\" />\r\n                            <img className=\"minimizer\" onClick={minimizer} src={Minimize} alt=\"\" title=\"Minimize Player\" />\r\n                            <img src={song.Thumbnail} alt=\"\" className=\"leftqueuealbumart\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"new-right-queue\">\r\n                    <div className=\"right-inner-queue\">\r\n                        <div className=\"tab-bar\">\r\n                            <Button className={`each-tab ${tab === 1 ? \"active-tab\" : \"\"}`} onClick={() => setTab(1)}>UP NEXT</Button>\r\n                            {\r\n                                lyrics.length !== 0 && !lyricsLoading ?\r\n                                <Button className={`each-tab ${tab === 2 ? \"active-tab\" : \"\"}`} onClick={() => setTab(2)}>LYRICS</Button> :\r\n                                <div className=\"each-tab light\">LYRICS</div>\r\n                            }\r\n                        </div>\r\n                        { tab === 1 ?\r\n                            <NewRightQueue song={song} songIsPaused={songIsPaused} setSongIsPaused={setSongIsPaused} setSong={setSong}\r\n                            openerFunc={handleMenu} /> : null\r\n                        }\r\n                        { tab === 2 ?\r\n                            <LyricsPart song={song} lyricsLoading={lyricsLoading} lyrics={lyrics} lyricText={lyricText}\r\n                            setLyricText={setLyricText} setTab={setTab} /> : null \r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n                {/* <div className=\"rightqueuepart\">\r\n                    <div className=\"innerrightqueue\">\r\n                        <div className=\"nowplayingtitle\">Now Playing</div>\r\n                        <SongInQueue nowPlaying={true} songIsPaused={songIsPaused} song={song} openerFunc={handlePlayingMenu} />\r\n                        { actualQueue.length !== 1 ?\r\n                            <div className=\"nowplayingtitle\" style={{marginBottom: \"8px\"}}>\r\n                                <div className=\"frontblock\">Next from: {albumName()}</div>\r\n                                <div className=\"backblock\" onClick={clearQueue}>Clear</div>\r\n                            </div> : \"\"\r\n                        }\r\n                        <div className=\"scrollcontainer\" style={{ overflowY: `${ isOpen ? \"hidden\" : \"overlay\" }` }}>\r\n                            {\r\n                                lastpart.length !== 0 ?\r\n                                lastpart.map((each,i) => {\r\n                                    return <SongInQueue nowPlaying={false} song={each} number={songIndex+i+2} openerFunc={handleMenu} />\r\n                                }) : \"\"\r\n                            }\r\n                            {\r\n                                songIndex !== queueLength-1 && songIndex !== 0 ?\r\n                                <div style={{ width: \"100%\", height: \"30px\" }}></div> : \"\"\r\n                            }\r\n                            {\r\n                                firstpart.length !== 0 ?\r\n                                firstpart.map((each,i) => {\r\n                                    return <SongInQueue nowPlaying={false} song={each} number={i+1} openerFunc={handleMenu} />\r\n                                }) : \"\"\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div> */}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Queue;","import \"../../../css/homestyles.css\";\r\nimport \"../../../css/teststyles.css\";\r\nimport \"../../../css/albumview.css\";\r\nimport React from \"react\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport HomeScreen from \"./HomeScreen\";\r\nimport AlbumView from \"./AlbumView\";\r\nimport Library from \"./Library\";\r\nimport Radio from \"./Radio\";\r\nimport Search from \"./Search\";\r\nimport back from \"../../../assets/backbutton.png\";\r\nimport dropdown from \"../../../assets/dropdown.png\";\r\nimport SearchIcon from \"../../../assets/searchicon.svg\";\r\nimport Close from \"../../../assets/blackclose.png\";\r\nimport { \r\n    CustomUseState,\r\n    openerGlobal,\r\n    homeClass,\r\n    wait,\r\n    sendRequest,\r\n    albumGlobal,\r\n    topBarGlobal,\r\n    searchBarGlobal,\r\n    playingGlobal,\r\n    prefix\r\n} from \"../../../common\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport Queue from \"./Queue\";\r\nlet actualIsOpen, topBar, timeout = undefined, searchBar, openLocal;\r\nlet scrollTimeout = null;\r\n// const { ipcRenderer } =  window.electron;\r\n\r\n\r\nexport const MidPanelLoader = () => {\r\n    return(\r\n        <div className=\"loader\">\r\n            <div className=\"loaderinner\">\r\n                <div className=\"one\"></div>\r\n                <div className=\"two\"></div>\r\n                <div className=\"three\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewReleases = () => {\r\n    return(\r\n        <div className=\"third\"></div>\r\n    );\r\n};\r\n\r\nconst SearchBar = () => {\r\n    const [searchConfig, setSearchConfig] = CustomUseState(searchBarGlobal);\r\n    searchBar = searchConfig;\r\n\r\n    const call = async () => {\r\n        timeout = undefined;\r\n        let res;\r\n        if (searchBar.input !== \"\") {\r\n            setSearchConfig({\r\n                ...searchBar,\r\n                callLoading: true\r\n            });\r\n            res = await sendRequest({\r\n                method: \"GET\",\r\n                endpoint: `/search?name=${searchBar.input}`\r\n            });\r\n            console.log(\"res\",res);\r\n            setSearchConfig({\r\n                ...searchBar,\r\n                result: res,\r\n                callLoading: false\r\n            });\r\n        } else {\r\n            setSearchConfig({\r\n                ...searchBar,\r\n                callLoading: false\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleInput = e => {\r\n        if (e.target.value) {\r\n            setSearchConfig({\r\n                ...searchBar,\r\n                input: e.target.value,\r\n                callLoading: true,\r\n                result: {}\r\n            }); \r\n        } else {\r\n            setSearchConfig({\r\n                ...searchBar,\r\n                input: e.target.value,\r\n                callLoading: true\r\n            });\r\n        }\r\n        // setInput(e.target.value);\r\n        if (timeout) clearTimeout(timeout);\r\n        timeout = setTimeout(call,500);\r\n    };\r\n\r\n    const clearInput = e => {\r\n        // setInput(\"\");\r\n        // setResult({ songs: {}, albums: {} });\r\n        setSearchConfig({\r\n            ...searchBar,\r\n            input: \"\",\r\n            result: { songs: {}, albums: {} }\r\n        });\r\n        timeout = undefined;\r\n    };\r\n\r\n    if (searchBar.show) {\r\n        return(\r\n            <div className=\"searchrelated\">\r\n                <div className=\"searchbar\">\r\n                    <div className=\"searchimg\">\r\n                        <img src={SearchIcon} alt=\"\" />\r\n                    </div>\r\n                    <input type=\"text\" value={searchBar.input} placeholder=\"Search for Songs or Albums\"\r\n                    className=\"searchinput\" spellCheck=\"false\" onInput={handleInput} autoFocus={true}/>\r\n                    {\r\n                        searchBar.input !== \"\" ?\r\n                        <div className=\"clearinput\">\r\n                            <img src={Close} alt=\"\" onClick={clearInput} />\r\n                        </div> : <div style={{ width: \"50px\", height: \"100%\" }}></div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    return <></>;\r\n};\r\n\r\nconst ProfileBar = () => {\r\n    const userName = localStorage.getItem(\"username\");\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    const [redirectValue, setRedirectValue] = useState({ status: false, to: \"\" });\r\n    const [,setClass] = CustomUseState(homeClass);\r\n    const [,setSong] = CustomUseState(albumGlobal);\r\n    const [topBarConfig,] = CustomUseState(topBarGlobal);\r\n    actualIsOpen = openerDetails.open;\r\n    topBar = topBarConfig;\r\n    let { button, buttonFunc, title, bgColor } = topBar;\r\n\r\n    const min = () => {\r\n        // ipcRenderer.send(\"minimize\");\r\n        // ipcRenderer.send(\"full\");\r\n    };\r\n\r\n    // const max = () => {\r\n    //     ipcRenderer.send(\"maximize\");\r\n    // };\r\n\r\n    const close = () => {\r\n        // ipcRenderer.send(\"close\");\r\n    };\r\n\r\n    const handleClick = (e) => {\r\n        const list = [\"rowinmenu\",\"rowtext\"];\r\n        if (list.indexOf(e.target.className) === -1 && actualIsOpen) {\r\n            setOpenerDetails({\r\n                open: false,\r\n                xValue: 0,\r\n                yValue: 0,\r\n                type: null\r\n            });\r\n        }\r\n        // setOpenerDetails({ ...openerDetails, open: false });\r\n    };\r\n\r\n    const modifyLocalStorage = async () => {\r\n        let text = localStorage.getItem(\"email\");\r\n        let password = localStorage.getItem(\"password\");\r\n        await wait(1000);\r\n        localStorage.clear();\r\n        localStorage.setItem(\"email\",text);\r\n        localStorage.setItem(\"password\",password);\r\n        await wait(1000);\r\n        sessionStorage.clear();\r\n    };\r\n\r\n    const logOut = async () => {\r\n        modifyLocalStorage();\r\n        sendRequest({\r\n            method: \"GET\",\r\n            endpoint: `/logout`\r\n        });\r\n        setClass(\"homemain end\");\r\n        setSong({});\r\n        await wait(500);\r\n        setRedirectValue({ status: true, to: \"/\" });\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n    };\r\n\r\n    const openNew = async () => {\r\n        // ipcRenderer.send(\"opennew\");\r\n    };\r\n\r\n    const handleMenu = (e) => {\r\n        e.stopPropagation();\r\n        setOpenerDetails({\r\n            open: !actualIsOpen,\r\n            yValue: e.clientY + 10,\r\n            xValue: e.clientX - 200,\r\n            type: \"album\",\r\n            data: [\r\n                // {\r\n                //     name: \"Account\",\r\n                //     func: openNew\r\n                // },\r\n                {\r\n                    name: \"Log out\",\r\n                    func: logOut\r\n                }\r\n            ]\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"mousedown\",handleClick);\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\",handleClick);\r\n        }\r\n    },[]);\r\n\r\n\r\n    if (redirectValue.status) {\r\n        // return <Redirect to={redirectValue.to} />\r\n    }\r\n    return(\r\n        <div className=\"entiretop\"\r\n        style={ bgColor === \"transparent\" ? { backgroundColor: \"transparent\" } : { backgroundColor: \"#121212\" } }\r\n        >\r\n            <div className=\"topbar\" style={{backgroundColor: bgColor}}>\r\n                <SearchBar/>\r\n                { button ?\r\n                    <div className=\"backbutton\" onClick={buttonFunc}>\r\n                        <img src={back} alt=\"\"/>\r\n                    </div> : \"\"\r\n                }\r\n                {\r\n                    title ? \r\n                    <div className=\"toptitlediv\">{title}</div> : \"\"\r\n                }\r\n                <div className=\"profilebardiv\">\r\n                    <div className=\"name\">{userName}</div>\r\n                    <div className=\"logoutbutton\">\r\n                        <img src={dropdown} alt=\"\" onClick={handleMenu}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"topbuttons\">\r\n                    <div onClick={min} className=\"minimize\"></div>\r\n                    {/* <div onClick={max} className=\"maximize\"></div> */}\r\n                    <div onClick={close} className=\"close\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Mid = () => {\r\n    const [openerDetails,] = CustomUseState(openerGlobal);\r\n    const [playing,] = CustomUseState(playingGlobal);\r\n    openLocal = openerDetails.open;\r\n    const scrollRef = useRef(null);\r\n\r\n    const removeClass = () => {\r\n        scrollRef.current.classList.remove(\"scrolling\");\r\n    };\r\n\r\n    const handleScroll = e => {\r\n        if (scrollTimeout) {\r\n            clearTimeout(scrollTimeout);\r\n        }\r\n        scrollRef.current.classList.add(\"scrolling\");\r\n        scrollTimeout = setTimeout(removeClass, 1000);\r\n    };\r\n\r\n    useEffect(() => {\r\n        scrollRef.current = document.querySelector(\".main-outer-container\");\r\n        scrollRef.current && scrollRef.current.addEventListener(\"scroll\", handleScroll);\r\n\r\n        return () => {\r\n            scrollRef.current && scrollRef.current.removeEventListener(\"scroll\", handleScroll);\r\n        };\r\n    }, []);\r\n\r\n    return(\r\n        <div className=\"midmain-without-player\">\r\n            { playing ? <Queue/> : null }\r\n            <div className=\"main-outer-container\"\r\n            style={{ overflowY: `${ openLocal ? \"hidden\" : \"overlay\" }` }}\r\n            >\r\n                <Switch>\r\n                    <Route path={`${prefix}/home/homescreen`}><HomeScreen/></Route>\r\n                    <Route path={`${prefix}/home/search`}><Search/></Route>\r\n                    <Route path={`${prefix}/home/new-releases`}><NewReleases/></Route>\r\n                    <Route path={`${prefix}/home/album/:name`}><AlbumView/></Route>\r\n                    <Route path={`${prefix}/home/library`}><Library/></Route>\r\n                    <Route path={`${prefix}/home/radio`}><Radio/></Route>\r\n                </Switch>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Mid;","import Mid, { MidPanelLoader } from \"./midpanel\";\r\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\n// import logo from \"../../assets/bluelogo.svg\";\r\n// import logo from \"../../assets/latest-whiteblack.svg\";\r\nimport logo from \"../../assets/latest-bluewhite.svg\";\r\n// import logo from \"../../assets/aquamarinelogo.svg\";\r\n// import logo from \"../../assets/blackandwhitelogo.svg\";\r\nimport home from \"../../assets/homewhite.svg\";\r\nimport search from \"../../assets/searchwhite.svg\";\r\nimport library from \"../../assets/librarywhite.svg\";\r\nimport homelight from \"../../assets/homelight.svg\";\r\nimport searchlight from \"../../assets/searchlight.svg\";\r\nimport librarylight from \"../../assets/librarylight.svg\";\r\nimport radio from \"../../assets/radio2.svg\";\r\n// import BackButton from \"../../assets/backbutton-white.svg\";\r\nimport BackButton from \"../../assets/backbutton-909090.svg\";\r\nimport Close from \"../../assets/delete-909090.svg\";\r\n// import radio from \"../../assets/mainshuffle.svg\";\r\nimport radiolight from \"../../assets/radiolight2.svg\";\r\nimport dropdown from \"../../assets/dropdown.png\";\r\n// import radiolight from \"../../assets/mainshufflelight.svg\";\r\nimport tick from \"../../assets/tickmark.svg\";\r\nimport \"../../css/homestyles.css\";\r\nimport \"../../css/teststyles.css\";\r\nimport \"../../css/searchstyles.css\";\r\nimport {\r\n    CustomUseState,\r\n    playingGlobal,\r\n    tabGlobal,\r\n    routesGlobal,\r\n    queueOpenedGlobal,\r\n    topBarGlobal,\r\n    searchBarGlobal,\r\n    searchInputGlobal,\r\n    prefix,\r\n    profileOpener,\r\n    global\r\n} from \"../../common\";\r\nimport Button from \"../../Button\";\r\nlet topBar, tabLocal, queueOpenedLocal, searchInputTimeout = null, noLocal, showListLocal;\r\n\r\n\r\nconst Left = () => {\r\n    const topList = [\"Home\", \"Search\", \"Library\"];\r\n    const normalList = [\"Home\",\"Search\",\"New Releases\",\"Albums\",\"Artists\",\"Shuffle\"];\r\n    const playlists = [\"Most Played\",\"Favorites\",\"New Releases\",\"Liked\"];\r\n    // const playlists = [];\r\n    // const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [playing,] = useState(false);\r\n    const [tab, setTab] = CustomUseState(tabGlobal);\r\n    const [,setRoutes] = CustomUseState(routesGlobal);\r\n    const [searchConfig, setSearchConfig] = CustomUseState(searchBarGlobal);\r\n    let searchBar = searchConfig;\r\n    // const [keepButton, setKeepButton] = CustomUseState(keepButtonGlobal);\r\n    // const [,setOnClickFunc] = CustomUseState(onClickFuncGlobal);\r\n    // const [topTitle, setTopTitle] = CustomUseState(topTitleGlobal);\r\n    // const [topColor, setBgColor] = CustomUseState(topBgColor);\r\n    const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [queueOpened, setQueueOpened] = CustomUseState(queueOpenedGlobal);\r\n    topBar = topBarConfig;\r\n    tabLocal = tab;\r\n\r\n\r\n    (() => {\r\n        let loc;\r\n        if (window.location.hash !== \"\") {\r\n            loc = window.location.hash.split(\"/\")[2];\r\n        } else {\r\n            loc = window.location.pathname.split(\"/\")[2];\r\n        }\r\n        if (queueOpened) {\r\n            setTab(\"\");\r\n            return;\r\n        }\r\n        switch(loc) {\r\n            case \"homescreen\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Home\");\r\n                break;\r\n            case \"search\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Search\");\r\n                break;\r\n            case \"library\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Library\");\r\n                break;\r\n            case \"radio\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Radio\");\r\n                break;\r\n            case \"new-releases\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"New Releases\");\r\n                break;\r\n            default:\r\n                if (tabLocal === \"\") break;\r\n                setTab(\"\");\r\n                break;\r\n        }\r\n    })();\r\n\r\n    const goToHome = () => {\r\n        setTopBarConfig({\r\n            button: false,\r\n            buttonFunc: () => {},\r\n            title: \"\",\r\n            bgColor: \"transparent\"\r\n        });\r\n        // setKeepButton(false);\r\n        // setOnClickFunc(() => {});\r\n        // setTopTitle(\"\");\r\n        // setBgColor(\"transparent\");\r\n        setQueueOpened(false);\r\n        setTab(\"Home\");\r\n        setRoutes([\"/home/homescreen\"]);\r\n    };\r\n\r\n    const calc = (item) => {\r\n        if(item === \"Home\") return \"/home/homescreen\";\r\n        else if(item === \"Search\") return \"/home/search\";\r\n        else if(item === \"New Releases\") return \"/home/new-releases\";\r\n        else if(item === \"Library\") return \"/home/library\";\r\n        else if(item === \"Radio\") return \"/home/radio\";\r\n        return \"/home/homescreen\";\r\n    };\r\n\r\n    const setFuncs = (item) => {\r\n        if (item === tabLocal) {\r\n            return;\r\n        }\r\n        console.log(\"clicked\")\r\n        setTopBarConfig({\r\n            button: false,\r\n            buttonFunc: () => {},\r\n            title: \"\",\r\n            bgColor: \"transparent\"\r\n        });\r\n        if (item !== \"Search\" && searchBar.show) {\r\n            setSearchConfig({\r\n                ...searchBar,\r\n                show: false\r\n            });\r\n        } \r\n        setQueueOpened(false);\r\n        sessionStorage.setItem(\"home-scroll\",0);\r\n        sessionStorage.setItem(\"library-scroll\",0);\r\n    };\r\n\r\n    const setRouteFunc = (item) => {\r\n        if(item === \"Home\") setRoutes([\"/home/homescreen\"]);\r\n        else if(item === \"Search\") setRoutes([\"/home/search\"]);\r\n        else if(item === \"New Releases\") setRoutes([\"/home/new-releases\"]);\r\n        else if(item === \"Library\") setRoutes([\"/home/library\"]);\r\n        else if(item === \"Radio\") setRoutes([\"/home/radio\"]);\r\n        else if(item === \"Most Played\") setRoutes([\"/home/mostplayed\"]);\r\n        else setRoutes([\"/home/homescreen\"]);\r\n    };\r\n\r\n    const setIcon = (item) => {\r\n        if (item === \"Home\") return item === tab ? home : homelight;\r\n        else if (item === \"Search\") return item === tab ? search : searchlight;\r\n        else if (item === \"Library\") return item === tab ? library : librarylight;\r\n        else if (item === \"Radio\") return item === tab ? radio : radiolight;\r\n    };\r\n\r\n    const onMouseOver = (item, e) => {\r\n        if (item === \"Home\") {\r\n            e.currentTarget.children[0].src = home;\r\n        } else if (item === \"Search\") {\r\n            e.currentTarget.children[0].src = search;\r\n        } else if (item === \"Library\") {\r\n            e.currentTarget.children[0].src = library;\r\n        } else if (item === \"Radio\") {\r\n            e.currentTarget.children[0].src = radio;\r\n        } else {\r\n            e.currentTarget.children[0].src = \"\";\r\n        }\r\n    };\r\n    \r\n    const onMouseOut = (item, e) => {\r\n        if (item === \"Home\") {\r\n            e.currentTarget.children[0].src = item === tab ? home : homelight;\r\n        } else if (item === \"Search\") {\r\n            e.currentTarget.children[0].src = item === tab ? search : searchlight;\r\n        } else if (item === \"Library\") {\r\n            e.currentTarget.children[0].src = item === tab ? library : librarylight;\r\n        } else if (item === \"Radio\") {\r\n            e.currentTarget.children[0].src = item === tab ? radio : radiolight;\r\n        } else {\r\n            e.currentTarget.children[0].src = \"\";\r\n        }\r\n    };\r\n\r\n    const resetTop = () => {\r\n        // if (keepButton === true) {\r\n        //     setKeepButton(false);\r\n        // }\r\n        // if (topColor !== \"transparent\") {\r\n        //     setBgColor(\"transparent\");\r\n        // }\r\n        // if (topTitle !== \"\") {\r\n        //     setTopTitle(\"\");\r\n        // }\r\n    };\r\n\r\n    return(\r\n        <div className={ playing ? \"leftmain-with-player\" : \"leftmain-without-player\" }\r\n        // onClick={resetTop}\r\n        >\r\n            <Link to=\"/home/homescreen\" style={{ textDecoration: \"none\" }}>\r\n                <div className=\"logodiv\">\r\n                    <img src={logo} alt=\"logo\" onClick={goToHome}/>\r\n                    <p onClick={goToHome}>Studio</p>\r\n                </div>\r\n            </Link>\r\n            <div className=\"headlist\">\r\n                {\r\n                    topList.map(item => {\r\n                        return(\r\n                            <Link to={calc(item)} style={{ textDecoration: \"none\" }} onClick={() => setFuncs(item)}>\r\n                                <div onClick={() => {\r\n                                    setRouteFunc(item);\r\n                                    setTab(item);\r\n                                    }} className={ item === tab ? \"eachactive\" : \"each\" }\r\n                                    onMouseOver={(e) => onMouseOver(item, e)}\r\n                                    onMouseOut={(e) => onMouseOut(item,e)}\r\n                                    >\r\n                                    <img src={setIcon(item)} alt=\"\"/>\r\n                                    <p>{item}</p>\r\n                                </div>\r\n                            </Link>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            {\r\n                playlists.length !== 0 ? <div className=\"playlisttitle\">PLAYLISTS</div> : \"\"\r\n            }\r\n            {\r\n                playlists.map(item => {\r\n                    return(\r\n                        <Link to={calc(item)} style={{ textDecoration: \"none\" }}>\r\n                            <div onClick={() => {\r\n                                    console.log(\"item\",item)\r\n                                    setRouteFunc(item);\r\n                                    setTab(item);\r\n                                }}\r\n                                className={ item === tab ? \"playlist active1\" : \"playlist\" }>\r\n                                <p>{item}</p>\r\n                            </div>\r\n                        </Link>\r\n                    )\r\n                })\r\n            }\r\n            {/* <div className=\"playlisttitlebutton\">+ CREATE PLAYLIST</div> */}\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst TopSearchBar = () => {\r\n    const [queueOpen, setQueueOpen] = CustomUseState(queueOpenedGlobal);\r\n    const [searchConfig, setSearchConfig] = CustomUseState(searchBarGlobal);\r\n    const [input, setInput] = CustomUseState(searchInputGlobal);\r\n    const [value, setValue] = useState(\"\");\r\n    const [showList, setShowList] = useState(true);\r\n    const [no, setNo] = useState(-1);\r\n    const search = useRef(null);\r\n    const location = useLocation();\r\n    const hist = useHistory();\r\n    let list = localStorage.getItem(\"searches\") || \"[]\";\r\n    list = JSON.parse(list).reverse();\r\n    noLocal = no;\r\n    showListLocal = showList;\r\n\r\n    const goBack = e => {\r\n        global.searchBarOpen = false;\r\n        setSearchConfig({\r\n            ...searchConfig,\r\n            open: false\r\n        });\r\n    };\r\n\r\n    const clear = e => {\r\n        e.stopPropagation();\r\n        setValue(\"\");\r\n        document.querySelector(\".search-input\").focus();\r\n    };\r\n\r\n    const click = e => {\r\n        if (!(e.target === search.current || search.current.contains(e.target))) {\r\n            global.searchBarOpen = false;\r\n            setSearchConfig({\r\n                ...searchConfig,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleInput = e => {\r\n        setValue(e.target.value);\r\n        if (!showList) {\r\n            setShowList(true);\r\n        }\r\n    };\r\n\r\n    const handleSearch = e => {\r\n        e.preventDefault();\r\n\r\n        let list = localStorage.getItem(\"searches\") || \"[]\";\r\n        list = JSON.parse(list);\r\n        value && list.push(value);\r\n        localStorage.setItem(\"searches\", JSON.stringify(list));\r\n\r\n        if (queueOpen) setQueueOpen(false);\r\n        setInput(value);\r\n        setNo(-1);\r\n        setShowList(false);\r\n        if (location.pathname !== `${prefix}/home/search`) {\r\n            hist.push(`${prefix}/home/search`);\r\n        }\r\n    };\r\n\r\n    const setThis = (val,e) => {\r\n        e.stopPropagation();\r\n        setValue(val);\r\n        setShowList(false);\r\n        \r\n        if (queueOpen) setQueueOpen(false);\r\n        setInput(val);\r\n        if (location.pathname !== `${prefix}/home/search`) {\r\n            hist.push(`${prefix}/home/search`);\r\n        }\r\n    };\r\n\r\n    const keyDown = e => {\r\n        if (e.keyCode === 40 && showListLocal) {\r\n            if (noLocal+1 >= 8) {\r\n                noLocal = 0;\r\n                setNo(0);\r\n                return;\r\n            }\r\n            setNo(noLocal+1);\r\n        } else if (e.keyCode === 38 && showListLocal) {\r\n            if (noLocal === -1) {\r\n                return;\r\n            }\r\n            setNo(noLocal-1);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (no === -1) {\r\n            return;\r\n        }\r\n        setValue(list[noLocal]);\r\n    }, [no]);\r\n\r\n    useEffect(() => {\r\n        search.current = document.querySelector(\".search-bar\");\r\n        document.addEventListener(\"click\",click);\r\n        // document.addEventListener(\"keydown\",keyDown);\r\n        document.querySelector(\".search-input\").focus();\r\n        return () => {\r\n            document.removeEventListener(\"click\",click);\r\n            // document.removeEventListener(\"keydown\",keyDown);\r\n        };\r\n    }, []);\r\n\r\n    return(\r\n        <div className=\"top-search-bar-container\">\r\n            <div className=\"search-bar\">\r\n                <div className=\"search-top-row\">\r\n                    <div className=\"back-container\">\r\n                        <button className=\"back-button\" title=\"Back\" onClick={goBack}>\r\n                            <img src={BackButton} alt=\"\" />\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"input-container\">\r\n                        <form onSubmit={handleSearch}>\r\n                            <input type=\"text\" className=\"search-input\" placeholder=\"Search\" align=\"middle\"\r\n                            onChange={handleInput} value={value} spellCheck=\"false\" />\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"close-container\">\r\n                        {\r\n                            value !== \"\" ?\r\n                            <button className=\"back-button\" title=\"Clear\" onClick={clear}>\r\n                                <img src={Close} alt=\"\" />\r\n                            </button> : null\r\n                        }\r\n                    </div>\r\n                </div>\r\n                {\r\n                    list.length !== 0 && showList ?\r\n                    <div className=\"list-container\">\r\n                        {\r\n                            list.map((each,i) => {\r\n                                if (i<8) {\r\n                                    return(\r\n                                        <div className={ i === noLocal ? \"each-list-highlight\" : \"each-list\" } onClick={(e) => setThis(each,e)}>\r\n                                            <div className=\"first-each-list\">{each}</div>\r\n                                            <div className=\"last-each-list\"></div>\r\n                                        </div> \r\n                                    );\r\n                                }\r\n                                return null;\r\n                            })\r\n                        }\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst TopNav = () => {\r\n    const userName = localStorage.getItem(\"username\");\r\n    const picture = localStorage.getItem(\"picture\");\r\n    const topList = [\"Home\", \"Library\", \"Search\"];\r\n    const [tab, setTab] = CustomUseState(tabGlobal);\r\n    const [queueOpened, setQueueOpened] = CustomUseState(queueOpenedGlobal);\r\n    const [searchConfig, setSearchConfig] = CustomUseState(searchBarGlobal);\r\n    const [,setProfileOpen] = CustomUseState(profileOpener);\r\n    const currentLocation = useLocation();\r\n    const hist = useHistory();\r\n    tabLocal = tab;\r\n    queueOpenedLocal = queueOpened;\r\n\r\n    const initial = () => {\r\n        const loc = currentLocation.pathname.split(\"/\")[2];\r\n        if (queueOpened) {\r\n            setTab(\"\");\r\n            return;\r\n        }\r\n        switch(loc) {\r\n            case \"homescreen\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Home\");\r\n                break;\r\n            case \"search\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Search\");\r\n                break;\r\n            case \"library\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Library\");\r\n                break;\r\n            case \"radio\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Radio\");\r\n                break;\r\n            case \"new-releases\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"New Releases\");\r\n                break;\r\n            default:\r\n                if (tabLocal === \"\") break;\r\n                setTab(\"\");\r\n                break;\r\n        }\r\n    };\r\n\r\n    initial();\r\n\r\n    const goToHome = () => {\r\n        if (queueOpenedLocal) {\r\n            setQueueOpened(false);\r\n        }\r\n        if (tabLocal !== \"Home\") {\r\n            setTab(\"Home\");\r\n            hist.push(prefix+\"/home/homescreen\");\r\n        }\r\n    };\r\n\r\n    const setFuncs = (item, currentTab) => {\r\n        if (item === \"Search\") {\r\n            global.searchBarOpen = true;\r\n            setSearchConfig({\r\n                ...searchConfig,\r\n                open: true,\r\n                prevTab: currentTab\r\n            });\r\n        }\r\n        if (item === tabLocal) {\r\n            return;\r\n        }\r\n        if (queueOpenedLocal && item !== \"Search\") {\r\n            setQueueOpened(false);\r\n        }\r\n    };\r\n\r\n    const getCorrespondingRoute = item => {\r\n        if(item === \"Home\") return `${prefix}/home/homescreen`;\r\n        else if(item === \"Search\") return `${prefix}/home/search`;\r\n        else if(item === \"New Releases\") return `${prefix}/home/new-releases`;\r\n        else if(item === \"Library\") return `${prefix}/home/library`;\r\n        else if(item === \"Radio\") return `${prefix}/home/radio`;\r\n        else if(item === \"Most Played\") return `${prefix}/home/mostplayed`;\r\n        else return `${prefix}/home/homescreen`;\r\n    };\r\n\r\n    const setRouteFunc = item => {\r\n        const route = getCorrespondingRoute(item);\r\n        if (route !== `${prefix}/home/search`) hist.push(route);\r\n    };\r\n\r\n    const openProfile = e => {\r\n        setProfileOpen(true);\r\n    };\r\n\r\n\r\n    return(\r\n        <div className=\"dummyleft\"\r\n        // style={{ borderBottom: `${ queueOpened ? \"\" : \"0.5px solid rgba(255,255,255,0.1)\" }` }}\r\n        >\r\n            <div className=\"logopart\" onClick={goToHome}>\r\n                <div className=\"logopartdiv\" title=\"StudioMusic\">\r\n                    <img src={logo} alt=\"logo\" />\r\n                    <p>Studio</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"middlepart\">\r\n                {\r\n                    searchConfig.open ?\r\n                    <TopSearchBar /> :\r\n                    // null :\r\n                    <div className=\"centermiddlepart\">\r\n                        {\r\n                            topList.map(each => {\r\n                                return(\r\n                                    <div className={ tabLocal === each ? \"tabs\" : \"lighttabs\" }\r\n                                    onClick={() => {\r\n                                        setFuncs(each, tabLocal);\r\n                                        setRouteFunc(each);\r\n                                        setTab(each);\r\n                                    }}>\r\n                                        {each}\r\n                                    </div>\r\n                                ); \r\n                            })\r\n                        }\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div className=\"profilepart\">\r\n                {/* <div className=\"profilebardiv\">\r\n                    <div className=\"name\">{userName}</div>\r\n                    <div className=\"logoutbutton\">\r\n                        <img src={dropdown} alt=\"\"/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"topbuttons\">\r\n                    <div className=\"minimize\"></div>\r\n                    <div className=\"close\"></div>\r\n                </div> */}\r\n                {\r\n                    picture ?\r\n                    <div className=\"picture-container\" onClick={openProfile}>\r\n                        <img className=\"center-picture-img\" src={picture} alt=\"\" title={userName} />\r\n                    </div> :\r\n                    <div className=\"picture-container\" onClick={openProfile} style={{ backgroundColor: \"violet\", color: \"black\", fontSize: \"1em\" }}>\r\n                        {userName[0].toUpperCase()}\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n\r\nconst MainPanel = () => {\r\n    const [isPlaying,] = CustomUseState(playingGlobal);\r\n\r\n    return(\r\n        // <div className={ isPlaying ? \"mainpanel-with-player\" : \"mainpanel-without-player\" }>\r\n        <div className=\"mainpanel-without-player\">\r\n            <TopNav/>\r\n            <Mid/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MainPanel;","import \"../css/homestyles.css\";\r\nimport \"../css/playerstyles.css\";\r\nimport \"../css/albumview.css\";\r\nimport MainPanel from \"./mainpanel\";\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\n// import Play from \"../assets/playwhite.png\";\r\nimport Play from \"../assets/playbutton-white.svg\";\r\n// import Pause from \"../assets/pausewhite.png\";\r\nimport Pause from \"../assets/pausebutton-white.svg\";\r\nimport Close from \"../assets/deletewhite.svg\";\r\nimport Placeholder from \"../assets/placeholder.svg\";\r\n// import repeat from \"../assets/repeat.png\";\r\nimport repeat from \"../assets/repeat-white.svg\";\r\n// import repeatOne from \"../assets/repeatone.png\";\r\nimport repeatOne from \"../assets/repeat-one-white.svg\";\r\n// import noRepeat from \"../assets/norepeat.png\";\r\nimport noRepeat from \"../assets/norepeat-disabled.svg\";\r\nimport shuffleoff from \"../assets/shuffle-disabled.svg\";\r\nimport shuffleon from \"../assets/shuffle-enabled.svg\";\r\n// import next from \"../assets/nexttrack.png\";\r\nimport next from \"../assets/nextbutton-white.svg\";\r\n// import previous from \"../assets/previoustrack.png\";\r\nimport previous from \"../assets/previousbutton-white.svg\";\r\nimport queuewhite from \"../assets/queuewhite.png\";\r\nimport queueaquamarine from \"../assets/queueaquamarine.png\";\r\nimport fullscreenaquamarine from \"../assets/fullscreenaquamarine.svg\";\r\nimport fullscreenwhite from \"../assets/fullscreenwhite.svg\";\r\nimport innerfullaquamarine from \"../assets/innerfullaquamarine.svg\";\r\nimport innerfullwhite from \"../assets/innerfullwhite.svg\";\r\nimport upArrow from \"../assets/uparrow.svg\";\r\nimport downArrow from \"../assets/downarrow.svg\";\r\nimport Expand from \"../assets/expand-white.svg\";\r\nimport volumesvg from \"../assets/volume.svg\";\r\nimport Button from \"../Button\";\r\nimport {\r\n    CustomUseState,\r\n    playingGlobal,\r\n    albumGlobal,\r\n    convertTime,\r\n    wait,\r\n    queueGlobal,\r\n    queueOpenedGlobal,\r\n    songIsPausedGlobal,\r\n    repeatTypeGlobal,\r\n    radioGlobal,\r\n    openerGlobal,\r\n    homeClass,\r\n    responseBar,\r\n    searchBarGlobal,\r\n    topBarGlobal,\r\n    sendRequest,\r\n    Timer,\r\n    fullScreenGlobal,\r\n    miniPlayerGlobal,\r\n    usePrevious,\r\n    profileOpener,\r\n    lyricsGlobal,\r\n    lyricTextGlobal,\r\n    global\r\n} from \"../common\";\r\nexport const audio = new Audio();\r\nlet mainVolume = 1;\r\nlet loaded = false;\r\nlet whichRepeat;\r\nlet ctrlKey = false;\r\nlet currentSongIndex = 0, isSongPlaying, actualQueue;\r\nlet volumerange, elapsedTime, duration, range, percent = 0, style, bufferPercent = 0;\r\nexport let pauseOrPlay;\r\nlet goToNext, goToPrevious;\r\nlet setVolume = 1, isBuffering, topBar, songPausedLocal, timeout = null;\r\nlet trackingTimer, screenLocal, currentLyricIndex = null, lyricsLocal;\r\n// const { ipcRenderer } = window.electron;\r\n\r\n\r\nconst changeColor = (percent,bufferPercent) => {\r\n    // return `linear-gradient(to right, #ff0000 ${percent}%, #303030 0%)`;\r\n    // return `linear-gradient(to right, #066bff ${percent}%, #505050 0%)`;\r\n    // return `linear-gradient(to right, #066bff ${percent}%, #303030 0%)`;\r\n    // return `linear-gradient(to right, #066bff ${percent}%, #404040 ${percent}%, #404040 ${bufferPercent}%, #303030 0%)`;\r\n    // return `linear-gradient(to right, #909090 ${percent}%, #404040 ${percent}%, #404040 ${bufferPercent}%, #303030 0%)`;\r\n    return `linear-gradient(to right, #ffffff ${percent}%, #404040 ${percent}%, #404040 ${bufferPercent}%, #303030 0%)`;\r\n};\r\n\r\nconst changeColorVolume = (value) => {\r\n    // return `linear-gradient(to right, white ${value}%, rgba(255,255,255,0.1) 0%)`;\r\n    return `linear-gradient(to right, #808080 ${value}%, rgba(255,255,255,0.1) 0%)`;\r\n};\r\n\r\nconst fetchStream = async url => {\r\n    return fetch(url,{\r\n        method: \"GET\"\r\n    })\r\n    .then(res => {\r\n        const reader = res.body.getReader();\r\n        return reader.read().then(result => {\r\n            return result;\r\n        });\r\n    });\r\n};\r\n\r\nconst trial = async () => {\r\n    // const res = await fetch(\"https://scriptwaale.herokuapp.com/listen/Bekhayali\");\r\n    // const reader = res.body.getReader();\r\n    // while (true) {\r\n    //     const { value, done } = await reader.read();\r\n    //     console.log(\"value\",value);\r\n    //     const blob = new Blob(value);\r\n    //     audio.src = URL.createObjectURL(blob);\r\n    //     audio.play();\r\n    //     if (done) break;\r\n    // }\r\n    // console.log(\"Response done\");\r\n    async function fetchAudio() {\r\n        \r\n      }\r\n    fetchAudio()\r\n      .then((response) => {\r\n        var blob = new Blob([response.value], { type: 'audio/mp3' });\r\n        var url = window.URL.createObjectURL(blob)\r\n        const music = new Audio();\r\n        music.src = url;\r\n        console.log(\"playing\");\r\n        music.play();\r\n      })\r\n      \r\n};\r\n\r\nconst Player = () => {\r\n    const [hovered, setHovered] = useState(false);\r\n    const [song, setSong] = CustomUseState(albumGlobal);\r\n    const [playerOn,setPlaying] = CustomUseState(playingGlobal);\r\n    const [queue, setQueue] = CustomUseState(queueGlobal);\r\n    const [buffering, setBuffering] = useState(false);\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [buttonshow, setButtonshow] = useState(false);\r\n    const [repeatType, setRepeatType] = CustomUseState(repeatTypeGlobal);\r\n    const [shuffle, setShuffle] = useState(false);\r\n    const [queueOpened, setQueueOpened] = CustomUseState(queueOpenedGlobal);\r\n    const [songPaused, setSongPaused] = CustomUseState(songIsPausedGlobal);\r\n    const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [screen, setScreen] = CustomUseState(fullScreenGlobal);\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    const [lyrics,] = CustomUseState(lyricsGlobal);\r\n    const [,setLyricText] = CustomUseState(lyricTextGlobal);\r\n    const prevSong = usePrevious(song);\r\n    screenLocal = screen;\r\n    topBar = topBarConfig;\r\n    // const [, setTab] = CustomUseState(tabGlobal);\r\n    const [isRadioOn, setRadioOn] = CustomUseState(radioGlobal);\r\n    const [update, setUpdate] = useState(true);\r\n    actualQueue = queue;\r\n    currentSongIndex = queue.indexOf(song);\r\n    isSongPlaying = isPlaying;\r\n    isBuffering = buffering;\r\n    songPausedLocal = songPaused;\r\n    lyricsLocal = lyrics;\r\n    let playerOnLocal = playerOn;\r\n\r\n\r\n    const changeRepeat = e => {\r\n        e.stopPropagation();\r\n        localStorage.setItem(\"repeatType\",repeatType+1 > 2 ? 0 : repeatType+1);\r\n        whichRepeat = repeatType+1 > 2 ? 0 : repeatType+1;\r\n        setRepeatType(repeatType+1 > 2 ? 0 : repeatType+1);\r\n    };\r\n    pauseOrPlay = async (e = \"\") => {\r\n        if (e !== \"\") {\r\n            e.stopPropagation();\r\n        }\r\n        if (song.url === \"\") {\r\n            const index = actualQueue.indexOf(song);\r\n            song.url = song.backup;\r\n            delete song.backup;\r\n            setSong(song);\r\n            actualQueue[index] = song;\r\n            setQueue(actualQueue);\r\n            setUpdate(!update);\r\n            return;\r\n        }\r\n        if (isSongPlaying) {\r\n            // setSongPaused(true);\r\n            // setIsPlaying(false);\r\n            // mainVolume = audio.volume;\r\n            // const reduce = setInterval(() => {\r\n            //     audio.volume = audio.volume - 0.2 >= 0 ? audio.volume - 0.2 : audio.volume;\r\n            // },50);\r\n            // await wait(800);\r\n            // clearInterval(reduce);\r\n            audio.pause();\r\n        } else {\r\n            // setSongPaused(false);\r\n            // setIsPlaying(true);\r\n            audio.play();\r\n            // const increase = setInterval(() => {\r\n            //     audio.volume = audio.volume + 0.2 <= mainVolume ? audio.volume + 0.2 : mainVolume;\r\n            // },50);\r\n            // await wait(800);\r\n            // clearInterval(increase);\r\n        }\r\n    };\r\n    const openQueue = (e = \"\") => {\r\n        if (e !== \"\") {\r\n            e.stopPropagation();\r\n        }\r\n        documentClick(e);\r\n        setQueueOpened(!queueOpened);\r\n    };\r\n    goToNext = (e = \"\") => {\r\n        if (e !== \"\") {\r\n            e.stopPropagation();\r\n        }\r\n        localStorage.removeItem(\"time\");\r\n        localStorage.removeItem(\"duration\");\r\n        if (actualQueue.length === 1) {\r\n            audio.currentTime = 0;\r\n        } else {\r\n            const findNextIndex = () => {\r\n                let found = false;\r\n                let nowIndex = currentSongIndex;\r\n                let nextIndex;\r\n                while (!found) {\r\n                    nextIndex = nowIndex < actualQueue.length - 1 ? nowIndex + 1 : 0;\r\n                    const nextSong = actualQueue[nextIndex];\r\n                    if (Object.keys(nextSong).length < 2) {\r\n                        nowIndex = nextIndex;\r\n                    } else {\r\n                        found = true;\r\n                    }\r\n                }\r\n                return nextIndex;\r\n            };\r\n            // const nextIndex = currentSongIndex < actualQueue.length - 1 ? currentSongIndex + 1 : 0;\r\n            const nextIndex = findNextIndex();\r\n            setSong(actualQueue[nextIndex]);\r\n            currentSongIndex = nextIndex;\r\n        }\r\n        setSongPaused(true);\r\n    };\r\n    goToPrevious = (e = \"\") => {\r\n        if (e !== \"\") {\r\n            e.stopPropagation();\r\n        }\r\n        localStorage.removeItem(\"time\");\r\n        localStorage.removeItem(\"duration\");\r\n        setSongPaused(true);\r\n        if (actualQueue.length === 1 || audio.currentTime > 10) {\r\n            audio.currentTime = 0;\r\n            trackingTimer.stop();\r\n            trackingTimer = new Timer(30, addToRecentlyPlayed);\r\n            if (!trackingTimer.hasStarted()) trackingTimer.start();\r\n        } else {\r\n            const findPreviousIndex = () => {\r\n                let found = false;\r\n                let nowIndex = currentSongIndex;\r\n                let previousIndex;\r\n                while (!found) {\r\n                    previousIndex = nowIndex === 0 ? actualQueue.length - 1 : nowIndex - 1;\r\n                    const previousSong = actualQueue[previousIndex];\r\n                    if (Object.keys(previousSong).length < 2) {\r\n                        nowIndex = previousIndex;\r\n                    } else {\r\n                        found = true;\r\n                    }\r\n                }\r\n                return previousIndex;\r\n            };\r\n            // const prevIndex = currentSongIndex === 0 ? actualQueue.length-1 : currentSongIndex - 1;\r\n            const prevIndex = findPreviousIndex();\r\n            setSong(actualQueue[prevIndex]);\r\n            currentSongIndex = prevIndex;\r\n        }\r\n    };\r\n    const shutdown = () => {\r\n        console.log(\"shutting down\");\r\n        setPlaying(false);\r\n        audio.src = \"\";\r\n        setSong({});\r\n        localStorage.removeItem(\"queue\");\r\n        setQueue([]);\r\n        setRadioOn(false);\r\n        if (queueOpened) setQueueOpened(!queueOpened);\r\n    };\r\n    const randomize = (arr) => {\r\n        let i, len = arr.length, rand;\r\n        for (i=len-1; i>0; i--) {\r\n            rand = Math.floor(Math.random() * len);\r\n            [arr[i], arr[rand]] = [arr[rand], arr[i]];\r\n        }\r\n        arr.splice(0,0,song);\r\n        return arr;\r\n    };\r\n    const shuffleHandler = e => {\r\n        e.stopPropagation();\r\n        if (!shuffle && actualQueue.length > 3) {\r\n            const dummyQueue = actualQueue;\r\n            const index = dummyQueue.indexOf(song);\r\n            [dummyQueue[0], dummyQueue[index]] = [dummyQueue[index], dummyQueue[0]];\r\n            const shuffled = randomize(dummyQueue.slice(1,actualQueue.length));\r\n            console.log(\"shuffled\",shuffled);\r\n            localStorage.setItem(\"queue\",JSON.stringify(shuffled));\r\n            setQueue(shuffled);\r\n            // setShuffle(!shuffle);\r\n            setShuffle(true);\r\n            setTimeout(() => {\r\n                setShuffle(false);\r\n            },500);\r\n        }\r\n        // if (shuffle) {\r\n        //     setShuffle(!shuffle);\r\n        // }\r\n    };\r\n    const goToNextForMediaSession = () => {\r\n        localStorage.removeItem(\"time\");\r\n        localStorage.removeItem(\"duration\");\r\n        if (actualQueue.length === 1) {\r\n            audio.currentTime = 0;\r\n        } else {\r\n            const nextIndex = currentSongIndex < actualQueue.length - 1 ? currentSongIndex + 1 : 0;\r\n            setSong(actualQueue[nextIndex]);\r\n            currentSongIndex = nextIndex;\r\n        }\r\n        setSongPaused(true);\r\n    };\r\n    const goToPreviousForMediaSession = () => {\r\n        localStorage.removeItem(\"time\");\r\n        localStorage.removeItem(\"duration\");\r\n        setSongPaused(true);\r\n        if (actualQueue.length === 1 || audio.currentTime > 10) {\r\n            audio.currentTime = 0;\r\n            trackingTimer.stop();\r\n            trackingTimer = new Timer(30, addToRecentlyPlayed);\r\n            if (!trackingTimer.hasStarted()) trackingTimer.start();\r\n        } else {\r\n            const index = actualQueue.indexOf(song);\r\n            setSong(index === 0 ? actualQueue[actualQueue.length-1] : actualQueue[index-1]);\r\n        }\r\n    };\r\n\r\n\r\n    const volumeinput = e => {\r\n        e.stopPropagation();\r\n        volumerange.style.background = changeColorVolume(volumerange.value);\r\n        audio.volume = volumerange.value/100;\r\n        mainVolume = volumerange.value/100;\r\n        setVolume = volumerange.value/100;\r\n    };\r\n    const volumechange = e => {\r\n        e.stopPropagation();\r\n        volumerange.style.background = changeColorVolume(volumerange.value);\r\n        audio.volume = volumerange.value/100;\r\n        mainVolume = volumerange.value/100;\r\n        setVolume = volumerange.value/100;\r\n    };\r\n\r\n\r\n    const progressinput = (e) => {\r\n        range.focus();\r\n        elapsedTime.innerText = convertTime(range.value);\r\n        percent = range.value/range.max * 100;\r\n        range.style.background = changeColor(percent,bufferPercent);\r\n    };\r\n    const progresschange = (e) => {\r\n        audio.currentTime = range.value;\r\n        audio.volume = mainVolume;\r\n        range.blur();\r\n        percent = range.value/range.max * 100;\r\n        range.style.background = changeColor(percent,bufferPercent);\r\n    };\r\n\r\n\r\n    const metadata = (e) => {\r\n        loaded = true;\r\n        localStorage.setItem(\"duration\",audio.duration);\r\n        range.max = audio.duration;\r\n        duration.innerText = convertTime(audio.duration);\r\n        setBuffering(false);\r\n        setSongPaused(false);\r\n        audio.currentTime = 0;\r\n        audio.play();\r\n        if (!trackingTimer.hasStarted()) trackingTimer.start();\r\n        // const time = localStorage.getItem(\"time\");\r\n        // console.log(\"time\",time);\r\n        // if (time === null) {\r\n        //     audio.currentTime = 0;\r\n        // } else {\r\n        //     audio.currentTime = time;\r\n        //     console.log(\"setting time\");\r\n        // }\r\n    };\r\n    const waiting = (e) => {\r\n        setBuffering(true);\r\n        setSongPaused(true);\r\n        if (trackingTimer.canPause()) trackingTimer.pause();\r\n    };\r\n    const timeupdate = (e) => {\r\n        localStorage.setItem(\"time\", audio.currentTime);\r\n        elapsedTime.innerText = convertTime(audio.currentTime);\r\n\r\n        if (lyricsLocal.length !== 0) {\r\n            for (let i=0; i<lyricsLocal.length; i++) {\r\n                const each = lyricsLocal[i];\r\n                if ((audio.currentTime > each.from && audio.currentTime <= each.to) && currentLyricIndex !== i) {\r\n                    setLyricText(each);\r\n                    currentLyricIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if ((range === document.activeElement)) {\r\n        } else {\r\n            range.value = audio.currentTime;\r\n            percent = range.value/range.max * 100;\r\n            let value;\r\n            try {\r\n                value = (audio.buffered && audio.buffered.end(audio.buffered.length - 1));\r\n            } catch(e) {\r\n                value = 0;\r\n            }\r\n            bufferPercent = (value/range.max) * 100;\r\n            range.style.background = changeColor(percent,bufferPercent);\r\n        }\r\n    };\r\n    const canplay = (e) => {\r\n        console.log(\"can play\");\r\n        setBuffering(false);\r\n        // audio.play();\r\n        setSongPaused(false);\r\n        if (trackingTimer.canContinue()) trackingTimer.continue();\r\n    };\r\n    const onplay = (e) => {\r\n        setIsPlaying(true);\r\n        setSongPaused(false);\r\n    };\r\n    const ended = (e) => {\r\n        range.value = 0;\r\n        elapsedTime.innerText = \"0: 00\";\r\n        trackingTimer.stop();\r\n        range.style.background = changeColor(0,0);\r\n        if (whichRepeat === 2) {\r\n            audio.play();\r\n            trackingTimer.stop();\r\n            trackingTimer = new Timer(30, addToRecentlyPlayed);\r\n            if (!trackingTimer.hasStarted()) trackingTimer.start();\r\n        } else if (whichRepeat === 0) {\r\n            setIsPlaying(false);\r\n            setSongPaused(true);\r\n        } else {\r\n            if (actualQueue.length === 1) {\r\n                audio.play();\r\n                trackingTimer.stop();\r\n                trackingTimer = new Timer(30, addToRecentlyPlayed);\r\n                if (!trackingTimer.hasStarted()) trackingTimer.start();\r\n            } else {\r\n                goToNext();\r\n            }\r\n        }\r\n    };\r\n    const onpaused = async (e) => {\r\n        setSongPaused(true);\r\n        setIsPlaying(false);\r\n        if (trackingTimer.canPause()) trackingTimer.pause();\r\n        document.title = \"Studio\";\r\n        // ipcRenderer.send(\"paused\");\r\n        // await wait(1000);\r\n        // audio.volume = 0;\r\n    };\r\n    const onplaying = async (e) => {\r\n        setSongPaused(false);\r\n        setIsPlaying(true);\r\n        if (trackingTimer.canContinue()) trackingTimer.continue();\r\n        document.title = `${song.Title || song.Album} - Studio`;\r\n        // ipcRenderer.send(\"playing\");\r\n        // await wait(1000);\r\n        // audio.volume = mainVolume;\r\n        // pauseOrPlay();\r\n    };\r\n\r\n\r\n    const onkeydown = (e) => {\r\n        if (e.keyCode === 17) {\r\n            ctrlKey = true;\r\n        }\r\n        // if (e.keyCode === 32 && ctrlKey && !isBuffering) {\r\n        if (e.keyCode === 32 && !isBuffering && !global.searchBarOpen) {\r\n            e.preventDefault();\r\n            pauseOrPlay();\r\n        }\r\n        // if (e.keyCode === 78 && ctrlKey) {\r\n        if (e.keyCode === 78) {\r\n            e.preventDefault();\r\n            goToNext();\r\n        }\r\n        // if (e.keyCode === 80 && ctrlKey) {\r\n        if (e.keyCode === 80) {\r\n            e.preventDefault();\r\n            goToPrevious();\r\n        }\r\n        // if (e.keyCode === 39 && ctrlKey) {\r\n        if (e.keyCode === 39) {\r\n            const duration = audio.duration;\r\n            const time = audio.currentTime;\r\n            if (time + 10 < duration) {\r\n                audio.currentTime = time + 10;\r\n            }\r\n        }\r\n        // if (e.keyCode === 37 && ctrlKey) {\r\n        if (e.keyCode === 37) {\r\n            const time = audio.currentTime;\r\n            if (time - 10 > 0) {\r\n                audio.currentTime = time - 10;\r\n            }\r\n        }\r\n    };\r\n    const onkeyup = (e) => {\r\n        if (e.keyCode === 17) {\r\n            ctrlKey = false;\r\n        }\r\n    };\r\n\r\n    const lessen = () => {\r\n        const split = song.Color.split(\",\");\r\n        split[3] = \"0.3)\";\r\n        return split.join(\",\");\r\n    };\r\n\r\n    const addToRecentlyPlayed = () => {\r\n        sendRequest({\r\n            method: \"POST\",\r\n            endpoint: \"/addToRecentlyPlayed\",\r\n            data: {\r\n                album: song.Album\r\n            }\r\n        });\r\n    };\r\n\r\n    const screenSetting = () => {\r\n        if (playerOnLocal) {\r\n            setScreen({\r\n                ...screenLocal,\r\n                show: !screenLocal.show\r\n            });\r\n            // ipcRenderer.send(\"full\");\r\n        }\r\n    };\r\n\r\n    const documentClick = e => {\r\n        console.log(\"click\",openerDetails.open);\r\n        if (openerDetails.open) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    const calcColor = () => {\r\n        const split = song.Color.split(\",\");\r\n        split[3] = \"0.1)\";\r\n        return split.join(\",\");\r\n    };\r\n\r\n    useEffect(() => {\r\n        currentLyricIndex = null;\r\n        setLyricText(\"\");\r\n        let shouldRemove = false;\r\n        (() => {\r\n            if (Object.keys(prevSong).length < 1) {\r\n                return;\r\n            }\r\n            if (prevSong.Type !== song.Type) {\r\n                shouldRemove = true;\r\n                return;\r\n            }\r\n            const titleExistsInCurrent = song.Title !== undefined;\r\n            const titleExistsInPrev = prevSong.Title !== undefined;\r\n            if (titleExistsInCurrent && titleExistsInPrev) {\r\n                if (prevSong.Title !== song.Title) {\r\n                    shouldRemove = true;\r\n                    return;\r\n                }\r\n            } else if (!titleExistsInCurrent && titleExistsInPrev) {\r\n                shouldRemove = true;\r\n                return;\r\n            } else if (titleExistsInCurrent && !titleExistsInPrev) {\r\n                shouldRemove = true;\r\n                return;\r\n            } else if (!titleExistsInCurrent && !titleExistsInPrev) {\r\n                if (prevSong.Album !== song.Album) {\r\n                    shouldRemove = true;\r\n                    return;\r\n                }\r\n            }\r\n        })();\r\n        console.log(\"sholdremove\",shouldRemove);\r\n        if (shouldRemove) {\r\n            localStorage.removeItem(\"time\");\r\n            localStorage.removeItem(\"duration\");\r\n        }\r\n        if (Object.keys(song).length !== 0) {\r\n            trackingTimer = new Timer(30,addToRecentlyPlayed);\r\n            if (\"mediaSession\" in navigator) {\r\n                navigator.mediaSession.metadata = new window.MediaMetadata({\r\n                    title: song.Title || song.Album,\r\n                    artist: song.Artist,\r\n                    album: song.Album,\r\n                    artwork: [\r\n                        { src: song.Thumbnail }\r\n                    ]\r\n                });\r\n            }\r\n        }\r\n        console.log(\"network\",navigator.connection.downlink);\r\n        console.log(\"type\",navigator.connection.type);\r\n        console.log(\"connection\",navigator.connection);\r\n        // return () => {\r\n        //     if (trackingTimer !== null) {\r\n        //         trackingTimer.stop();\r\n        //         trackingTimer = null;\r\n        //     }\r\n        // };\r\n    },[song]);\r\n\r\n    useEffect(() => {\r\n        const setUp = async () => {\r\n            audio.volume = setVolume;\r\n            elapsedTime = document.querySelector(\".elapsedtime\");\r\n            duration = document.querySelector(\".progressduration\");\r\n            range = document.querySelector(\".range\");\r\n            volumerange = document.querySelector(\".volumerange\");\r\n            const rType = parseInt(localStorage.getItem(\"repeatType\"));\r\n            whichRepeat = 0;\r\n            if (rType) {\r\n                setRepeatType(rType);\r\n                whichRepeat = rType;\r\n            }\r\n\r\n            // if (prevSong.Album !== song.Album) {\r\n            //     localStorage.removeItem(\"time\");\r\n            //     localStorage.removeItem(\"duration\");\r\n            // }\r\n\r\n            document.addEventListener(\"keydown\",onkeydown);\r\n            document.addEventListener(\"keyup\",onkeyup);\r\n            // document.addEventListener(\"click\",documentClick);\r\n\r\n            volumerange.value = audio.volume * 100;\r\n            volumerange.style.background = changeColorVolume(volumerange.value);\r\n            volumerange.addEventListener(\"input\",volumeinput);\r\n            volumerange.addEventListener(\"change\",volumechange);\r\n            range && range.addEventListener(\"input\",progressinput);\r\n            range && range.addEventListener(\"change\",progresschange);\r\n\r\n            // setIsPlaying(true);\r\n            // percent = 0;\r\n            duration.innerText = \"0: 00\";\r\n            loaded = false;\r\n            if (Object.keys(song).length !== 0) {\r\n                audio.preload = \"auto\";\r\n                audio.src = song.url;\r\n                // fetchStream(song.url).then(response => {\r\n                //     const blob = new Blob([response.value], { type: 'audio/mp3' });\r\n                //     const url = window.URL.createObjectURL(blob);\r\n                //     audio.src = url;\r\n                //     audio.play();\r\n                // })\r\n                // .catch((error) => {\r\n                //     console.log(\"error\",error.message);\r\n                // });\r\n            } else {\r\n                shutdown();\r\n            }\r\n\r\n            let oldDuration = undefined, oldTime = undefined;\r\n            if (song.url !== \"\") {\r\n                setIsPlaying(true);\r\n                setBuffering(true);\r\n                audio.addEventListener(\"loadedmetadata\",metadata);\r\n                audio.addEventListener(\"waiting\",waiting);\r\n                audio.addEventListener(\"timeupdate\",timeupdate);\r\n                audio.addEventListener(\"canplay\",canplay);\r\n                // audio.addEventListener(\"play\",onplay);\r\n                audio.addEventListener(\"ended\",ended);\r\n                audio.addEventListener(\"pause\",onpaused);\r\n                audio.addEventListener(\"playing\",onplaying);\r\n\r\n                localStorage.setItem(\"nowplaying\",JSON.stringify(song));\r\n                // oldDuration = localStorage.getItem(\"duration\");\r\n                // oldTime = localStorage.getItem(\"time\");\r\n                oldDuration = null;\r\n                oldTime = null;\r\n                if (oldDuration !== null && oldTime !== null) {\r\n                    audio.currentTime = oldTime;\r\n                    range.max = oldDuration;\r\n                    range.value = oldTime;\r\n                    percent = range.value/range.max * 100;\r\n                    range.style.background = changeColor(percent,0);\r\n                    duration.innerText = convertTime(oldDuration);\r\n                    elapsedTime.innerText = convertTime(oldTime);\r\n                }\r\n            } else {\r\n                setSongPaused(true);\r\n                oldDuration = localStorage.getItem(\"duration\");\r\n                oldTime = localStorage.getItem(\"time\");\r\n                range.max = oldDuration;\r\n                range.value = oldTime;\r\n                percent = range.value/range.max * 100;\r\n                range.style.background = changeColor(percent,0);\r\n                duration.innerText = convertTime(oldDuration);\r\n                elapsedTime.innerText = convertTime(oldTime);\r\n            }\r\n        };\r\n\r\n        setUp();\r\n\r\n        return () => {\r\n            if (song.url === \"\") {\r\n                const index = actualQueue.indexOf(song);\r\n                song.url = song.backup;\r\n                delete song.backup;\r\n                actualQueue[index] = song;\r\n                setQueue(actualQueue);\r\n            }\r\n            document.removeEventListener(\"keydown\",onkeydown);\r\n            document.removeEventListener(\"keyup\",onkeyup);\r\n            // document.removeEventListener(\"click\",documentClick);\r\n\r\n            volumerange.removeEventListener(\"input\",volumeinput);\r\n            volumerange.removeEventListener(\"change\",volumechange);\r\n            range && range.removeEventListener(\"input\",progressinput);\r\n            range && range.removeEventListener(\"change\",progresschange);\r\n\r\n            audio.removeEventListener(\"loadedmetadata\",metadata);\r\n            audio.removeEventListener(\"waiting\",waiting);\r\n            audio.removeEventListener(\"timeupdate\",timeupdate);\r\n            audio.removeEventListener(\"canplay\",canplay);\r\n            // audio.removeEventListener(\"play\",onplay);\r\n            audio.removeEventListener(\"ended\",ended);\r\n            audio.removeEventListener(\"pause\",onpaused);\r\n            audio.removeEventListener(\"playing\",onplaying);\r\n        };\r\n\r\n    },[song, update]);\r\n\r\n    return(\r\n        <div className=\"dummycover\">\r\n            <input type=\"range\" min=\"0\" defaultValue=\"0\" className=\"range\" disabled={buffering || song.url === \"\"} />\r\n            <div className=\"outerplayer\">\r\n                <div className=\"player\"\r\n                // style={{ backgroundColor: `${calcColor()}` }}\r\n                >\r\n                    <div className=\"innerplayer\" onClick={openQueue}\r\n                    onMouseOver={() => setHovered(true)}\r\n                    onMouseOut={() => setHovered(false)}>\r\n                        <div className=\"albumpart\">\r\n                            <div className=\"back\">\r\n                                <img src={previous} onClick={goToPrevious} alt=\"\" title=\"Previous Song / Rewind\" />\r\n                            </div>\r\n                            <div className=\"middle\">\r\n                                { Object.keys(song).length !== 0 ?\r\n                                    <>\r\n                                    {\r\n                                        buffering ? <div className=\"bufferloader\"></div> : \r\n                                        <img className=\"mainplayimg\" onClick={pauseOrPlay} src={ isSongPlaying ? Pause : Play } alt=\"\"\r\n                                        title={ isSongPlaying ? \"Pause\" : \"Play\" } />\r\n                                    }\r\n                                    </> :\r\n                                    <img className=\"mainplayimg\" src={Play} title=\"Play\" alt=\"\" />\r\n                                }\r\n                            </div>\r\n                            <div className=\"forward\">\r\n                                <img src={next} onClick={goToNext} alt=\"\" title=\"Next Song\" />\r\n                            </div>\r\n                            <div className=\"elapsedtime\">0: 00</div>\r\n                            <div className=\"durationdivider\">/</div>\r\n                            <div className=\"progressduration\">0: 00</div>\r\n                        </div>\r\n                        <div className=\"playerpart\">\r\n                            <div className=\"innerplayerpart\">\r\n                                { Object.keys(song).length !== 0 ?\r\n                                    <>\r\n                                    <div className=\"albumthumbnail\" style={{\r\n                                        backgroundImage: `url(${Placeholder})`,\r\n                                        backgroundSize: \"cover\"\r\n                                    }}>\r\n                                        <img src={song.Thumbnail} alt=\"\" />\r\n                                    </div>\r\n                                    <div className=\"songdetails\">\r\n                                        <p className=\"songtitle\">{song.Title || song.Album}</p>\r\n                                        <div className=\"songartistscontainer\">\r\n                                            {\r\n                                                song.Album.length > 30 ?\r\n                                                <>\r\n                                                <p className=\"songartists\">{`${song.Artist.slice(0,30)}...`}</p>\r\n                                                <div className=\"player-separator\"><div></div></div>\r\n                                                <p className=\"songartists\">{`${song.Album.slice(0,30)}...`}</p>\r\n                                                </>\r\n                                                :\r\n                                                song.Artist.length > 30 ?\r\n                                                <>\r\n                                                <p className=\"songartists\">{`${song.Artist.slice(0,30)}...`}</p>\r\n                                                <div className=\"player-separator\"><div></div></div>\r\n                                                <p className=\"songartists\">{`${song.Album}`}</p>\r\n                                                </>\r\n                                                :\r\n                                                <>\r\n                                                <p className=\"songartists\">{`${song.Artist}`}</p>\r\n                                                <div className=\"player-separator\"><div></div></div>\r\n                                                <p className=\"songartists\">{`${song.Album}`}</p>\r\n                                                </>\r\n                                            }\r\n                                            <div className=\"player-separator\"><div></div></div>\r\n                                            <p className=\"songartists\">{song.Duration}</p>\r\n                                            <div className=\"player-separator\"><div></div></div>\r\n                                            <p className=\"songartists\">{song.Year}</p>\r\n                                        </div>\r\n                                    </div></> : \"\"\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"volumepart\">\r\n                            <div className=\"volumerocker\"\r\n                            style={{ opacity: `${ hovered ? \"1\" : \"0\" }` }}>\r\n                                <div className=\"volumeinput\">\r\n                                    <input type=\"range\" min=\"0\" max=\"100\" defaultValue=\"100\" className=\"volumerange\"\r\n                                    onClick={e => e.stopPropagation()}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"shuffle\">\r\n                                { !isRadioOn ? <img src={shuffle ? shuffleon : shuffleoff} alt=\"\" title=\"Shuffle\" onClick={shuffleHandler} /> : \"\" }\r\n                            </div>\r\n                            <div className=\"repeat\">\r\n                                <img src={\r\n                                    repeatType === 0 ? noRepeat :\r\n                                    repeatType === 1 ? repeat : repeatOne\r\n                                } alt=\"\" onClick={changeRepeat} title={\r\n                                    repeatType === 0 ? \"Repeat Off\" :\r\n                                    repeatType === 1 ? \"Repeat All\" : \"Repeat One\"\r\n                                } />\r\n                            </div>\r\n                            {\r\n                                screenLocal.show ? \"\" :\r\n                                <div className=\"queueopener\" onClick={openQueue}>\r\n                                    <img src={queueOpened ? downArrow : upArrow} alt=\"\" title=\"Player\" />\r\n                                </div>\r\n                            }\r\n                            {/* { Object.keys(song).length !== 0 ?\r\n                                <div className=\"destroyplayer\" onClick={shutdown}>\r\n                                    <img src={Close} alt=\"\" />\r\n                                </div> : \"\"\r\n                            } */}\r\n                            {/* <div className=\"fullscreenbutton\"\r\n                            onClick={screenSetting}\r\n                            onMouseOver={() => setButtonshow(true)}\r\n                            onMouseOut={() => setButtonshow(false)}\r\n                            >\r\n                                <img src={ screenLocal.show ? (buttonshow ? innerfullaquamarine : innerfullwhite) : \r\n                                    (buttonshow ? fullscreenaquamarine : fullscreenwhite) } alt=\"\" />\r\n                            </div> */}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport const Opener = ({ openerDetails, setOpenerDetails }) => {\r\n    const opener = useRef(null);\r\n    const { xValue, yValue, data = [] } = openerDetails;\r\n    style = {\r\n        top: `${yValue}px`,\r\n        left: `${xValue}px`\r\n    };\r\n\r\n    const click = e => {\r\n        if (!(e.target === opener.current || opener.current.contains(e.target))) {\r\n            setOpenerDetails({ ...openerDetails, open: false });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        opener.current = document.querySelector(\".opener\");\r\n        document.addEventListener(\"click\",click);\r\n        return () => {\r\n            document.removeEventListener(\"click\",click);\r\n        };\r\n    }, []);\r\n\r\n    return(\r\n        <div className=\"opener\" style={style}>\r\n            { data.length !== 0 ?\r\n                data.map(menu => {\r\n                    return(\r\n                        <div className=\"rowinmenu\" onClick={menu.func}>\r\n                            <div className=\"rowtext\">{menu.name}</div>\r\n                        </div>\r\n                    );\r\n                })\r\n                : \"\"\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst FullScreen = () => {\r\n    const [song,] = CustomUseState(albumGlobal);\r\n    const [songIsPaused, setSongIsPaused] = CustomUseState(songIsPausedGlobal);\r\n\r\n    const lessen = value => {\r\n        let color = song.Color.split(\",\");\r\n        color[3] = `${value}`;\r\n        color = color.join(\",\");\r\n        return color;\r\n    };\r\n\r\n    const handleClick = e => {};\r\n\r\n    useEffect(() => {\r\n        document.querySelector(\".full-display\").requestFullscreen();\r\n    }, []);\r\n    \r\n    return(\r\n        <div className=\"full-display\">\r\n            <div className=\"inner-full-display\" style={{ backgroundColor: lessen(0.2) }}>\r\n                <div className=\"imageholder\">\r\n                    <img src={song.Thumbnail} alt=\"\"/>\r\n                </div>\r\n                {/* <p className=\"display-title\">{song.Title || song.Album}</p> */}\r\n                <div className=\"controls-container\">\r\n                    <Button className=\"button-control\" onClick={goToPrevious}>\r\n                        <img src={previous} alt=\"\" title=\"Previous Song / Rewind\" />\r\n                    </Button>\r\n                    <Button className=\"button-control\" onClick={pauseOrPlay}>\r\n                        <img src={Pause} alt=\"\" title=\"Play / Pause\" />\r\n                    </Button>\r\n                    <Button className=\"button-control\" onClick={goToNext}>\r\n                        <img src={next} alt=\"\" title=\"Next Song\" />\r\n                    </Button>\r\n                </div>\r\n                <div className=\"bottombar\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst MiniPlayer = () => {\r\n    const [mini, setMini] = CustomUseState(miniPlayerGlobal);\r\n    const [song,] = CustomUseState(albumGlobal);\r\n    const [queue,] = CustomUseState(queueGlobal);\r\n    const [songIsPaused,] = CustomUseState(songIsPausedGlobal);\r\n    const anim = useRef(null);\r\n    if (queue.length === 0) {\r\n        setMini(false);\r\n    }\r\n\r\n    const close = e => {\r\n        e.stopPropagation();\r\n        setMini(false);\r\n    };\r\n\r\n    const handleClick = e => {\r\n        e.stopPropagation();\r\n        pauseOrPlay();\r\n        anim.current.classList.remove(\"hidden\");\r\n        setTimeout(() => {\r\n            anim.current.classList.add(\"hidden\");\r\n        },500);\r\n    };\r\n\r\n    if (!mini) {\r\n        return \"\";\r\n    }\r\n    return (\r\n        <div className=\"miniplayer\" onClick={handleClick}\r\n        style={{ backgroundImage: `url(${Placeholder})`, backgroundSize: \"cover\" }}\r\n        >\r\n            <div style={{ position: \"relative\", width: \"100%\", height: \"100%\" }}>\r\n                <div className=\"minishadow\">\r\n                    <div className=\"close-view\" onClick={close}>\r\n                        <img src={Close} alt=\"\" />\r\n                    </div>\r\n                    <div className=\"playpause-anim hidden\" ref={anim}>\r\n                        <img src={ songIsPaused ? Play : Pause } alt=\"\" />\r\n                        <div></div>\r\n                    </div>\r\n                </div>\r\n                <img src={song.Thumbnail || \"\"} alt=\"\" />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ResponseBar = () => {\r\n    const [obj, setObj] = CustomUseState(responseBar);\r\n    const [playing,] = CustomUseState(playingGlobal);\r\n\r\n    if (obj.open && playing) {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        } \r\n        timeout = setTimeout(() => {\r\n            setObj({ ...obj, open: false });\r\n        }, 1500);\r\n    }\r\n\r\n    return(\r\n        <div className={ obj.open && playing ? \"responsebar up\" : obj.open !== \"\" ? \"responsebar down\" : \"responsebar start\" }>\r\n            <div className=\"message\">{obj.msg}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ProfileOpener = ({ setProfileOpen }) => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const picture = localStorage.getItem(\"picture\");\r\n    const userName = localStorage.getItem(\"username\").split(\" \");\r\n    const email = localStorage.getItem(\"email\");\r\n    const profileOpener = useRef(null);\r\n    window.isLoading = isLoading;\r\n\r\n    const openAccount = () => {\r\n        window.open(\"/account\", \"_blank\");\r\n        return true;\r\n    };\r\n\r\n    const signOut = async () => {\r\n        setIsLoading(true);\r\n        const res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: \"/sign-out\"\r\n        });\r\n        if (res.success) {\r\n            localStorage.clear();\r\n            window.location.href = \"/\";\r\n            return false;\r\n        } else {\r\n            localStorage.clear();\r\n            window.location.href = \"/login\";\r\n            return false;\r\n        }\r\n    };\r\n\r\n    const click = e => {\r\n        if (!(e.target === profileOpener.current || profileOpener.current.contains(e.target))) {\r\n            setProfileOpen(false);\r\n        }\r\n    };\r\n\r\n    const data = [\r\n        { name: \"Account\", func: openAccount },\r\n        { name: \"History\", func: ()=>{ return false; } },\r\n        { name: \"Sign Out\", func: signOut, only: true }\r\n    ];\r\n\r\n    const handle = async (menu) => {\r\n        if (window.isLoading) {\r\n            return;\r\n        }\r\n        const hide = await menu.func();\r\n        if (hide) {\r\n            setProfileOpen(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        profileOpener.current = document.querySelector(\".profile-opener\");\r\n        document.addEventListener(\"click\", click);\r\n        return () => {\r\n            document.removeEventListener(\"click\",click);\r\n        };\r\n    }, []);\r\n\r\n    return(\r\n        <div className=\"profile-opener\">\r\n            <div className=\"account-section\">\r\n                <div className=\"account-picture\">\r\n                    {\r\n                        picture ?\r\n                        <div className=\"center-picture\">\r\n                            <img src={picture} alt=\"\" className=\"dummy-class\" />\r\n                        </div> :\r\n                        <div className=\"center-picture\" style={{ backgroundColor: \"violet\", color: \"black\", fontSize: \"2em\" }}>\r\n                            {userName[0][0] && userName[0][0].toUpperCase()}{userName[1] && userName[1][0].toUpperCase()}\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <div className=\"account-name\">{userName}</div>\r\n                <div className=\"account-email\">{email}</div>\r\n            </div>\r\n            { data.length !== 0 ?\r\n                data.map(menu => {\r\n                    return(\r\n                        <div className=\"rowinmenu\" onClick={() => handle(menu)}>\r\n                            { isLoading && menu.only ? \r\n                                <div className=\"small-loader\">\r\n                                    <div className=\"inner-small-loader\">\r\n                                        <div className=\"s-one\"></div>\r\n                                        <div className=\"s-two\"></div>\r\n                                        <div className=\"s-three\"></div>\r\n                                    </div>\r\n                                </div>\r\n                                : <div className=\"rowtext\">{menu.name}</div> }\r\n                        </div>\r\n                    );\r\n                })\r\n                : \"\"\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Home = () => {\r\n    const [playing,] = CustomUseState(playingGlobal);\r\n    const [profileOpen, setProfileOpen] = CustomUseState(profileOpener);\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    // const [name,] = CustomUseState(homeClass);\r\n    const [screen,] = CustomUseState(fullScreenGlobal);\r\n\r\n    return(\r\n        <div className=\"homemain\">\r\n            { openerDetails.open ? <Opener openerDetails={openerDetails} setOpenerDetails={setOpenerDetails} /> : null }\r\n            { profileOpen ? <ProfileOpener setProfileOpen={setProfileOpen} /> : null }\r\n            <MiniPlayer/>\r\n            <ResponseBar/>\r\n            { screen.show ? <FullScreen/> : null }\r\n            <MainPanel/>\r\n            { playing ? <Player/> : null }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;","import React, { useEffect, useRef, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Opening from \"./opening\";\r\nimport Home from \"./homepage\";\r\nimport {\r\n    keepServersActive,\r\n    fullScreenGlobal,\r\n    playingGlobal,\r\n    CustomUseState,\r\n    queueOpenedGlobal,\r\n    openerGlobal,\r\n    prefix,\r\n    httpCheck,\r\n    global\r\n} from \"./common\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nlet queueOpenedLocal, intervalTimeout = null, playingLocal, screenLocal;\r\n\r\n\r\nconst App = () => {\r\n    httpCheck();\r\n    const [screen, setScreen] = CustomUseState(fullScreenGlobal);\r\n    const [queueOpened, setQueueOpened] = CustomUseState(queueOpenedGlobal);\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    const [playing,] = CustomUseState(playingGlobal);\r\n    screenLocal = screen;\r\n    playingLocal = playing;\r\n    queueOpenedLocal = queueOpened;\r\n\r\n    if (intervalTimeout === null) {\r\n        intervalTimeout = setInterval(() => {\r\n            keepServersActive();\r\n        }, 3*60*1000);\r\n    }\r\n\r\n    const screenSet = () => {\r\n        setScreen({\r\n            ...screenLocal,\r\n            show: !screenLocal.show\r\n        });\r\n    };\r\n\r\n    const keyDown = e => {\r\n        // if (e.keyCode === 122 || e.keyCode === 27) {\r\n        //     e.preventDefault();\r\n        // }\r\n        if (e.keyCode === 70 && !global.searchBarOpen) {\r\n            e.preventDefault();\r\n            if (playingLocal) {\r\n                // screenSet();\r\n            }\r\n        }\r\n    };\r\n\r\n    const check = e => {\r\n        if (queueOpenedLocal) {\r\n            setQueueOpened(false);\r\n        }\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"keydown\",keyDown);\r\n        window.addEventListener(\"popstate\",check);\r\n        return () => {\r\n            document.removeEventListener(\"keydown\",keyDown);\r\n            window.removeEventListener(\"popstate\",check);\r\n        }\r\n    },[]);\r\n\r\n    return(\r\n        <Router>\r\n            <Route exact path={ prefix === \"\" ? \"/\" : prefix } component={Opening} />\r\n            <Route path={`${prefix}/home`} component={Home} />\r\n        </Router>\r\n    )\r\n};\r\n\r\nReactDOM.render(<App/>, document.getElementById(\"root\"));","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n// import \"../css/openingstyles.css\";\r\nimport \"../css/opening2styles.css\";\r\n// import \"../css/loginstyles.css\";\r\n// import \"../css/signupstyles.css\";\r\n// import logo2 from \"../assets/colouredlogo.svg\";\r\n// import logo2 from \"../assets/aquamarinelogo.svg\";\r\n// import logo2 from \"../assets/bluelogo.svg\";\r\nimport logo2 from \"../assets/latest-whiteblack.svg\";\r\n// import logo2 from \"../assets/latest-bluewhite.svg\";\r\nimport logo from \"../assets/blackandwhitelogo.svg\";\r\nimport {\r\n    wait,\r\n    CustomUseState,\r\n    homeClass,\r\n    tabGlobal,\r\n    playingGlobal,\r\n    albumGlobal,\r\n    queueGlobal,\r\n    sendRequest,\r\n    keepServersActive,\r\n    // keepButtonGlobal\r\n    topBarGlobal,\r\n    prefix\r\n} from \"../common\";\r\nlet topBar, setup;\r\n\r\n\r\nconst Error = ({ msg }) => {\r\n    return(\r\n        <div className=\"errordiv\">\r\n            <p>Error: {msg}</p>\r\n        </div>\r\n    );\r\n};\r\n\r\n// const Login = ({ shiftPage, setRedirectValue, setMainClass }) => {\r\n//     const [compClass, setCompClass] = useState(\"loginmain-fadein\");\r\n//     const [type, setType] = useState(\"password\");\r\n//     const [checkClass, setCheckClass] = useState(\"checkbox-start\");\r\n//     const [smallBallClass, setSmallBallClass] = useState(\"smallball-password\");\r\n//     const [loginErr, setLoginErr] = useState(false);\r\n//     const [isLoading, setIsLoading] = useState(\"Log In\");\r\n//     const [errMsg, setErrMsg] = useState(\"\");\r\n//     const emailRef = useRef();\r\n//     const passwordRef = useRef();\r\n\r\n//     const change = () => {\r\n//         if(type === \"text\") {\r\n//             setType(\"password\");\r\n//             setSmallBallClass(\"smallball-password\");\r\n//         } else {\r\n//             setType(\"text\");\r\n//             setSmallBallClass(\"smallball-text\");\r\n//         }\r\n//     };\r\n\r\n//     const checkbox = () => {\r\n//         if(checkClass === \"checkbox-start\") setCheckClass(\"checkbox-end\");\r\n//         else setCheckClass(\"checkbox-start\");\r\n//     };\r\n\r\n//     const submit = async () => {\r\n//         if(emailRef.current.value == \"\") {\r\n//             setErrMsg(\"Can't leave email empty\");\r\n//             setLoginErr(true);\r\n//         } else if (passwordRef.current.value == \"\") {\r\n//             setErrMsg(\"Can't leave password empty\");\r\n//             setLoginErr(true);\r\n//         } else {\r\n//             setIsLoading(\"Loading\");\r\n//             const res = await axios({\r\n//                 method: \"POST\",\r\n//                 url: `${baseLink}/login`,\r\n//                 data: {\r\n//                     em: emailRef.current.value,\r\n//                     pass: passwordRef.current.value\r\n//                 }\r\n//             });\r\n//             setIsLoading(\"Log In\");\r\n//             if (res.data.status === \"allowed\") {\r\n//                 if (checkClass === \"checkbox-end\") {\r\n//                     localStorage.setItem(\"email\",emailRef.current.value)\r\n//                     localStorage.setItem(\"password\",passwordRef.current.value)\r\n//                 }\r\n//                 setMainClass(\"main-end\");\r\n//                 setTimeout(() => {\r\n//                     setRedirectValue(true);\r\n//                 },1000);\r\n//             } else {\r\n//                 setErrMsg(\"Invalid credentials\");\r\n//                 setLoginErr(true);\r\n//             }\r\n//         }\r\n//     };\r\n\r\n//     const changePage = () => {\r\n//         setCompClass(\"loginmain-fadeout\");\r\n//         setTimeout(() => {\r\n//             shiftPage(false);\r\n//         },500);\r\n//     };\r\n\r\n//     const remError = () => {\r\n//         if(loginErr) {\r\n//             setTimeout(() => {\r\n//                 setLoginErr(false);\r\n//             },3000);\r\n//         }\r\n//     };\r\n//     remError();\r\n\r\n//     useEffect(() => {\r\n//         const email = localStorage.getItem(\"email\");\r\n//         const password = localStorage.getItem(\"password\");\r\n//         if (email != null && password != null) {\r\n//             emailRef.current.value = email;\r\n//             passwordRef.current.value = password;\r\n//             setCheckClass(\"checkbox-end\");\r\n//         }\r\n//     },[]);\r\n\r\n//     return(\r\n//         <div className={compClass}>\r\n//             <div className=\"logintitle\">\r\n//                 <p>Log in to continue.</p>\r\n//             </div>\r\n//             { loginErr ? <Error msg={errMsg}/> : <div className=\"empty\"></div> \r\n//             }\r\n//             <div className=\"email\">\r\n//                 <input type=\"email\" placeholder=\"Email\" spellCheck=\"false\" ref={emailRef} />\r\n//             </div>\r\n//             <div className=\"password\">\r\n//                 <div className=\"join\">\r\n//                     <input type={type} placeholder=\"Password\" spellCheck=\"false\" ref={passwordRef} />\r\n//                     <div className=\"viewdiv\" onClick={change}>\r\n//                         <div className={smallBallClass}></div>\r\n//                     </div>\r\n//                 </div>\r\n//             </div>\r\n//             <div className=\"remember\">\r\n//                 <p>Remember Me?</p>\r\n//                 <div className={checkClass} onClick={checkbox}>\r\n//                     <div className=\"ball\"></div>\r\n//                 </div>\r\n//             </div>\r\n//             <div className=\"login\">\r\n//                 <button onClick={submit}>{isLoading}</button>\r\n//             </div>\r\n//             <div className=\"gotosignup\">\r\n//                 <p>Not on Studio?</p>\r\n//                 <p onClick={changePage}>Sign Up</p>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// const SignUp = ({ shiftPage }) => {\r\n//     const [compClass, setCompClass] = useState(\"signupmain-fadein\");\r\n//     const [loginErr, setLoginErr] = useState(false);\r\n//     const [type, setType] = useState(\"password\");\r\n//     const [smallBallClass, setSmallBallClass] = useState(\"smallball-password\");\r\n//     const [errMsg, setErrMsg] = useState(\"\");\r\n//     const emailRef = useRef();\r\n//     const passwordRef = useRef();\r\n//     const nameRef = useRef();\r\n//     const [isLoading, setIsLoading] = useState(\"Continue\");\r\n\r\n//     const change = () => {\r\n//         if(type === \"text\") {\r\n//             setType(\"password\");\r\n//             setSmallBallClass(\"smallball-password\");\r\n//         } else {\r\n//             setType(\"text\");\r\n//             setSmallBallClass(\"smallball-text\");\r\n//         }\r\n//     };\r\n\r\n//     const submit = async () => {\r\n//         if(emailRef.current.value === \"\") {\r\n//             setErrMsg(\"Can't leave email empty\");\r\n//             setLoginErr(true);\r\n//         } else if (passwordRef.current.value === \"\") {\r\n//             setErrMsg(\"Can't leave password empty\");\r\n//             setLoginErr(true);\r\n//         } else if (nameRef.current.value === \"\") {\r\n//             setErrMsg(\"Can't leave username empty\");\r\n//             setLoginErr(true);\r\n//         } else {\r\n//             setIsLoading(\"Loading\");\r\n//             const res = await axios({\r\n//                 method: \"POST\",\r\n//                 url: `${baseLink}/signup`,\r\n//                 data: {\r\n//                     em: emailRef.current.value,\r\n//                     pass: passwordRef.current.value,\r\n//                     name: nameRef.current.value\r\n//                 }\r\n//             });\r\n//             setIsLoading(\"Continue\");\r\n//             if (res.data.status === \"registered\") {\r\n//                 changePage();\r\n//             } else {\r\n//                 setErrMsg(\"Email already exists\");\r\n//                 setLoginErr(true);\r\n//             }\r\n//         }\r\n//     };\r\n\r\n//     const changePage = () => {\r\n//         setCompClass(\"signupmain-fadeout\");\r\n//         setTimeout(() => {\r\n//             shiftPage(true);\r\n//         },500);\r\n//     };\r\n\r\n//     const remError = () => {\r\n//         if(loginErr) {\r\n//             setTimeout(() => {\r\n//                 setLoginErr(false);\r\n//             },3000);\r\n//         }\r\n//     };\r\n//     remError();\r\n\r\n//     return(\r\n//         <div className={compClass}>\r\n//             <div className=\"title\">\r\n//                 <p>Sign up for free.</p>\r\n//             </div>\r\n//             { loginErr ? <Error msg={errMsg}/> : <div className=\"empty\"></div> \r\n//             }\r\n//             <div className=\"email\">\r\n//                 <input type=\"email\" placeholder=\"Email\" spellCheck=\"false\" ref={emailRef} />\r\n//             </div>\r\n//             <div className=\"password\">\r\n//                 <div className=\"join\">\r\n//                     <input type={type} placeholder=\"Password\" spellCheck=\"false\" ref={passwordRef} />\r\n//                     <div className=\"viewdiv\" onClick={change}>\r\n//                         <div className={smallBallClass}></div>\r\n//                     </div>\r\n//                 </div>\r\n//             </div>\r\n//             <div className=\"username\">\r\n//                 <input type=\"text\" placeholder=\"What do we call you?\" spellCheck=\"false\" ref={nameRef} />\r\n//             </div>\r\n//             <div className=\"signup\">\r\n//                 <button onClick={submit}>{isLoading}</button>\r\n//             </div>\r\n//             <div className=\"gotologin\">\r\n//                 <p>Already on Studio?</p>\r\n//                 <p onClick={changePage}>Log In</p>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// const Opening = () => {\r\n//     const [logoClass, setLogoClass] = useState(\"logo-start\");\r\n//     const [barClass, setBarClass] = useState(\"bar-initial\");\r\n//     const [mainClass, setMainClass] = useState(\"main-start\");\r\n//     const [redirectValue, setRedirectValue] = useState(false);\r\n//     const [logInScreen, setLogInScreen] = useState(true);\r\n\r\n//     const firstCheck = async () => {\r\n//         await setTimeout(async () => {\r\n//             // let res = { data: { status: \"\" } };\r\n//             let res;\r\n//             res = await axios({\r\n//                 method: \"GET\",\r\n//                 url: `${baseLink}/activateCheck`\r\n//             });\r\n//             // res.data.status = \"active\";\r\n//             if (res.data.status === \"active\") {\r\n//                 const token = localStorage.getItem(\"access\");\r\n//                 if (token === \"allowed\") {\r\n//                     setMainClass(\"main-end\");\r\n//                     setTimeout(() => {\r\n//                         setRedirectValue(true);\r\n//                     },1000);\r\n//                 } else {\r\n//                     setLogoClass(\"logo-mid\");\r\n//                     setBarClass(\"bar-start\");\r\n//                 }\r\n//             }\r\n//         },2000);\r\n//     };\r\n\r\n//     useEffect(() => {\r\n//         firstCheck();\r\n//     },[]);\r\n\r\n//     if(redirectValue) {\r\n//         return ( <Redirect to=\"/home/homescreen\" /> );\r\n//     }\r\n//     return(\r\n//         <div className={mainClass}>\r\n//             <div className={logoClass}>\r\n//                 <div className=\"left\">\r\n//                     <img className=\"logoimg\" src={logo} alt=\"logo\"/>\r\n//                 </div>\r\n//                 <div className=\"right\">\r\n//                     <p>Studio</p>\r\n//                 </div>\r\n//             </div>\r\n//             <div className={barClass}>\r\n//                 <div className=\"logincontainer\">\r\n//                     { logInScreen ? \r\n//                         <Login \r\n//                             shiftPage={setLogInScreen}\r\n//                             setRedirectValue={setRedirectValue}\r\n//                             setMainClass={setMainClass}\r\n//                         /> : \r\n//                         <SignUp \r\n//                             shiftPage={setLogInScreen}\r\n//                         /> }\r\n//                 </div>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// };\r\n\r\nconst Login2 = ({ setGoToLogin, setGoToSignUp, setMainClass, setRedirectValue }) => {\r\n    const [loginClass, setLoginClass] = useState(\"loginscreen-in\");\r\n    const [smallBallClass, setSmallBallClass] = useState(\"ball-password\");\r\n    const [type, setType] = useState(\"password\");\r\n    const [isError, setIsError] = useState(false);\r\n    const [button, setButton] = useState(\"Log In\");\r\n    const [loginButton, setLoginButton] = useState(\"loginbutton\");\r\n    const [link, setLink] = useState(\"gotosignup\");\r\n    const [msg, setMsg] = useState(\"\");\r\n    const [checkClass, setCheckClass] = useState(\"checkbox-start\");\r\n    const [,setClass] = CustomUseState(homeClass);\r\n    const [tab, setTab] = CustomUseState(tabGlobal);\r\n    // const [,setKeepButton] = CustomUseState(keepButtonGlobal);\r\n    const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    topBar = topBarConfig;\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n\r\n    const fillIn = () => {\r\n        const text = localStorage.getItem(\"email\");\r\n        const pwd = localStorage.getItem(\"password\");\r\n        if (text !== null && pwd !== null) {\r\n            emailRef.current.value = text;\r\n            passwordRef.current.value = pwd;\r\n            setCheckClass(\"checkbox-end\");\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fillIn();\r\n    },[]);\r\n\r\n    const change = async () => {\r\n        setLoginClass(\"loginscreen-out\");\r\n        await wait(100);\r\n        setGoToLogin(false);\r\n        setGoToSignUp(true);\r\n    };\r\n\r\n    const goToMain = async () => {\r\n        // await setup();\r\n        setClass(\"homemain start\");\r\n        setMainClass(\"mainwindow-end\");\r\n        if (tab !== \"Home\") setTab(\"Home\");\r\n        setTopBarConfig({\r\n            ...topBar,\r\n            button: false,\r\n            buttonFunc: () => {},\r\n            title: \"\",\r\n            bgColor: \"transparent\"\r\n        });\r\n        // setKeepButton(false);\r\n        await wait(500);\r\n        setRedirectValue(true);\r\n    };\r\n\r\n    const shift = () => {\r\n        if (type === \"password\") {\r\n            setType(\"text\");\r\n            setSmallBallClass(\"ball-text\");\r\n        } else {\r\n            setType(\"password\");\r\n            setSmallBallClass(\"ball-password\");\r\n        }\r\n    };\r\n\r\n    const checkbox = () => {\r\n        setCheckClass( checkClass === \"checkbox-start\" ?\r\n            \"checkbox-end\" : \"checkbox-start\" );\r\n    };\r\n\r\n    const submit = async () => {\r\n        if (emailRef.current.value === \"\") {\r\n            setIsError(true);\r\n            setMsg(\"Cannot leave email empty!\")\r\n            return;\r\n        }\r\n        if (passwordRef.current.value === \"\") {\r\n            setIsError(true);\r\n            setMsg(\"Cannot leave password empty!\");\r\n            return;\r\n        }\r\n        setButton(\"Logging you in....\");\r\n        setLoginButton(\"loginbutton-loading\");\r\n        setLink(\"gotosignup-loading\");\r\n        let res = await sendRequest({\r\n            method: \"POST\",\r\n            endpoint: \"/login\",\r\n            data: {\r\n                text: emailRef.current.value,\r\n                password: passwordRef.current.value\r\n            }\r\n        });\r\n        if (res.status === \"loggedin\") {\r\n            localStorage.setItem(\"token\",res.status);\r\n            localStorage.setItem(\"username\",res.username);\r\n            localStorage.setItem(\"userId\",res.userId);\r\n            if (checkClass === \"checkbox-end\") {\r\n                localStorage.setItem(\"email\",emailRef.current.value);\r\n                localStorage.setItem(\"password\",passwordRef.current.value);\r\n            }\r\n            goToMain();\r\n        } else {\r\n            setIsError(true);\r\n            setMsg(res.error);\r\n            setButton(\"Log In\");\r\n            setLoginButton(\"loginbutton\");\r\n            setLink(\"gotosignup\");\r\n        }\r\n    };\r\n\r\n    const remError = () => {\r\n        if (isError) {\r\n            setTimeout(() => {\r\n                setIsError(false);\r\n            },3000);\r\n        }\r\n    };\r\n    remError();\r\n\r\n    return(\r\n        <div className={loginClass}>\r\n            <div className=\"logocontainer\">\r\n                <div className=\"leftlogo\">\r\n                    <img src={logo} alt=\"Studio\" />\r\n                </div>\r\n                <div className=\"rightlogo\">\r\n                    <p>Studio</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"title\">\r\n                <p>Log in to continue.</p>\r\n            </div>\r\n            <div className=\"inputfields\">\r\n                {\r\n                    isError ? <Error msg={msg}/> : <div className=\"errordivreplacement\">\r\n                    </div>\r\n                }\r\n                <div className=\"email\">\r\n                    <input type=\"text\" name=\"email\" placeholder=\"Email / Username\" spellCheck=\"false\" ref={emailRef}/>\r\n                </div>\r\n                <div className=\"password\">\r\n                    <input type={type} name=\"password\" placeholder=\"Password\" ref={passwordRef}/>\r\n                    <div className=\"viewer\">\r\n                        <div className={smallBallClass} onClick={shift}></div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"remember\">\r\n                    <p>Remember Me?</p>\r\n                    <div className={checkClass} onClick={checkbox}>\r\n                        <div className=\"ball\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={loginButton}>\r\n                <button onClick={submit}>{button}</button>\r\n            </div>\r\n            <div className={link}>\r\n                <p>Not on Studio?</p><p onClick={change}>Sign Up</p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst SignUp2 = ({ setGoToLogin, setGoToSignUp }) => {\r\n    const [signUpClass, setSignUpClass] = useState(\"signupscreen-in\");\r\n    const [isError, setIsError] = useState(false);\r\n    const [button, setButton] = useState(\"Sign Up\");\r\n    const [signUpButton, setSignUpButton] = useState(\"signupbutton\");\r\n    const [link, setLink] = useState(\"gotologin\");\r\n    const [msg, setMsg] = useState(\"\");\r\n    const [type, setType] = useState(\"password\");\r\n    const [smallBallClass, setSmallBallClass] = useState(\"ball-password\");\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n    const usernameRef = useRef();\r\n\r\n    const change = async () => {\r\n        setSignUpClass(\"signupscreen-out\");\r\n        await wait(100);\r\n        setGoToSignUp(false);\r\n        setGoToLogin(true);\r\n    };\r\n\r\n    const shift = () => {\r\n        if (type === \"password\") {\r\n            setType(\"text\");\r\n            setSmallBallClass(\"ball-text\");\r\n        } else {\r\n            setType(\"password\");\r\n            setSmallBallClass(\"ball-password\");\r\n        }\r\n    };\r\n\r\n    const submit = async () => {\r\n        if (usernameRef.current.value === \"\") {\r\n            setIsError(true);\r\n            setMsg(\"Cannot leave username empty!\")\r\n            return;\r\n        }\r\n        if (emailRef.current.value === \"\") {\r\n            setIsError(true);\r\n            setMsg(\"Cannot leave email empty!\")\r\n            return;\r\n        }\r\n        const pattern = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/;\r\n        if (!pattern.test(emailRef.current.value)) {\r\n            setIsError(true);\r\n            setMsg(\"Invalid email!\");\r\n            return;\r\n        }\r\n        if (passwordRef.current.value === \"\") {\r\n            setIsError(true);\r\n            setMsg(\"Cannot leave password empty!\");\r\n            return;\r\n        }\r\n        setButton(\"Signing you up....\");\r\n        setSignUpButton(\"signupbutton-loading\");\r\n        setLink(\"gotologin-loading\");\r\n        let res = await sendRequest({\r\n            method: \"POST\",\r\n            endpoint: `/signup`,\r\n            data: {\r\n                username: usernameRef.current.value,\r\n                email: emailRef.current.value,\r\n                password: passwordRef.current.value\r\n            }\r\n        });\r\n        if (res.status === \"registered\") {\r\n            change();\r\n        } else {\r\n            setIsError(true);\r\n            setMsg(res.error);\r\n            setButton(\"Sign Up\");\r\n            setSignUpButton(\"signupbutton\");\r\n            setLink(\"gotologin\");\r\n        }\r\n    };\r\n\r\n    const remError = () => {\r\n        if (isError) {\r\n            setTimeout(() => {\r\n                setIsError(false);\r\n            },3000);\r\n        }\r\n    };\r\n    remError();\r\n\r\n    return(\r\n        <div className={signUpClass}>\r\n            <div className=\"logocontainer\">\r\n                <div className=\"leftlogo\">\r\n                    <img src={logo} alt=\"Studio\" />\r\n                </div>\r\n                <div className=\"rightlogo\">\r\n                    <p>Studio</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"title\">\r\n                <p>Sign up for free.</p>\r\n            </div>\r\n            <div className=\"inputfields\">\r\n                {\r\n                    isError ? <Error msg={msg}/> : <div className=\"errordivreplacement\">\r\n                    </div>\r\n                }\r\n                <div className=\"username\">\r\n                    <input type=\"text\" name=\"username\" placeholder=\"Username\" spellCheck=\"false\" ref={usernameRef} />\r\n                </div>\r\n                <div className=\"email\">\r\n                    <input type=\"email\" name=\"email\" placeholder=\"Email\" spellCheck=\"false\" ref={emailRef}/>\r\n                </div>\r\n                <div className=\"password\">\r\n                    <input type={type} name=\"password\" placeholder=\"Password\" ref={passwordRef}/>\r\n                    <div className=\"viewer\">\r\n                        <div className={smallBallClass} onClick={shift}></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={signUpButton}>\r\n                <button onClick={submit}>{button}</button>\r\n            </div>\r\n            <div className={link}>\r\n                <p>Already on Studio?</p><p onClick={change}>Log In</p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Opening2 = () => {\r\n    const [redirectValue, setRedirectValue] = useState(false);\r\n    // const [mainClass, setMainClass] = useState(\"mainwindow-start\");\r\n    const [loaderClass, setLoaderClass] = useState(\"openingloader hidden\");\r\n    // const [goToLogin, setGoToLogin] = useState(false);\r\n    // const [goToSignUp, setGoToSignUp] = useState(false);\r\n    // const [,setClass] = CustomUseState(homeClass);\r\n    const [,setIsPlaying] = CustomUseState(playingGlobal);\r\n    const [,setSong] = CustomUseState(albumGlobal);\r\n    const [,setQueue] = CustomUseState(queueGlobal);\r\n\r\n    setup = async () => {\r\n        const queue = JSON.parse(localStorage.getItem(\"queue\"));\r\n        if (queue) {\r\n            setIsPlaying(true);\r\n            let nowplaying = JSON.parse(localStorage.getItem(\"nowplaying\"));\r\n            if (nowplaying !== null) {\r\n                const res = await sendRequest({\r\n                    method: \"POST\",\r\n                    endpoint: \"/updateUrls\",\r\n                    data: {\r\n                        list: queue.concat([nowplaying])\r\n                    }\r\n                });\r\n                queue = res.slice(0,res.length - 1);\r\n                nowplaying = res[res.length - 1];\r\n                localStorage.setItem(\"queue\",JSON.stringify(queue));\r\n                localStorage.setItem(\"nowplaying\",JSON.stringify(nowplaying));\r\n\r\n                const index = queue.findIndex(each => {\r\n                    if (each.Title && nowplaying.Title) {\r\n                        return each.Title === nowplaying.Title;\r\n                    } else {\r\n                        return each.Album === nowplaying.Album;\r\n                    }\r\n                });\r\n                if (nowplaying.url !== \"\") {\r\n                    nowplaying.backup = nowplaying.url;\r\n                    nowplaying.url = \"\";\r\n                }\r\n                queue[index] = nowplaying;\r\n                setSong(nowplaying);\r\n                setQueue(queue);\r\n            } else {\r\n                localStorage.removeItem(\"nowplaying\");\r\n                localStorage.removeItem(\"queue\");\r\n                setIsPlaying(false);\r\n            }\r\n        }\r\n    };\r\n\r\n    const call = async () => {\r\n        await wait(2000);\r\n        setLoaderClass(\"openingloader\");\r\n        let res;\r\n        keepServersActive();\r\n        res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: \"/activateCheck\"\r\n        });\r\n        if (res.status === \"active\") {\r\n            sendRequest({\r\n                method: \"GET\",\r\n                endpoint: \"/recordTime\"\r\n            });\r\n            // setClass(\"homemain start\");\r\n            // await wait(500);\r\n            // await setup();\r\n            // setLoaderClass(\"openingloader hidden\");\r\n            await wait(500);\r\n            // setMainClass(\"mainwindow-end\");\r\n            // await wait(500);\r\n            setRedirectValue(true);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        call();\r\n    }, []);\r\n\r\n    if (redirectValue) {\r\n        return <Redirect to={prefix+\"/home/homescreen\"} />;\r\n    }\r\n    return(\r\n        // <div className={mainClass}>\r\n        <div className=\"mainwindow\">\r\n            {/* {\r\n                !goToLogin && !goToSignUp ?\r\n                <> */}\r\n                    <div className=\"logoholder\">\r\n                        <img src={logo2} alt=\"Studio\" />\r\n                    </div>\r\n                    <div className={loaderClass}>\r\n                        <div className=\"firstcircle\"></div>\r\n                        <div className=\"secondcircle\"></div>\r\n                        <div className=\"thirdcircle\"></div>\r\n                        <div className=\"fourthcircle\"></div>\r\n                    </div>\r\n                {/* </> : \"\"\r\n            } */}\r\n            {/* {\r\n                goToLogin ? <Login2 setGoToLogin={setGoToLogin} setGoToSignUp={setGoToSignUp}\r\n                    setMainClass={setMainClass} setRedirectValue={setRedirectValue}/> : \"\"\r\n            }\r\n            {\r\n                goToSignUp ? <SignUp2 setGoToLogin={setGoToLogin} setGoToSignUp={setGoToSignUp}/> : \"\"\r\n            } */}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Opening2;","import \"./css/teststyles.css\";\r\nimport React from \"react\";\r\n\r\n\r\nconst Button = props => {\r\n    const createRipple = e => {\r\n        const button = e.currentTarget;\r\n        // const circle = button.getElementsByClassName(\"ripple\")[0];\r\n        const circle = button.lastChild;\r\n        const diameter = Math.max(button.clientWidth, button.clientHeight);\r\n        const radius = diameter / 2;\r\n        const dimen = button.getBoundingClientRect();\r\n        circle.style.width = circle.style.height = `${diameter}px`;\r\n        circle.style.left = `${e.clientX - (dimen.left + radius)}px`;\r\n        circle.style.top = `${e.clientY - (dimen.top + radius)}px`;\r\n        circle.classList.remove(\"hidden\");\r\n        circle.classList.add(\"play\");\r\n        setTimeout(() => {\r\n            circle.classList.remove(\"play\");\r\n            circle.classList.add(\"hidden\");\r\n        }, 600);\r\n    };\r\n\r\n    const handleClick = e => {\r\n        createRipple(e);\r\n        props.onClick(e);\r\n    };\r\n\r\n    return(\r\n        <div className={props.className} onClick={handleClick} title={props.title}\r\n        style={{ outline: \"none\", position: \"relative\", overflow: \"hidden\" }}>\r\n            {props.children}\r\n            <span className=\"ripple hidden\"></span>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Button;","import \"../../../css/homestyles.css\";\r\nimport \"../../../css/teststyles.css\";\r\nimport \"../../../css/hometeststyles.css\";\r\nimport { MidPanelLoader } from \"./index\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport playbutton from \"../../../assets/playwhite.png\";\r\nimport pausebutton from \"../../../assets/pausewhite.png\";\r\nimport Close from \"../../../assets/deletewhite.svg\";\r\nimport Play from \"../../../assets/playbutton-white.svg\";\r\nimport Pause from \"../../../assets/pausebutton-white.svg\";\r\nimport Placeholder from \"../../../assets/placeholder.svg\";\r\nimport {\r\n    CustomUseState,\r\n    routesGlobal,\r\n    queueOpenedGlobal,\r\n    sendRequest,\r\n    topBarGlobal,\r\n    openerGlobal,\r\n    albumGlobal,\r\n    songIsPausedGlobal,\r\n    playingGlobal,\r\n    queueGlobal,\r\n    topBgColorGlobal,\r\n    modifyLibrary,\r\n    checkX,\r\n    checkY,\r\n    prefix,\r\n    global,\r\n    responseBar,\r\n    radioGlobal\r\n} from \"../../../common\";\r\nimport Queue from \"./Queue\";\r\nimport Button from \"../../../Button\";\r\nimport { pauseOrPlay } from \"../../../homepage\";\r\nlet topBar, actualIsOpen;\r\n\r\n\r\nconst EachInList = ({ addCloseButton, closeFunc, item }) => {\r\n    const [routes, setRoutes] = CustomUseState(routesGlobal);\r\n    const [redirectTo, setRedirectTo] = useState(\"\");\r\n    const [song, setAlbumForPlayer] = CustomUseState(albumGlobal);\r\n    const [songPaused, setSongPaused] = CustomUseState(songIsPausedGlobal);\r\n    const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [, setQueue] = CustomUseState(queueGlobal);\r\n    let songPausedLocal = songPaused;\r\n\r\n\r\n    const display = item => {\r\n        routes.push(`/home/album/${item.Album}`);\r\n        setRoutes(routes);\r\n        setRedirectTo(`${item.Album}`);\r\n    };\r\n\r\n    const handlePlayPause = (e) => {\r\n        e.stopPropagation();\r\n        if (song.Album === item.Album) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n        const main = item.Type === \"Album\" ? item.Tracks : [item];\r\n        if (!playing) setPlaying(true);\r\n        if (item.Type === \"Single\") {\r\n            setQueue(main);\r\n            setAlbumForPlayer(main[0]);\r\n        } else {\r\n            main.forEach(song => {\r\n                song.Album = item.Album;\r\n                song.Thumbnail = item.Thumbnail;\r\n                song.Color = item.Color;\r\n            });\r\n            setQueue(main);\r\n            setAlbumForPlayer(main[0]);\r\n        }\r\n        localStorage.setItem(\"queue\",JSON.stringify(main));\r\n        setSongPaused(true);\r\n    };\r\n\r\n    const handleMenu = (e) => {\r\n        e.preventDefault();\r\n    };\r\n\r\n    if (redirectTo !== \"\") {\r\n        return <Redirect to={`/home/album/${redirectTo}`} />\r\n    }\r\n    return(\r\n        <div className=\"cover\">\r\n            {\r\n                addCloseButton ? \r\n                <div className=\"crossinsearch\" onClick={() => closeFunc(item)}>\r\n                    <img src={Close} alt=\"\" />\r\n                </div> : \"\"\r\n            }\r\n            <div className=\"inner\" \r\n            onClick={() => display(item)}\r\n            onContextMenu={handleMenu}\r\n            >\r\n                {\r\n                    // noBg ?\r\n                    // <img src={item.Thumbnail} alt=\"\" className=\"innercoverimg\"/> :\r\n                    // <div className=\"coverimg\"\r\n                    // style={{ backgroundImage: `url(${Placeholder})`, backgroundSize: \"cover\" }}\r\n                    // >\r\n                        <img src={item.Thumbnail} alt=\"\" className=\"innercoverimg\"/>\r\n                    // </div>\r\n                }\r\n                <p className=\"album\">{item.Album}</p>\r\n                <p className=\"artist\">{item.AlbumArtist}</p>\r\n                {/* <div className={ show ? \"blackblurtop\" : \"blackblurtop hidden\" }></div>\r\n                <div className={ show ? \"blackblurbottom\" : \"blackblurbottom hidden\" }></div> */}\r\n                <div className={ (!songPausedLocal && song.Album === item.Album) ? \"floater-stay\" : \"floater\" }>\r\n                    <div className=\"rowplaybutton\" onClick={handlePlayPause}>\r\n                        <img src={ !songPausedLocal && song.Album === item.Album ? pausebutton : playbutton } alt=\"\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport const HorizontalList = ({ list, addCloseButton = false, closeFunc = ()=>{} }) => {\r\n    // const [redirectTo, setRedirectTo] = useState(\"\");\r\n    // const [, setTab] = CustomUseState(tabGlobal);\r\n    // const [routes, setRoutes] = CustomUseState(routesGlobal);\r\n    // const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    // actualIsOpen = openerDetails.open;\r\n\r\n    // const handleMenu = (e) => {\r\n    //     e.stopPropagation();\r\n    //     e.preventDefault();\r\n    //     setOpenerDetails({\r\n    //         open: !actualIsOpen,\r\n    //         yValue: e.clientY,\r\n    //         xValue: e.clientX,\r\n    //         type: \"album\",\r\n    //         data: [\r\n    //             {\r\n    //                 name: \"Add album to queue\",\r\n    //                 func: () => {}\r\n    //             },\r\n    //             {\r\n    //                 name: `Play next`,\r\n    //                 func: () => {}\r\n    //             }\r\n    //         ]\r\n    //     });\r\n    // };\r\n\r\n    // if (redirectTo !== \"\") {\r\n    //     return <Redirect to={`/home/album/${redirectTo}`} />\r\n    // }\r\n    return(\r\n        <>\r\n        <div className=\"innerlist\">\r\n            {\r\n                list.map((item,i) => {\r\n                    if (i<5) {\r\n                        return(\r\n                            <EachInList addCloseButton={addCloseButton} closeFunc={closeFunc} item={item} />\r\n                        );\r\n                    }\r\n                    return null;\r\n                })\r\n            }\r\n        </div>\r\n        </>\r\n    );\r\n};\r\nconst EachTile = ({ mouseOver, mouseOut, album }) => {\r\n    let songPausedLocal;\r\n    const [redirectTo, setRedirectTo] = useState(\"\");\r\n    const [routes, setRoutes] = CustomUseState(routesGlobal);\r\n    const [song, setAlbumForPlayer] = CustomUseState(albumGlobal);\r\n    const [songPaused, setSongPaused] = CustomUseState(songIsPausedGlobal);\r\n    const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [, setQueue] = CustomUseState(queueGlobal);\r\n    songPausedLocal = songPaused;\r\n\r\n    const moveOver = (album,e) => {\r\n        e.stopPropagation();\r\n        routes.push(`/home/album/${album}`);\r\n        setRoutes(routes);\r\n        setRedirectTo(`${album}`);\r\n    };\r\n    \r\n    const handlePlayPause = (e) => {\r\n        e.stopPropagation();\r\n        // console.log(\"album\",album,\"song\",song);\r\n        if (song.Album === album.Album) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n        const main = album.Type === \"Album\" ? album.Tracks : [album];\r\n        if (!playing) setPlaying(true);\r\n        if (album.Type === \"Single\") {\r\n            setQueue(main);\r\n            setAlbumForPlayer(main[0]);\r\n        } else {\r\n            main.forEach(song => {\r\n                song.Album = album.Album;\r\n                song.Thumbnail = album.Thumbnail;\r\n                song.Color = album.Color;\r\n            });\r\n            setQueue(main);\r\n            setAlbumForPlayer(main[0]);\r\n        }\r\n        localStorage.setItem(\"queue\",JSON.stringify(main));\r\n        setSongPaused(true);\r\n    };\r\n\r\n    if (redirectTo !== \"\") {\r\n        return <Redirect to={`/home/album/${redirectTo}`} />\r\n    }\r\n    return(\r\n        <div className=\"rowfirst\"\r\n        onMouseOver={() => mouseOver(album.Color)}\r\n        onClick={(e) => moveOver(album.Album,e)}\r\n        onMouseOut={mouseOut}>\r\n            <img src={album.Thumbnail} alt=\"\" className=\"rowimage\" />\r\n            <div className=\"rowname\">{album.Album}</div>\r\n            <div className={  (!songPausedLocal && song.Album === album.Album) ? \r\n            \"rowplaybuttoncontainer-stay\" : \"rowplaybuttoncontainer\" }>\r\n                <div className=\"rowplaybutton\" onClick={handlePlayPause}>\r\n                    <img src={ !songPausedLocal && song.Album === album.Album ? pausebutton : playbutton } alt=\"\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nconst EachRow = ({ row, mouseOver, mouseOut }) => {\r\n    return(\r\n        <div className=\"row\">\r\n            {\r\n                row.map(each => {\r\n                    return(\r\n                        <EachTile mouseOver={mouseOver} mouseOut={mouseOut} album={each} />\r\n                    );\r\n                })\r\n            }\r\n            {/* <div className=\"rowfirst\"></div>\r\n            <div className=\"rowfirst\"></div> */}\r\n        </div>\r\n    );\r\n};\r\nconst TopDisplay = ({ mostPlayed, mouseOver, mouseOut }) => {\r\n    const { title, list } = mostPlayed;\r\n\r\n    return(\r\n        <div className=\"shortcuts\">\r\n            <div className=\"bigmaintitle\">\r\n                <p>{title}</p>\r\n            </div>\r\n            <div style={{ width: \"100%\", height: \"15px\" }}></div>\r\n            {\r\n                Object.keys(list).map(each => {\r\n                    return(\r\n                        <EachRow row={list[each]} mouseOver={mouseOver} mouseOut={mouseOut}/>\r\n                    );\r\n                })\r\n            }\r\n            <div style={{ width: \"100%\", height: \"15px\" }}></div>\r\n        </div>\r\n    );\r\n};\r\nconst ActualHomeScreen = () => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [all, setAll] = useState({});\r\n    const [played, setPlayed] = useState({});\r\n    const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [bg, setBg] = useState(\"\");\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    const [, setTopBgColor] = CustomUseState(topBgColorGlobal);\r\n    actualIsOpen = openerDetails.open;\r\n    topBar = topBarConfig;\r\n\r\n    const mouseOut = () => {\r\n        const { list } = played;\r\n        if (Object.keys(list).length === 0) {\r\n            // setBg(`#121212`);\r\n            // setTopBgColor(\"#202020\");\r\n            setTopBgColor(\"#252525\");\r\n            return;\r\n        }\r\n        let color = list[0][0].Color.split(\",\");\r\n        let another = color;\r\n        color[3] = \"0.3)\";\r\n        color = color.join(\",\");\r\n        setBg(color);\r\n        another[3] = \"0.3)\";\r\n        another = another.join(\",\");\r\n        setTopBgColor(another);\r\n        // return color;\r\n    };\r\n\r\n    const mouseOver = (color) => {\r\n        let changedColor = color.split(\",\");\r\n        changedColor[3] = \"0.3)\";\r\n        changedColor = changedColor.join(\",\");\r\n        setBg(changedColor);\r\n    };\r\n\r\n    const scrollHandler = (e) => {\r\n        const top = e.currentTarget.scrollTop;\r\n        sessionStorage.setItem(\"home-scroll\",top);\r\n        if (Object.keys(played.list).length === 0) {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                // bgColor: bg\r\n                bgColor: \"#252525\"\r\n            });\r\n            return;\r\n        }\r\n        if (top > 200 && topBar.bgColor === \"transparent\") {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                bgColor: bg\r\n            });\r\n        }\r\n        if (top < 200 && topBar.bgColor !== \"transparent\") {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                bgColor: \"transparent\"\r\n            });\r\n        }\r\n        if (actualIsOpen) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const call = async () => {\r\n            const res = await sendRequest({\r\n                method: \"GET\",\r\n                endpoint: `/getHomeAlbums`\r\n            });\r\n            setAll(res.albums);\r\n            setPlayed(res.mostPlayed);\r\n            setIsLoading(false);\r\n        };\r\n        if (isLoading) {\r\n            call();\r\n        } else {\r\n            const main = document.querySelector(\".main\");\r\n            main.scrollTop = sessionStorage.getItem(\"home-scroll\") || 0;\r\n            mouseOut();\r\n        }\r\n        setTopBarConfig({\r\n            ...topBar,\r\n            button: false,\r\n            bgColor: \"transparent\"\r\n        });\r\n    }, [isLoading]);\r\n\r\n    const list = [\"New Releases\",\"Recently Added\",\"Most Played\",\"On Loop\",\"More Like DIVINE\"];\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader />\r\n    }\r\n    return(\r\n        <div className=\"homescreen\">\r\n            <div className=\"main\" onScroll={scrollHandler}>\r\n                <div className=\"colourtop\"\r\n                style={ Object.keys(played.list).length !== 0 ?\r\n                    // { backgroundImage: `linear-gradient(${bg},#121212)` } : \r\n                    { backgroundColor: `${bg}` } : \r\n                    // { backgroundImage: `linear-gradient(rgba(127,255,212,0.2),#121212,#121212,#121212)` } }\r\n                    // { backgroundColor: `#121212` } }\r\n                    { backgroundColor: `#252525` } }\r\n                >\r\n                    <div className=\"forblur\"></div>\r\n                </div>\r\n                <div className=\"noncolour\">\r\n                    {\r\n                        Object.keys(played.list).length !== 0 ? <TopDisplay mostPlayed={played} mouseOver={mouseOver} mouseOut={mouseOut}/> : \"\"\r\n                    }\r\n                    {   \r\n                        Object.keys(all).map((key,i) => {\r\n                            if (all[key].length !== 0) {\r\n                                return(\r\n                                    <div className=\"outline\">\r\n                                        <div className={ i === 0 && Object.keys(played.list).length === 0 ? \"bigmaintitle\" : \"maintitle\" }>\r\n                                            <p>{key}</p>\r\n                                            {/* { all[key].length > 5 ?\r\n                                                <div className=\"viewmore\">\r\n                                                    <p>VIEW MORE</p>\r\n                                                </div> : \"\"\r\n                                            } */}\r\n                                        </div>\r\n                                        <div className=\"list\">\r\n                                            <HorizontalList list={all[key]} />\r\n                                        </div>\r\n                                    </div>\r\n                                );\r\n                            }\r\n                            return null;\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nconst QuickPickRow = ({ row }) => {\r\n    return(\r\n        <div className=\"quickpickrow\">\r\n            {\r\n                row.map(item => {\r\n                    return <EachInQuickPick song={item} />\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst EachInQuickPick = ({\r\n    song,\r\n    openerFunc,\r\n    openerDetails,\r\n    setOpenerDetails,\r\n    playing,\r\n    setPlaying,\r\n    queue,\r\n    setQueue,\r\n    songIsPaused,\r\n    setSongIsPaused,\r\n    playingSong,\r\n    setPlayingSong,\r\n    radio,\r\n    setRadio,\r\n    setResObj\r\n}) => {\r\n    const [hovered, setHovered] = useState(false);\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        openerFunc(e, { dimensions, windowDim, song });\r\n    };\r\n\r\n    const determine = () => {\r\n        const nameOfSong = song.Title || song.Album;\r\n        const nameOfPlayingSong = playingSong.Title || playingSong.Album;\r\n        if (nameOfSong === nameOfPlayingSong) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    const handlePlayPause = async e => {\r\n        e.stopPropagation();\r\n        if (openerDetails.open) {\r\n            setOpenerDetails({ ...openerDetails, open: false });\r\n        }\r\n        if (determine()) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n        const main = { ...song };\r\n        if (!playing) setPlaying(true);\r\n        main.id = global.id = 0;\r\n        const newqueue = [main];\r\n        setQueue([main]);\r\n        setPlayingSong(main);\r\n        localStorage.setItem(\"queue\",JSON.stringify([main]));\r\n        setSongIsPaused(true);\r\n        if (!radio) {\r\n            setResObj({ open: true, msg: \"Starting radio....\" });\r\n            setRadio(true);\r\n            const songList = await sendRequest({\r\n                method: \"GET\",\r\n                endpoint: `/startradio?exclude=${song.Title || song.Album}`\r\n            });\r\n            songList.forEach(each => {\r\n                each.id = ++global.id;\r\n            });\r\n            newqueue.push(...songList);\r\n            setQueue(newqueue);\r\n            localStorage.setItem(\"queue\",JSON.stringify(newqueue));\r\n            setRadio(false);\r\n        }\r\n    };\r\n\r\n    return(\r\n        <div className=\"eachinquick\" onMouseOver={() => setHovered(true)} onMouseOut={() => setHovered(false)}>\r\n            <div className=\"tile-art\">\r\n                <img src={song.Thumbnail || \"\"} alt=\"\" />\r\n                <div className=\"tiledummyshadow\">\r\n                    {/* <img src={Play} alt=\"\" /> */}\r\n                    <Button className=\"tile-button\" onClick={handlePlayPause}>\r\n                        {\r\n                            determine() ?\r\n                            <img src={ songIsPaused ? Play : Pause } alt=\"\" /> :\r\n                            <img src={Play} alt=\"\" />\r\n                        }\r\n                    </Button>\r\n                </div>\r\n                {\r\n                    !hovered && determine() ? \r\n                    <div className=\"anim-cover\">\r\n                        {\r\n                            !songIsPaused ?\r\n                            <div className=\"playinganim\">\r\n                                <div className=\"div1\"></div>\r\n                                <div className=\"div2\"></div>\r\n                                <div className=\"div3\"></div>\r\n                                <div className=\"div4\"></div>\r\n                            </div> : \r\n                            <div className=\"pausedanim\">\r\n                                <div className=\"div5\"></div>\r\n                                <div className=\"div6\"></div>\r\n                                <div className=\"div7\"></div>\r\n                                <div className=\"div8\"></div>\r\n                            </div> \r\n                        }\r\n                    </div> : null\r\n                }\r\n            </div>\r\n            <div className={ hovered ? \"tile-details-short\" : \"tile-details\" }>\r\n                <div className=\"tile-title\">{song.Title || song.Album}</div>\r\n                <div className=\"tile-artist\">\r\n                    <p>{song.Artist}</p>\r\n                    <div className=\"home-separator\"><div></div></div>\r\n                    <p>{song.Album}</p>\r\n                </div>\r\n            </div>\r\n            <div className={ hovered ? \"tile-last\" : \"tile-last-hidden\" }>\r\n                <div className=\"tileopener\" onClick={handleMenu}>\r\n                    <div className=\"tileopener1\"></div>\r\n                    <div className=\"tileopener2\"></div>\r\n                    <div className=\"tileopener3\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst StartRadio = (props) => {\r\n    const { picks } = props;\r\n\r\n    return(\r\n        <>\r\n            <div className=\"hugetitlename\">\r\n                <div className=\"top-title\">START RADIO FROM A SONG</div>\r\n                <div className=\"bottom-title\">Quick Picks</div>\r\n            </div>\r\n            <div className=\"quickpick-container\">\r\n                <div className=\"quickpick-grid\">\r\n                    {\r\n                        picks.map(item => {\r\n                            return <EachInQuickPick song={item} {...props} />\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nconst EachAlbum = ({ item }) => {\r\n    const [song,] = CustomUseState(albumGlobal);\r\n    const [songPaused,] = CustomUseState(songIsPausedGlobal);\r\n    let songPausedLocal = songPaused;\r\n\r\n    const handleMenu = e => {};\r\n\r\n    const handlePlayPause = e => {};\r\n\r\n    if (Object.keys(item).length > 0) {\r\n        return(\r\n            <div className=\"homealbum\">\r\n                <div className=\"innerhomealbum\">\r\n                    <div className=\"homeartcover\">\r\n                        <div className=\"homedummyshadow\"></div>\r\n                        <div className={ (song.Album === item.Album) ? \"homeplaybuttonfixed\" : \"homeplaybutton\" }>\r\n                            <Button className=\"innerhomeplaybutton\" onClick={handlePlayPause}>\r\n                                <img src={ (!songPausedLocal && song.Album === item.Album) ? Pause : Play} alt=\"\" />\r\n                            </Button>\r\n                        </div>\r\n                        <div className=\"libraryopener\" onClick={handleMenu}>\r\n                            <div className=\"libraryopener1\"></div>\r\n                            <div className=\"libraryopener2\"></div>\r\n                            <div className=\"libraryopener3\"></div>\r\n                        </div>\r\n                        <img src={item.Thumbnail || \"\"} alt=\"\" />\r\n                    </div>\r\n                    <div className=\"homealbumname\">{item.Title || item.Album}</div>\r\n                    <span className=\"homeartistname\">\r\n                        <span>{item.AlbumArtist}</span>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    return <div style={{ width: \"15%\", height: \"100%\" }}></div>\r\n};\r\n\r\nconst NewActualHomeScreen = () => {\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    const [playingSong, setPlayingSong] = CustomUseState(albumGlobal);\r\n    const [queue, setQueue] = CustomUseState(queueGlobal);\r\n    const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [songIsPaused, setSongIsPaused] = CustomUseState(songIsPausedGlobal);\r\n    const [,setResObj] = CustomUseState(responseBar);\r\n    const [radio, setRadio] = CustomUseState(radioGlobal);\r\n    // const [redirectTo, setRedirectTo] = useState(\"\");\r\n    // const [routes, setRoutes] = CustomUseState(routesGlobal);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [data, setData] = useState({});\r\n    const [picks, setPicks] = useState({});\r\n    const list = [\"tileopener\",\"tileopener1\",\"tileopener2\",\"tileopener3\"];\r\n    const hist = useHistory();\r\n    actualIsOpen = openerDetails.open;\r\n\r\n    const call = async () => {\r\n        let res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: `/getHomeAlbums`\r\n        });\r\n        if (res) {\r\n            // res.albums = modifyLibrary(res.albums,6);\r\n            setData(res.albums);\r\n            setPicks(res.quickPicks);\r\n            // setPlayed(res.mostPlayed);\r\n            // ipcRenderer.send(\"response\",res.albums);\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const goToAlbum = song => {\r\n        // routes.push(`/home/album/${song.Album}`);\r\n        // setRoutes(routes);\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n        hist.push(`${prefix}/home/album/${song.Album}`);\r\n        // hist.push(`/`);\r\n        // setRedirectTo(`${song.Album}`);\r\n    };\r\n\r\n    const addTrackToQueue = song => {\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n        const dummy = [ ...queue ];\r\n        const len = dummy.length;\r\n        if (len === 0) return;\r\n        dummy[len] = { ...song, id: ++global.id };\r\n        setQueue(dummy);\r\n        setResObj({ open: true, msg: `Added ${song.Title || song.Album} to queue` });\r\n    };\r\n\r\n    const playTrackNext = song => {\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n        if (queue.length === 0) return;\r\n        const curIndex = queue.indexOf(playingSong);\r\n        const dummy = [ ...queue ];\r\n        dummy.splice(curIndex+1, 0, { ...song, id: ++global.id });\r\n        setQueue(dummy);\r\n        setResObj({ open: true, msg: `Playing ${song.Title || song.Album} next` });\r\n    };\r\n\r\n    const handleMenu = (e, { dimensions, windowDim, song: album }) => {\r\n        const data = [\r\n            {\r\n                name: \"Go to album\",\r\n                func: () => goToAlbum(album)\r\n            },\r\n            {\r\n                name: \"Add to queue\",\r\n                func: () => addTrackToQueue(album)\r\n            },\r\n            {\r\n                name: \"Play next\",\r\n                func: () => playTrackNext(album)\r\n            }\r\n        ];\r\n        e.stopPropagation();\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: true,\r\n            xValue: checkX(dimensions.x, windowDim.width),\r\n            yValue: checkY(dimensions.y, windowDim.height, data.length),\r\n            data\r\n        });\r\n    };\r\n\r\n    const documentClick = e => {\r\n        if (!list.includes(e.target.className) && actualIsOpen) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (isLoading) {\r\n            call();\r\n        }\r\n        // document.addEventListener(\"click\",documentClick);\r\n        return () => {\r\n            // document.removeEventListener(\"click\",documentClick);\r\n        };\r\n    },[isLoading]);\r\n\r\n    \r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        <div className=\"newhome\" style={{ overflowY: `${ openerDetails.open ? \"hidden\" : \"overlay\" }` }}>\r\n            {\r\n                picks.length !== 0 ?\r\n                <StartRadio picks={picks} openerFunc={handleMenu} openerDetails={openerDetails} setOpenerDetails={setOpenerDetails}\r\n                playing={playing} setPlaying={setPlaying} playingSong={playingSong} setPlayingSong={setPlayingSong}\r\n                queue={queue} setQueue={setQueue} songIsPaused={songIsPaused} setSongIsPaused={setSongIsPaused}\r\n                radio={radio} setRadio={setRadio} setResObj={setResObj} /> : null\r\n            }\r\n            {\r\n                Object.keys(data).map(each => {\r\n                    if (data[each].length !== 0) {\r\n                        return(\r\n                            <>\r\n                            <div className=\"titlename\">{each}</div>\r\n                            <div className=\"homecontainer\">\r\n                                {\r\n                                    data[each].map(item => {\r\n                                        return <EachAlbum item={item} />;\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            </>\r\n                        );\r\n                    }\r\n                    return null;\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst Trial = () => {\r\n    return (\r\n        <div className=\"full\">\r\n            <div className=\"holder\">\r\n                <img src=\"https://lh3.googleusercontent.com/6QoxkfogQhGl7_QvGaOh1g5jqf5Y_3Vyo1wPMSJJMhHUxGgaSdsyLhiyGwyeZUo3c2P0045fn5eLza0n=w544-h544-l90-rj\"\r\n                alt=\"\" />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst HomeScreen = () => {\r\n    // const [queueOpened,] = CustomUseState(queueOpenedGlobal);\r\n\r\n    // if (queueOpened) {\r\n    //     return <Queue/>\r\n    // }\r\n    return <NewActualHomeScreen/>\r\n    // return <Trial/>\r\n};\r\n\r\nexport default HomeScreen;","import React, { useState, useEffect, useRef } from \"react\";\r\nimport \"../../../css/albumview.css\";\r\nimport {\r\n    CustomUseState,\r\n    playingGlobal,\r\n    routesGlobal,\r\n    tabGlobal,\r\n    topBarGlobal,\r\n    checkArtist,\r\n    albumGlobal,\r\n    queueGlobal,\r\n    queueOpenedGlobal,\r\n    songIsPausedGlobal,\r\n    openerGlobal,\r\n    responseBar,\r\n    sendRequest,\r\n    checkX,\r\n    checkY,\r\n    global\r\n} from \"../../../common\";\r\nimport { MidPanelLoader } from \"./index\";\r\nimport { HorizontalList } from \"./HomeScreen\";\r\nimport { useParams, Redirect, useHistory, useLocation } from \"react-router-dom\";\r\nimport play from \"../../../assets/playwhite.png\";\r\nimport Play from \"../../../assets/playbutton-black.svg\";\r\nimport Pause from \"../../../assets/pausebutton-black.svg\";\r\nimport BackButton from \"../../../assets/backbutton-white.svg\";\r\nimport PlayWhite from \"../../../assets/playbutton-white.svg\";\r\nimport PauseWhite from \"../../../assets/pausebutton-white.svg\";\r\nimport AddButton from \"../../../assets/addbutton-black.svg\";\r\nimport pause from \"../../../assets/pausewhite.png\";\r\nimport copyright from \"../../../assets/copyright.png\";\r\nimport Placeholder from \"../../../assets/placeholder.svg\";\r\nimport Queue from \"./Queue\";\r\nimport { pauseOrPlay } from \"../../../homepage\";\r\nimport Button from \"../../../Button\";\r\nlet mainscreen, actualIsOpen, bgChanged = false, topBar, isOpen = false;\r\n\r\n\r\nconst ShowMoreAlbum = ({ moreAlbums, albumartist }) => {\r\n    if (moreAlbums.length === 0) {\r\n        return \"\";\r\n    }\r\n    return(\r\n        <div className=\"morealbumdiv\">\r\n            <div className=\"morebydisplay\">More By {albumartist.split(\",\")[0]}</div>\r\n            <div className=\"list\">\r\n                <HorizontalList list={moreAlbums} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nconst ActualAlbumView = () => {\r\n    const [p, setP] = useState(\"\");\r\n    const params = useParams();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [albumDetails, setAlbumDetails] = useState({});\r\n    const [routes, setRoutes] = CustomUseState(routesGlobal);\r\n    const [,setTab] = CustomUseState(tabGlobal);\r\n    const [redirectValue, setRedirectValue] = useState({ status: false, to: \"\" });\r\n    // const [,setKeepButton] = CustomUseState(keepButtonGlobal);\r\n    // const [,setOnClickFunc] = CustomUseState(onClickFuncGlobal);\r\n    // const [,setTopTitle] = CustomUseState(topTitleGlobal);\r\n    // const [,setBgColor] = CustomUseState(topBgColor);\r\n    const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [albumSong, setAlbumForPlayer] = CustomUseState(albumGlobal);\r\n    const [queue, setQueue] = CustomUseState(queueGlobal);\r\n    const [added, setAdded] = useState(false);\r\n    const [songPaused, setSongPaused] = CustomUseState(songIsPausedGlobal);\r\n    const albummain = useRef();\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    const [moreAlbums, setMoreAlbums] = useState([]);\r\n    const [,setResObj] = CustomUseState(responseBar);\r\n    actualIsOpen = openerDetails.open;\r\n    topBar = topBarConfig;\r\n    if (p !== params.name) {\r\n        setIsLoading(true);\r\n        setP(params.name);\r\n    }\r\n\r\n\r\n    const checkForLeftPanel = () => {\r\n        const route = routes[routes.length - 1];\r\n        if (route.toLowerCase().includes(\"homescreen\")) setTab(\"Home\");\r\n        else if (route.toLowerCase().includes(\"search\")) setTab(\"Search\");\r\n        else if (route.toLowerCase().includes(\"new-releases\")) setTab(\"New Releases\");\r\n        else if (route.toLowerCase().includes(\"library\")) setTab(\"Library\");\r\n    };\r\n\r\n    const scrollHandler = e => {\r\n        if (albummain.current.scrollTop > 300 && !bgChanged) {\r\n        // if (mainscreen.current.scrollTop > 300 && bgChanged === false) {\r\n            const initColor = albumDetails && albumDetails.Color.substring(5,albumDetails.Color.length-1).split(\",\");\r\n            bgChanged = true;\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                title: albumDetails.Album,\r\n                bgColor: `rgba(${initColor[0]},${initColor[1]},${initColor[2]},0.3)`\r\n            });\r\n            // setTopTitle(albumDetails.Album);\r\n            // setBgColor(`rgba(${initColor[0]},${initColor[1]},${initColor[2]},0.3)`);\r\n        }\r\n        if (albummain.current.scrollTop < 300 && bgChanged) {\r\n        // if (mainscreen.current.scrollTop < 300 && bgChanged === true) {\r\n            bgChanged = false;\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                title: \"\",\r\n                bgColor: \"transparent\"\r\n            });\r\n            // setTopTitle(\"\");\r\n            // setBgColor(\"transparent\");\r\n        }\r\n        if (actualIsOpen) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    const goBack = () => {\r\n        if (routes.length > 1) {\r\n            routes.splice(routes.length-1,1);\r\n            setRoutes(routes);\r\n        }\r\n        // checkForLeftPanel();\r\n        setTopBarConfig({\r\n            ...topBar,\r\n            button: false,\r\n            title: \"\",\r\n            bgColor: \"transparent\"\r\n        });\r\n        setRedirectValue({ status: true, to: routes[routes.length - 1] });\r\n    };\r\n\r\n    const call = async () => {\r\n        let res = await sendRequest({\r\n            method: \"POST\",\r\n            endpoint: `/getAlbumDetails`,\r\n            data: {\r\n                album: params.name\r\n            }\r\n        });\r\n        if (res) {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                button: true,\r\n                buttonFunc: goBack\r\n            });\r\n            // setKeepButton(true);\r\n            // setOnClickFunc(goBack);\r\n            // setBgColor(\"transparent\")\r\n            setAlbumDetails(res.album);\r\n            setMoreAlbums(res.moreAlbums);\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const playButton = (albumDetails) => {\r\n        console.log(\"clicked\");\r\n        if (decidePlayOrPause()) {\r\n        console.log(\"play/pause\");\r\n            pauseOrPlay();\r\n        } else {\r\n        console.log(\"other\");\r\n            const main = albumDetails.Type === \"Album\" ? albumDetails.Tracks : [albumDetails];\r\n            if (!playing) setPlaying(true);\r\n            if (albumDetails.Type === \"Single\") {\r\n                setQueue(main);\r\n                setAlbumForPlayer(main[0]);\r\n            } else {\r\n                main.forEach(song => {\r\n                    song.Album = albumDetails.Album;\r\n                    song.Thumbnail = albumDetails.Thumbnail;\r\n                    song.Color = albumDetails.Color;\r\n                    song.Year = albumDetails.Year;\r\n                });\r\n                setQueue(main);\r\n                setAlbumForPlayer(main[0]);\r\n            }\r\n            localStorage.setItem(\"queue\",JSON.stringify(main));\r\n            setSongPaused(true);\r\n        }\r\n    };\r\n\r\n    const addAlbumToQueue = () => {\r\n        // if (!added) {\r\n            const main = albumDetails.Type === \"Album\" ? albumDetails.Tracks : [albumDetails];\r\n            const mainQueue = queue;\r\n            const index = mainQueue.indexOf(albumSong);\r\n            if (index === -1) return;\r\n            if (albumDetails.Type === \"Single\") {\r\n                mainQueue.push(main[0]);\r\n                // mainQueue.splice(index,0,main[0]);\r\n                localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n                setQueue(mainQueue);\r\n                // setAlbumForPlayer(main[0]);\r\n                setResObj({ open: true, msg: \"Added single to queue\" });\r\n            } else {\r\n                // let i = 0;\r\n                main.forEach(song => {\r\n                    song.Album = albumDetails.Album;\r\n                    song.Color = albumDetails.Color;\r\n                    song.Thumbnail = albumDetails.Thumbnail;\r\n                    song.Year = albumDetails.Year;\r\n                    mainQueue.push(song);\r\n                    // mainQueue.splice(index+i,0,song);\r\n                    // ++i;\r\n                });\r\n                localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n                setQueue(mainQueue);\r\n                setResObj({ open: true, msg: \"Added album to queue\" });\r\n                // setAlbumForPlayer(main[0]);\r\n            }\r\n            setAdded(true);\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        // }\r\n    };\r\n\r\n    const playAlbumNext = () => {\r\n        if (queue.length !== 0) {\r\n            const index = queue.indexOf(albumSong);\r\n            if (albumDetails.Type === \"Single\") {\r\n                queue.splice(index+1,0,albumDetails);\r\n            } else {\r\n                albumDetails.Tracks.forEach((song,i) => {\r\n                    song.Album = albumDetails.Album;\r\n                    song.Color = albumDetails.Color;\r\n                    song.Thumbnail = albumDetails.Thumbnail;\r\n                    song.Year = albumDetails.Year;\r\n                    queue.splice(index+1+i,0,song);\r\n                });\r\n            }\r\n            localStorage.setItem(\"queue\",JSON.stringify(queue));\r\n            setQueue(queue);\r\n            setResObj({ open: true, msg: `Playing '${albumDetails.Album}' next` });\r\n        }\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: false\r\n        });\r\n    };\r\n\r\n    const displayDirect = (album) => {\r\n        if (Object.keys(album).length > 0) {\r\n            const type = album.Type === \"Album\";\r\n            const dur = type ? album.Tracks[0].Duration.split(\": \") : album.Duration.split(\": \");\r\n            const sec = parseInt(dur[1]);\r\n            return `${dur[0]} min${ sec !== 0 ? ` ${sec} sec` : `` }`;\r\n        }\r\n    };\r\n\r\n    const addAndDisplay = (album) => {\r\n        if (Object.keys(album).length > 0) {\r\n            let min = 0, sec = 0;\r\n            album.Tracks.forEach(track => {\r\n                const dur = track.Duration.split(\": \");\r\n                min += parseInt(dur[0]);\r\n                sec += parseInt(dur[1]);\r\n            });\r\n            min += Math.floor(sec/60);\r\n            sec = sec%60;\r\n            return `${min} min${ sec !== 0 ? ` ${sec} sec` : `` }`;\r\n        }\r\n    };\r\n\r\n    const decidePlayOrPause = () => {\r\n        let sameAlbum = false;\r\n        const titleInSong = albumSong.Title || false;\r\n        if (!titleInSong && albumDetails.Type === \"Album\") {\r\n            return false;\r\n        }\r\n        if (!titleInSong && albumDetails.Type === \"Single\") {\r\n            return albumSong.Album === albumDetails.Album;\r\n        }\r\n        albumDetails.Tracks && albumDetails.Tracks.every(song => {\r\n            if (song.Title === titleInSong) {\r\n                sameAlbum = true;\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        return sameAlbum;\r\n    };\r\n\r\n    const handleClick = (e) => {\r\n        const list = [\"opener\",\"rowinmenu\",\"rowtext\"];\r\n        if (list.indexOf(e.target.className) === -1 && actualIsOpen) {\r\n            mainscreen.style.overflow = \"overlay\";\r\n            setOpenerDetails({\r\n                open: false,\r\n                xValue: 0,\r\n                yValue: 0,\r\n                type: null\r\n            });\r\n        }\r\n    };\r\n\r\n    const change = (color) => {\r\n        // color = color.split(\",\");\r\n        // color[3] = \"0.5)\";\r\n        // color = color.join(\",\");\r\n        // console.log(\"color\",color);\r\n        return color;\r\n    };\r\n\r\n    const handleMenu = (e) => {\r\n        e.stopPropagation();\r\n        setOpenerDetails({\r\n            open: !actualIsOpen,\r\n            yValue: e.clientY + 10,\r\n            xValue: e.clientX + 10,\r\n            type: \"album\",\r\n            data: [\r\n                {\r\n                    name: \"Add album to queue\",\r\n                    func: addAlbumToQueue\r\n                },\r\n                {\r\n                    name: `Play ${albumDetails.Type.toLowerCase()} next`,\r\n                    func: playAlbumNext\r\n                }\r\n            ]\r\n        });\r\n    };\r\n\r\n    const compare = (a,b) => {\r\n        if (a.Title > b.Title) return 1;\r\n        return -1;\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (isLoading) {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                button: false,\r\n                title: \"\",\r\n                bgColor: \"transparent\"\r\n            });\r\n            call();\r\n        } else {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                button: true,\r\n                buttonFunc: goBack\r\n            });\r\n            mainscreen = document.querySelector(\".albummain\");\r\n            document.addEventListener(\"mousedown\",handleClick);\r\n        }\r\n        return () => {\r\n            setRedirectValue({ ...redirectValue, status: false });\r\n            document.removeEventListener(\"mousedown\",handleClick);\r\n        };\r\n    },[isLoading]);\r\n\r\n\r\n    if (redirectValue.status) {\r\n        return <Redirect to={`${redirectValue.to}`} />\r\n    }\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        <div className=\"albummain\" onScroll={scrollHandler} ref={albummain}>\r\n            <div className=\"topview\"\r\n            style={{background: `linear-gradient(to bottom, ${change(albumDetails.Color || \"\")}, #121212)`}}\r\n            >\r\n                <div className=\"albumcontainer\">\r\n                    <div className=\"albumart\" style={{\r\n                        backgroundImage: `url(${Placeholder})`,\r\n                        backgroundSize: \"cover\"\r\n                    }}>\r\n                        <img src={albumDetails.Thumbnail || \"\"} alt=\"albumart\" />\r\n                    </div>\r\n                    <div className=\"titlecontainer\">\r\n                        <div className=\"albumtype\">\r\n                            {(albumDetails.Type && albumDetails.Type.toUpperCase()) || \"\"}\r\n                        </div>\r\n                        <div className={albumDetails.Album && albumDetails.Album.length > 22 ? \"albumname-extrasmall\" :\r\n                            albumDetails.Album && albumDetails.Album.length > 18 ? \"albumname-small\" : \"albumname-large\"}>\r\n                        {/* <div className={albumDetails.Album && albumDetails.Album.length > 22 ? \"albumname-extrasmall\" :\r\n                            albumDetails.Album && albumDetails.Album.length > 18 ? \"albumname-extrasmall\" : \"albumname-extrasmall\"}> */}\r\n                            <p>{albumDetails.Album}</p>\r\n                        </div>\r\n                        <div className=\"albumartist\">\r\n                            {\r\n                                Object.keys(albumDetails).length > 0 ?\r\n                                albumDetails.AlbumArtist.split(\", \").map((item,i) => {\r\n                                    return(\r\n                                        <>\r\n                                            <div className=\"albumartistname\"\r\n                                            onMouseOver={(e) => checkArtist(item,e,\"albumartist\")}>\r\n                                                {item || \"\"}\r\n                                            </div>\r\n                                            {\r\n                                                i !== albumDetails.AlbumArtist.split(\", \").length - 1 ?\r\n                                                <div className=\"separator\"></div> : \"\"\r\n                                            }\r\n                                        </>\r\n                                    );\r\n                                }) : \"\"\r\n                            }\r\n                            <div className=\"separator\"></div>\r\n                            <div className=\"year\">{albumDetails.Year || \"\"}</div>\r\n                            <div className=\"separator\"></div>\r\n                            <div className=\"noofsongs\">\r\n                                {\r\n                                    albumDetails.Type === \"Album\" ? \r\n                                    albumDetails.Tracks.length === 1 ? `1 Song` : `${albumDetails.Tracks.length} Songs` : \"1 Song\"\r\n                                }\r\n                            </div>\r\n                            <div className=\"separator\"></div>\r\n                            <div className=\"noofsongs\">\r\n                                {\r\n                                    albumDetails.Tracks && albumDetails.Tracks.length >= 1 ? addAndDisplay(albumDetails) : displayDirect(albumDetails)\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"bottomview\">\r\n                <div className=\"bottomcontainer\">\r\n                    <div className={ decidePlayOrPause() && !songPaused ? \"playcontainerpause\" : \"playcontainer\" }\r\n                    // style={{backgroundColor: albumDetails.Color || \"\"}}\r\n                    // style={{backgroundColor: \"rgba(127,255,212,0.9)\"}}\r\n                    onClick={() => playButton(albumDetails)}>\r\n                        <img src={ decidePlayOrPause() && !songPaused ? pause : play } alt=\"Play\" />\r\n                    </div>\r\n                    <div className=\"openercontrol\" onClick={handleMenu}>\r\n                        <div className=\"opener1\"></div>\r\n                        <div className=\"opener2\"></div>\r\n                        <div className=\"opener3\"></div>\r\n                    </div>\r\n                    {/* <div className=\"addqueuebutton\" onClick={addAlbumToQueue}>\r\n                        {\r\n                            added ? `Added to queue` : `Add ${albumDetails.Album} to queue`\r\n                        }\r\n                    </div>  */}\r\n                </div>\r\n                <div className=\"table\">\r\n                    <div className=\"innertable\">\r\n                        <div className=\"titlerow\">\r\n                            <div className=\"hash\">#</div>\r\n                            <div className=\"nameofthesong\">TITLE</div>\r\n                            <div className=\"duration\">DURATION</div>\r\n                        </div>\r\n                        {\r\n                            albumDetails.Type === \"Album\" ?\r\n                            albumDetails.Tracks.sort(compare).map((song,i) => {\r\n                                return <SongRow song={song} index={i} type=\"Album\" album={albumDetails} albummainDiv={mainscreen}/>\r\n                            }) : \r\n                            <SongRow song={albumDetails} index={0} type=\"Single\" album={albumDetails}/>\r\n                        }\r\n                    </div>        \r\n                </div>\r\n                <div className=\"copyright1\">\r\n                    <img src={copyright} alt=\"\" />\r\n                    All the songs on Studio are pirated and we are aware of this being illegal.\r\n                </div>\r\n                <div className=\"copyright2\">\r\n                    <img src={copyright} alt=\"\" />\r\n                    We do not own any of the songs. This is just a project. Please do not sue us.\r\n                </div>\r\n                {/* <div className=\"dummy\"></div> */}\r\n                <ShowMoreAlbum moreAlbums={moreAlbums} albumartist={albumDetails.AlbumArtist}/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nconst SongRow = ({ song, index, type, album }) => {\r\n    const artistArr = song.Artist ? song.Artist.split(\", \") : [];\r\n    const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [albumSong, setAlbumForPlayer] = CustomUseState(albumGlobal);\r\n    const [queue, setQueue] = CustomUseState(queueGlobal);\r\n    const [songPaused, setSongPaused] = CustomUseState(songIsPausedGlobal);\r\n    const [hidden, setHide] = useState(true);\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    const [,setResObj] = CustomUseState(responseBar);\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    actualIsOpen = openerDetails.open;\r\n    if (!actualIsOpen && isOpen) setIsOpen(false);\r\n\r\n\r\n    const setUpPlayer = (song) => {\r\n        if (!playing) setPlaying(true);\r\n        let newQueue = [];\r\n        if (album.Type === \"Album\") {\r\n            album.Tracks.forEach(each => {\r\n                each.Album = album.Album;\r\n                each.Color = album.Color;\r\n                each.Thumbnail = album.Thumbnail;\r\n            });\r\n            newQueue = album.Tracks;\r\n        }\r\n        if (album.Type === \"Single\") {\r\n            song.Color = album.Color;\r\n            song.Thumbnail = album.Thumbnail;\r\n            newQueue.push(song);\r\n        }\r\n        setQueue(newQueue);\r\n        localStorage.setItem(\"queue\",JSON.stringify(newQueue));\r\n        if (albumSong !== song) setSongPaused(true);\r\n        setAlbumForPlayer(song);\r\n    };\r\n\r\n    const addSongToQueue = () => {\r\n        if (album.Type === \"Album\") {\r\n            song.Album = album.Album;\r\n        }\r\n        song.Color = album.Color;\r\n        song.Thumbnail = album.Thumbnail;\r\n        song.Year = album.Year;\r\n        queue.push(song);\r\n        localStorage.setItem(\"queue\",JSON.stringify(queue));\r\n        setQueue(queue);\r\n        setResObj({ open: true, msg: `Added '${song.Title || song.Album}' to queue` });\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: false\r\n        });\r\n    };\r\n\r\n    const playNextInQueue = () => {\r\n        if (queue.length !== 0) {\r\n            if (album.Type === \"Album\") {\r\n                song.Album = album.Album;\r\n            }\r\n            song.Color = album.Color;\r\n            song.Thumbnail = album.Thumbnail;\r\n            song.Year = album.Year;\r\n            const index = queue.indexOf(albumSong);\r\n            queue.splice(index+1,0,song);\r\n            localStorage.setItem(\"queue\",JSON.stringify(queue));\r\n            setQueue(queue);\r\n            setResObj({ open: true, msg: `Playing '${song.Title || song.Album}' next` });\r\n        }\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: false\r\n        });\r\n    };\r\n\r\n    const isCurrentlyPlaying = () => {\r\n        const titleInSong = song.Title || false;\r\n        const titleInAlbumSong = albumSong.Title || false;\r\n        if (titleInSong && titleInAlbumSong) {\r\n            return song.Title === albumSong.Title;\r\n        } else if (!titleInSong && !titleInAlbumSong) {\r\n            return song.Album === albumSong.Album;\r\n        }\r\n    };\r\n\r\n    const handleSongMenu = (e) => {\r\n        e.stopPropagation();\r\n        setIsOpen(true);\r\n        setOpenerDetails({\r\n            open: !actualIsOpen,\r\n            yValue: e.clientY + 10,\r\n            xValue: e.clientX - 200,\r\n            type: \"song\",\r\n            data: [\r\n                {\r\n                    name: \"Add song to queue\",\r\n                    func: addSongToQueue\r\n                },\r\n                {\r\n                    name: \"Play next\",\r\n                    func: playNextInQueue\r\n                }\r\n            ]\r\n        });\r\n    };\r\n\r\n    const decide = () => {\r\n        if (isOpen && openerDetails.open) {\r\n            return false;\r\n        } else {\r\n            return hidden;\r\n        }\r\n    };\r\n\r\n\r\n    return(\r\n        <div className=\"songrow\" onClick={() => setUpPlayer(song)}\r\n        onMouseOver={() => setHide(false)} onMouseOut={() => setHide(true)}\r\n        style={{ backgroundColor: decide() ? \"transparent\" : \"rgba(255,255,255,0.1)\" }}>\r\n            <div className=\"number\">\r\n                {\r\n                    isCurrentlyPlaying() && !songPaused ?\r\n                    <div className=\"playinganim\">\r\n                        <div className=\"div1\"></div>\r\n                        <div className=\"div2\"></div>\r\n                        <div className=\"div3\"></div>\r\n                        <div className=\"div4\"></div>\r\n                    </div> : index+1\r\n                }\r\n            </div>\r\n            <div className=\"songname\">\r\n                <div className=\"song\" style={{ color: `${ isCurrentlyPlaying() && !songPaused ? \"aquamarine\" : \"white\" }` }}>\r\n                    {\r\n                        type === \"Album\" ? song.Title : song.Album\r\n                    }\r\n                </div>\r\n                <div className=\"artistlist\">\r\n                    {\r\n                        artistArr.map((artist,i) => {\r\n                            return(\r\n                                <>\r\n                                    <p className=\"artistpara\"\r\n                                    onMouseOver={(e) => checkArtist(artist,e,\"artist\")}>{artist}</p>\r\n                                    {\r\n                                        artistArr.length > 1 && i !== artistArr.length-1 ?\r\n                                        <div className=\"artistseparator\"></div> : \"\"\r\n                                    }\r\n                                </>\r\n                            );\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className=\"songduration\">\r\n                <div className={ decide() ? \"beforesongduration hidden\" : \"beforesongduration\" } onClick={handleSongMenu}>\r\n                    <div className=\"songopenercontrol\">\r\n                        <div className=\"songopener1\"></div>\r\n                        <div className=\"songopener2\"></div>\r\n                        <div className=\"songopener3\"></div>\r\n                    </div>\r\n                </div>\r\n                {song.Duration || \"\"}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst NewSongRow = ({ song, index, album, openerFunc }) => {\r\n    const [hovered, setHovered] = useState(false);\r\n    const [currentSong, setCurrentSong] = CustomUseState(albumGlobal);\r\n    const [songPaused, setSongPaused] = CustomUseState(songIsPausedGlobal);\r\n    const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [queue, setQueue] = CustomUseState(queueGlobal);\r\n    const [resp, setResp] = CustomUseState(responseBar); \r\n\r\n    const isItSame = () => {\r\n        const currType = currentSong.Type === \"Single\";\r\n        const songType = album.Type === \"Single\";\r\n        const currName = currType ? currentSong.Album : currentSong.Title;\r\n        const songName = songType ? album.Album : song.Title;\r\n        return currName === songName;\r\n    };\r\n\r\n    const setUpPlayer = (song) => {\r\n        if (isItSame()) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n        if (!playing) setPlaying(true);\r\n        const newQueue = [];\r\n        let playingSong;\r\n        if (album.Type === \"Album\") {\r\n            album.Tracks.forEach((each,i) => {\r\n                each.id = global.id = i;\r\n                each.Album = album.Album;\r\n                each.Color = album.Color;\r\n                each.Year = album.Year;\r\n                each.Thumbnail = album.Thumbnail;\r\n                if (each.Title === song.Title) {\r\n                    playingSong = song;\r\n                }\r\n                newQueue.push(each);\r\n            });\r\n        }\r\n        if (album.Type === \"Single\") {\r\n            song.id = global.id = 0;\r\n            song.Color = album.Color;\r\n            song.Thumbnail = album.Thumbnail;\r\n            song.Year = album.Year;\r\n            newQueue.push(song);\r\n            playingSong = song;\r\n        }\r\n        setQueue(newQueue);\r\n        localStorage.setItem(\"queue\",JSON.stringify(newQueue));\r\n        if (currentSong !== playingSong) setSongPaused(true);\r\n        setCurrentSong(playingSong);\r\n        // setResp({\r\n        //     ...resp,\r\n        //     open: true,\r\n        //     msg: `Playing '${song.Title || song.Album}' now`\r\n        // });\r\n    };\r\n\r\n    const playButton = () => {\r\n        // if (isItSame()) {\r\n        //     pauseOrPlay();\r\n        // }\r\n        // if (decidePlayOrPause()) {\r\n        //     pauseOrPlay();\r\n        // } else {\r\n        //     const main = album.Type === \"Album\" ? album.Tracks : [album];\r\n        //     if (!playing) setPlaying(true);\r\n        //     if (album.Type === \"Single\") {\r\n        //         setQueue(main);\r\n        //         setPlayingSong(main[0]);\r\n        //     } else {\r\n        //         main.forEach(song => {\r\n        //             song.Album = album.Album;\r\n        //             song.Thumbnail = album.Thumbnail;\r\n        //             song.Color = album.Color;\r\n        //             song.Year = album.Year;\r\n        //         });\r\n        //         setQueue(main);\r\n        //         setPlayingSong(main[0]);\r\n        //     }\r\n        //     localStorage.setItem(\"queue\",JSON.stringify(main));\r\n        //     setSongPaused(true);\r\n        // }\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        openerFunc(e, { dimensions, windowDim, song });\r\n    };\r\n\r\n    return(\r\n        <div className=\"newsongrow\" onMouseOver={() => setHovered(true)} onMouseOut={() => setHovered(false)}\r\n        style={{ backgroundColor: `${ isItSame() ? \"#202020\" : \"transparent\" }` }}>\r\n            <div className=\"outerindex\">\r\n                <img className={ hovered || isItSame() ? \"outerindeximg\" : \"outerindeximg hidden\" }\r\n                src={ isItSame() && !songPaused ? PauseWhite : PlayWhite} alt=\"\" onClick={() => setUpPlayer(song)}\r\n                title={ isItSame() && !songPaused ? \"Pause\" : \"Play\" } />\r\n                {\r\n                    !hovered && !isItSame() ?\r\n                    <div className=\"index\">{index+1}</div> : \"\"\r\n                }\r\n            </div>\r\n            <div className=\"songnameview\">\r\n                <div>{album.Type === \"Album\" ? song.Title : album.Album}</div>\r\n            </div>\r\n            <div className=\"artistnameview\">\r\n                <div>{album.Type === \"Album\" ? song.Artist : album.Artist}</div>\r\n            </div>\r\n            <div className=\"streams\"></div>\r\n            <div className=\"durationview\">\r\n                <div className=\"opener-container\">\r\n                    <div className={ hovered ? \"openercontrol\" : \"openercontrol hidden\" } style={{marginLeft: \"0px\"}}\r\n                    onClick={handleMenu}\r\n                    title=\"More Options\">\r\n                        <div className=\"opener1\"></div>\r\n                        <div className=\"opener2\"></div>\r\n                        <div className=\"opener3\"></div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"durationcontainer\">\r\n                    <div>{album.Type === \"Album\" ? song.Duration : album.Duration}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewActualAlbumView = () => {\r\n    const params = useParams();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [album, setAlbum] = useState({});\r\n    const [playingSong, setPlayingSong] = CustomUseState(albumGlobal);\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [songPaused, setSongPaused] = CustomUseState(songIsPausedGlobal);\r\n    const [queue, setQueue] = CustomUseState(queueGlobal);\r\n    // const [routes, setRoutes] = CustomUseState(routesGlobal);\r\n    const [,setResObj] = CustomUseState(responseBar);\r\n    // const [redirectValue, setRedirectValue] = useState({ status: false, to: \"\" });\r\n    const topDiv = useRef(null);\r\n    const hist = useHistory();\r\n    const currentLocation = useLocation();\r\n    const list = [\"tileopener\",\"tileopener1\",\"tileopener2\",\"tileopener3\"];\r\n    isOpen = openerDetails.open;\r\n\r\n\r\n    const decidePlayOrPause = () => {\r\n        let sameAlbum = false;\r\n        const titleInSong = playingSong.Title || false;\r\n        if (!titleInSong && album.Type === \"Album\") {\r\n            return false;\r\n        }\r\n        if (!titleInSong && album.Type === \"Single\") {\r\n            return playingSong.Album === album.Album;\r\n        }\r\n        album.Tracks && album.Tracks.every(song => {\r\n            if (song.Title === titleInSong) {\r\n                sameAlbum = true;\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        return sameAlbum;\r\n    };\r\n\r\n    const addAlbumToQueue = () => {\r\n        const main = album.Type === \"Album\" ? [ ...album.Tracks ] : { ...album };\r\n        const mainQueue = [ ...queue ];\r\n        const len = mainQueue.length;\r\n        if (len === 0) return;\r\n        if (album.Type === \"Single\") {\r\n            main.id = ++global.id;\r\n            mainQueue.push(main);\r\n            localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n            setQueue(mainQueue);\r\n            setResObj({ open: true, msg: `Added single to queue` });\r\n        } else {\r\n            main.forEach(song => {\r\n                song.id = ++global.id;\r\n                song.Album = album.Album;\r\n                song.Color = album.Color;\r\n                song.Thumbnail = album.Thumbnail;\r\n                song.Year = album.Year;\r\n                mainQueue.push(song);\r\n            });\r\n            localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n            setQueue(mainQueue);\r\n            setResObj({ open: true, msg: `Added album to queue` });\r\n        }\r\n    };\r\n\r\n    const playAlbumNext = () => {\r\n        const len = queue.length;\r\n        if (len !== 0) {\r\n            const index = queue.indexOf(playingSong);\r\n            const mainQueue = [ ...queue ];\r\n            if (album.Type === \"Single\") {\r\n                album.id = ++global.id;\r\n                mainQueue.splice(index+1, 0, { ...album });\r\n            } else {\r\n                album.Tracks.forEach((song,i) => {\r\n                    song.id = ++global.id;\r\n                    song.Album = album.Album;\r\n                    song.Color = album.Color;\r\n                    song.Thumbnail = album.Thumbnail;\r\n                    song.Year = album.Year;\r\n                    mainQueue.splice(index+1+i, 0, { ...song });\r\n                });\r\n            }\r\n            localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n            setQueue(mainQueue);\r\n            setResObj({ open: true, msg: `Playing ${album.Album} next` });\r\n        }\r\n    };\r\n\r\n    const goBack = () => {\r\n        hist.goBack();\r\n        // if (routes.length > 1) {\r\n        //     routes.splice(routes.length-1,1);\r\n        //     setRoutes(routes);\r\n        // }\r\n        // setRedirectValue({ status: true, to: routes[routes.length - 1] });\r\n    };\r\n\r\n    const playButton = () => {\r\n        if (decidePlayOrPause()) {\r\n            pauseOrPlay();\r\n        } else {\r\n            const main = album.Type === \"Album\" ? [ ...album.Tracks ] : { ...album };\r\n            if (!playing) setPlaying(true);\r\n            if (album.Type === \"Single\") {\r\n                main.id = 0;\r\n                global.id = 0;\r\n                setQueue([main]);\r\n                setPlayingSong(main);\r\n            } else {\r\n                main.forEach((song,i) => {\r\n                    song.id = global.id = i;\r\n                    song.Album = album.Album;\r\n                    song.Thumbnail = album.Thumbnail;\r\n                    song.Color = album.Color;\r\n                    song.Year = album.Year;\r\n                });\r\n                setQueue(main);\r\n                setPlayingSong(main[0]);\r\n            }\r\n            localStorage.setItem(\"queue\",JSON.stringify(main));\r\n            setSongPaused(true);\r\n        }\r\n    };\r\n\r\n    const call = async () => {\r\n        const res = await sendRequest({\r\n            method: \"POST\",\r\n            endpoint: `/getAlbumDetails`,\r\n            data: {\r\n                album: params.name\r\n            }\r\n        });\r\n        if (res) {\r\n            setAlbum(res.album);\r\n            // setMoreAlbums(res.moreAlbums);\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const addAndDisplay = () => {\r\n        let min = 0, sec = 0;\r\n        if (album.Type === \"Album\") {\r\n            album.Tracks.forEach(track => {\r\n                const dur = track.Duration.split(\": \");\r\n                min += parseInt(dur[0]);\r\n                sec += parseInt(dur[1]);\r\n            });\r\n            min += Math.floor(sec/60);\r\n            sec = sec%60;\r\n        } else {\r\n            const div = album.Duration.split(\": \");\r\n            min = parseFloat(div[0]);\r\n            sec = parseFloat(div[1]);\r\n        }\r\n        return `${min} minutes${ sec !== 0 ? ` ${sec} seconds` : `` }`;\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: true,\r\n            xValue: dimensions.x + 5,\r\n            yValue: dimensions.y + 5,\r\n            data: [\r\n                {\r\n                    name: `Play next in queue`,\r\n                    func: playAlbumNext\r\n                }\r\n            ]\r\n        });\r\n    };\r\n\r\n    const addTrackToQueue = each => {\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n        const dummy = [ ...queue ];\r\n        const len = dummy.length;\r\n        if (len === 0) return;\r\n        if (album.Type === \"Album\") {\r\n            each.Album = album.Album;\r\n            each.Color = album.Color;\r\n            each.Thumbnail = album.Thumbnail;\r\n            each.Year = album.Year;\r\n        }\r\n        dummy[len] = { ...each, id: ++global.id };\r\n        setQueue(dummy);\r\n        setResObj({ open: true, msg: `Added ${each.Title || each.Album} to queue` });\r\n    };\r\n\r\n    const playTrackNext = each => {\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n        if (queue.length === 0) return;\r\n        const curIndex = queue.indexOf(playingSong);\r\n        const dummy = [ ...queue ];\r\n        if (album.Type === \"Album\") {\r\n            each.Album = album.Album;\r\n            each.Color = album.Color;\r\n            each.Thumbnail = album.Thumbnail;\r\n            each.Year = album.Year;\r\n        }\r\n        dummy.splice(curIndex+1, 0, { ...each, id: ++global.id });\r\n        setQueue(dummy);\r\n        setResObj({ open: true, msg: `Playing ${each.Title || each.Album} next` });\r\n    };\r\n\r\n    const handleEachMenu = (e, { dimensions, windowDim, song: selectedSong }) => {\r\n        e.stopPropagation();\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: true,\r\n            xValue: checkX(dimensions.x, windowDim.width),\r\n            yValue: checkY(dimensions.y, windowDim.height, 2),\r\n            data: [\r\n                {\r\n                    name: \"Add track to queue\",\r\n                    func: () => addTrackToQueue(selectedSong)\r\n                },\r\n                {\r\n                    name: \"Play track next\",\r\n                    func: () => playTrackNext(selectedSong)\r\n                }\r\n            ]\r\n        });\r\n    };\r\n\r\n    const documentClick = e => {\r\n        if (!list.includes(e.target.className) && isOpen) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    const documentScroll = e => {\r\n        if (isOpen) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n    }, [currentLocation.pathname]);\r\n\r\n    useEffect(() => {\r\n        if (isLoading) {\r\n            call();\r\n        }\r\n        topDiv.current = document.querySelector(\".newalbum\");\r\n        // document.addEventListener(\"click\", documentClick);\r\n        // topDiv.current && topDiv.current.addEventListener(\"scroll\", documentScroll);\r\n        return () => {\r\n            // document.removeEventListener(\"click\", documentClick);\r\n            // topDiv.current && topDiv.current.removeEventListener(\"scroll\", documentScroll);\r\n        };\r\n    }, [isLoading]);\r\n\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>;\r\n    }\r\n    return (\r\n        <div className=\"newalbum\">\r\n            <div className=\"topalbumview\">\r\n                {/* <div className=\"backbuttoncontainer\">\r\n                    <div className=\"backbuttonview\" onClick={goBack}>\r\n                        <img src={BackButton} alt=\"\" />\r\n                    </div>\r\n                </div> */}\r\n                <div className=\"coverview\">\r\n                    <img src={album.Thumbnail} alt=\"\" />\r\n                </div>\r\n                <div className=\"detailsview\">\r\n                    <div className=\"innerdetailsview\">\r\n                        <div className=\"albumnameview\">{album.Album}</div>\r\n                        <div style={{width: \"100%\", height: \"10px\"}}></div>\r\n                        <div className=\"detailsoneview\">\r\n                            <div className=\"albumtype\">{album.Type}</div>\r\n                            <div className=\"content-separator\"><div></div></div>\r\n                            {\r\n                                album.AlbumArtist.split(\", \").length > 1 ? \r\n                                album.AlbumArtist.split(\", \").map((each,i) => {\r\n                                    return (\r\n                                        <>\r\n                                            <div className=\"albumartistview\">{each}</div>\r\n                                            {\r\n                                                i !== album.AlbumArtist.split(\", \").length-1 ?\r\n                                                <div className=\"content-separator\"><div></div></div> : \"\"\r\n                                            }\r\n                                        </>\r\n                                    );\r\n                                }) :\r\n                                <div className=\"albumartistview\">{album.AlbumArtist}</div>\r\n                            }\r\n                            <div className=\"content-separator\"><div></div></div>\r\n                            <div className=\"albumyear\">{album.Year}</div>\r\n                        </div>\r\n                        <div className=\"detailsoneview\">\r\n                            <div className=\"albumtype\">\r\n                                { album.Type === \"Single\" ? \"1 Song\" : album.Tracks.length > 1 ? `${album.Tracks.length} songs` : \"1 song\" }\r\n                            </div>\r\n                            <div className=\"content-separator\"><div></div></div>\r\n                            <div className=\"albumtype\">{addAndDisplay()}</div>\r\n                        </div>\r\n                        <div style={{width: \"100%\", height: \"30px\"}}></div>\r\n                        <div className=\"buttonholder\">\r\n                            <Button className=\"playbuttonview\" onClick={playButton}>\r\n                                {\r\n                                    decidePlayOrPause() && !songPaused ?\r\n                                    <><img src={Pause} alt=\"\" /><p>PAUSE</p></> :\r\n                                    <><img src={Play} alt=\"\" /><p>PLAY</p></>\r\n                                }\r\n                            </Button>\r\n                            <Button className=\"addtoqueue\" onClick={addAlbumToQueue}>\r\n                                <img src={AddButton} alt=\"\" />\r\n                                ADD TO QUEUE\r\n                            </Button>\r\n                            <div className=\"opener-holder\">\r\n                                <div className=\"tileopener\" title=\"More Options\" onClick={handleMenu}>\r\n                                    <div className=\"tileopener1\"></div>\r\n                                    <div className=\"tileopener2\"></div>\r\n                                    <div className=\"tileopener3\"></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div style={{width: \"100%\", height: \"50px\"}}></div>\r\n            <div className=\"bottomalbumview\">\r\n                {\r\n                    album.Type === \"Single\" ?\r\n                    <NewSongRow song={album} index={0} album={album} openerFunc={handleEachMenu} /> :\r\n                    album.Tracks.map((each,i) => {\r\n                        return <NewSongRow song={each} index={i} album={album} openerFunc={handleEachMenu} />\r\n                    })\r\n                }\r\n            </div>\r\n            <div style={{width: \"100%\", height: \"20px\"}}></div>\r\n            <div className=\"copyright1\">\r\n                <img src={copyright} alt=\"\" />\r\n                {`All the songs on Studio Music ${String.fromCharCode(8482)} are pirated and we are aware of this being illegal.`}\r\n            </div>\r\n            <div className=\"copyright2\">\r\n                <img src={copyright} alt=\"\" />\r\n                We do not own any of the songs. This is just a project. Please do not sue us.\r\n            </div>\r\n            { playing ? <div style={{width: \"100%\", height: \"100px\"}}></div> : null }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst AlbumView = (props) => {\r\n    // const [queueOpened,] = CustomUseState(queueOpenedGlobal);\r\n\r\n    // if (queueOpened) {\r\n    //     return <Queue/>\r\n    // }\r\n    return <NewActualAlbumView/>\r\n};\r\n\r\n\r\nexport default AlbumView;","// import \"../../../css/library.css\";\r\nimport \"../../../css/teststyles.css\";\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport { MidPanelLoader } from \"./index\";\r\nimport { pauseOrPlay } from \"../../../homepage\";\r\nimport { HorizontalList } from \"./HomeScreen\";\r\nimport Play from \"../../../assets/playbutton-white.svg\";\r\nimport Pause from \"../../../assets/pausebutton-white.svg\";\r\nimport {\r\n    wait,\r\n    queueOpenedGlobal,\r\n    CustomUseState,\r\n    sendRequest,\r\n    topBarGlobal,\r\n    topBgColorGlobal,\r\n    modifyLibrary,\r\n    routesGlobal,\r\n    albumGlobal,\r\n    songIsPausedGlobal,\r\n    playingGlobal,\r\n    queueGlobal,\r\n    openerGlobal,\r\n    checkX,\r\n    checkY,\r\n    responseBar,\r\n    prefix,\r\n    global\r\n} from \"../../../common\";\r\nimport Queue from \"./Queue\";\r\nimport Button from \"../../../Button\";\r\nlet topBar, isOpen = null;\r\n\r\n\r\nconst ActualLibrary = () => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [library, setLibrary] = useState({});\r\n    const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [topBgColor, setBgColor] = CustomUseState(topBgColorGlobal);\r\n    topBar = topBarConfig;\r\n    // let scrolled = false;\r\n\r\n    const scrollHandler = (e) => {\r\n        const top = e.currentTarget.scrollTop;\r\n        sessionStorage.setItem(\"library-scroll\",top);\r\n        if (top > 200 && topBar.bgColor === \"transparent\") {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                button: false,\r\n                bgColor: topBgColor\r\n            });\r\n        } else if (top < 200 && topBar.bgColor !== \"transparent\") {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                button: false,\r\n                bgColor: \"transparent\"\r\n            });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const call = async () => {\r\n            const saved = JSON.parse(sessionStorage.getItem(\"library\"));\r\n            if (saved !== null) {\r\n                setLibrary(saved);\r\n                setIsLoading(false);\r\n                return;\r\n            }\r\n            const res = await sendRequest({\r\n                method: \"GET\",\r\n                endpoint: `/getLibrary`\r\n            });\r\n            await wait(500);\r\n            sessionStorage.setItem(\"library\",JSON.stringify(res));\r\n            setLibrary(res);\r\n            setIsLoading(false);\r\n        };\r\n        if (isLoading) {\r\n            call();\r\n        } else {\r\n            const main = document.querySelector(\".main\");\r\n            main.scrollTop = sessionStorage.getItem(\"library-scroll\") || 0;\r\n        }\r\n        setTopBarConfig({\r\n            ...topBar,\r\n            button: false,\r\n            // bgColor: \"transparent\"\r\n        });\r\n        // return () => {\r\n        //     setTopBarConfig({\r\n        //         ...topBar,\r\n        //         button: false,\r\n        //         bgColor: \"transparent\"\r\n        //     }); \r\n        // };\r\n    },[isLoading]);\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        <div className=\"library\">\r\n            <div className=\"main\" onScroll={scrollHandler}>\r\n                <div className=\"librarytop\"\r\n                style={{ backgroundColor: `${topBgColor}` }}\r\n                >\r\n                    <div className=\"innerlibrarytop\">\r\n                        <div className=\"forblur\"></div>\r\n                        <div className=\"bigtitle\">Library</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"librarybottom\">\r\n                    <div className=\"outline\">\r\n                        {/* <div className=\"bigmaintitle\">\r\n                            <p>Library</p>\r\n                        </div> */}\r\n                        {   \r\n                            Object.keys(library).map(key => {\r\n                                if (library[key].length !== 0) {\r\n                                    return(\r\n                                        <div className=\"list\">\r\n                                            <HorizontalList list={library[key]}/>\r\n                                        </div>\r\n                                    );\r\n                                }\r\n                                return null;\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst EachAlbum = ({ each, openerFunc }) => {\r\n    const [song, setAlbumForPlayer] = CustomUseState(albumGlobal);\r\n    const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [songPaused, setSongPaused] = CustomUseState(songIsPausedGlobal);\r\n    const [queue, setQueue] = CustomUseState(queueGlobal); \r\n    let songPausedLocal = songPaused;\r\n    const [element, setElement] = useState(null);\r\n    const [show, setShow] = useState(true);\r\n    const hist = useHistory();\r\n\r\n    const observer = useRef(new IntersectionObserver(([entry]) => {\r\n        const { isIntersecting } = entry;\r\n        setShow(isIntersecting);\r\n    }, { threshold: 0.1 }));\r\n\r\n\r\n    useEffect(() => {\r\n        const currentElement = element;\r\n        const currentObserver = observer.current;\r\n        if (currentElement) {\r\n            currentObserver.observe(currentElement);\r\n        }\r\n\r\n        return () => {\r\n            if (currentElement) {\r\n                currentObserver.unobserve(currentElement);\r\n            }\r\n        };\r\n    }, [element]);\r\n\r\n    const display = () => {\r\n        // routes.push(`/home/album/${each.Album}`);\r\n        // window.history.pushState({},\"\",`/home/album/${each.Album}`);\r\n        // setRoutes(routes);\r\n        setTimeout(() => {\r\n            hist.push(`${prefix}/home/album/${each.Album}`);\r\n        },500);\r\n        // setRedirectTo(`${each.Album}`);\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        openerFunc(e, { dimensions, windowDim, each });\r\n    };\r\n\r\n    const handlePlayPause = (e) => {\r\n        e.stopPropagation();\r\n        if (song.Album === each.Album) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n        const main = each.Type === \"Album\" ? each.Tracks : each;\r\n        if (!playing) setPlaying(true);\r\n        if (each.Type === \"Single\") {\r\n            main.id = global.id = 0;\r\n            setQueue([main]);\r\n            setAlbumForPlayer(main);\r\n        } else {\r\n            const dummy = [ ...main ];\r\n            dummy.forEach((song,i) => {\r\n                song.id = global.id = i;\r\n                song.Album = each.Album;\r\n                song.Thumbnail = each.Thumbnail;\r\n                song.Color = each.Color;\r\n                song.Year = each.Year;\r\n            });\r\n            setQueue(dummy);\r\n            setAlbumForPlayer(dummy[0]);\r\n        }\r\n        localStorage.setItem(\"queue\",JSON.stringify(main));\r\n        setSongPaused(true);\r\n    };\r\n\r\n    \r\n    return(\r\n        <div className=\"eachinrow\" ref={setElement}>\r\n            { show ?\r\n                <div className=\"innerineach\">\r\n                    <Button className=\"eachartcover\" onClick={display} title={each.Album}>\r\n                        <div className=\"eachshadow\"></div>\r\n                        <div className={ (song.Album === each.Album) ? \"showplaybuttonfixed\" : \"showplaybutton\" }>\r\n                            <Button className=\"innerplaybutton\" onClick={handlePlayPause}\r\n                            title={ (!songPausedLocal && song.Album === each.Album) ? \"Pause\" : \"Play\" } >\r\n                                <img src={ (!songPausedLocal && song.Album === each.Album) ? Pause : Play } alt=\"\" />\r\n                            </Button>\r\n                        </div>\r\n                        <div className=\"library-opener\" onClick={handleMenu} title=\"More Options\">\r\n                            <div className=\"library-opener1\"></div>\r\n                            <div className=\"library-opener2\"></div>\r\n                            <div className=\"library-opener3\"></div>\r\n                        </div>\r\n                        <img src={each.Thumbnail} alt=\"\" className=\"eachalbumart\" />\r\n                    </Button>\r\n                    <div className=\"eachalbumname\" onClick={display}>{each.Album}</div>\r\n                    <span className=\"eachbottom\">\r\n                        <span>{each.AlbumArtist}</span>\r\n                    </span>\r\n                </div> :\r\n                null\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst CreateRow = ({ row, openerFunc }) => {\r\n    return(\r\n        <div className=\"createrow\">\r\n            {\r\n                row.map((each,i) => {\r\n                    // if (i<6) {\r\n                        if (Object.keys(each).length > 0) {\r\n                            return <EachAlbum each={each} openerFunc={openerFunc} />\r\n                        }\r\n                        return <div className=\"eachinrow\"></div>\r\n                    // }\r\n                    // return \"\";\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst CreateAnotherRow = ({ row }) => {\r\n    return(\r\n        <div className=\"createanotherrow\">\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewActualLibrary = () => {\r\n    const [library, setLibrary] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    const [playingSong,] = CustomUseState(albumGlobal);\r\n    const [queue, setQueue] = CustomUseState(queueGlobal);\r\n    const [, setResObj] = CustomUseState(responseBar);\r\n    const topDiv = useRef(null);\r\n    isOpen = openerDetails.open;\r\n    const list = [\"libraryopener\",\"libraryopener1\",\"libraryopener2\",\"libraryopener3\"];\r\n\r\n\r\n    const addAlbumToQueue = each => {\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n        const main = each.Type === \"Album\" ? each.Tracks : each;\r\n        if (queue.length === 0) return;\r\n        const index = queue.indexOf(playingSong);\r\n        if (index === -1) return;\r\n\r\n        const mainQueue = [ ...queue ];\r\n        if (each.Type === \"Single\") {\r\n            mainQueue.push({ ...main, id: ++global.id });\r\n            localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n            setQueue(mainQueue);\r\n            setResObj({ open: true, msg: `Added single to queue` });\r\n        } else {\r\n            main.forEach(song => {\r\n                song.id = ++global.id;\r\n                song.Album = each.Album;\r\n                song.Color = each.Color;\r\n                song.Thumbnail = each.Thumbnail;\r\n                song.Year = each.Year;\r\n                mainQueue.push({ ...song });\r\n            });\r\n            localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n            setQueue(mainQueue);\r\n            setResObj({ open: true, msg: `Added album to queue` });\r\n        }\r\n    };\r\n\r\n    const playAlbumNext = each => {\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n        if (queue.length !== 0) {\r\n            const index = queue.indexOf(playingSong);\r\n            const mainQueue = [ ...queue ];\r\n            if (each.Type === \"Single\") {\r\n                mainQueue.splice(index+1,0,{ ...each, id: ++global.id });\r\n            } else {\r\n                each.Tracks.forEach((song,i) => {\r\n                    song.id = ++global.id;\r\n                    song.Album = each.Album;\r\n                    song.Color = each.Color;\r\n                    song.Thumbnail = each.Thumbnail;\r\n                    song.Year = each.Year;\r\n                    mainQueue.splice(index+1+i,0,{ ...song });\r\n                });\r\n            }\r\n            localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n            setQueue(mainQueue);\r\n            setResObj({ open: true, msg: `Playing ${each.Album} next` });\r\n        }\r\n    };\r\n\r\n    const handleMenu = (e, { dimensions, windowDim, each: album }) => {\r\n        e.stopPropagation();\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: true,\r\n            xValue: checkX(dimensions.x, windowDim.width),\r\n            yValue: checkY(dimensions.y, windowDim.height, 3),\r\n            data: [\r\n                {\r\n                    name: \"Add to queue\",\r\n                    func: () => addAlbumToQueue(album)\r\n                },\r\n                {\r\n                    name: \"Play next\",\r\n                    func: () => playAlbumNext(album)\r\n                },\r\n                {\r\n                    name: \"Start radio\",\r\n                    func: ()=>{}\r\n                }\r\n            ]\r\n        });\r\n    };\r\n\r\n    const documentClick = e => {\r\n        if (!list.includes(e.target.className)) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    const documentScroll = e => {\r\n        if (isOpen) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const call = async () => {\r\n            const saved = JSON.parse(sessionStorage.getItem(\"library\"));\r\n            // const saved = null;\r\n            if (saved !== null) {\r\n                setLibrary(saved);\r\n                setIsLoading(false);\r\n                return;\r\n            }\r\n            // await wait(1000);\r\n            const res = await sendRequest({\r\n                method: \"GET\",\r\n                endpoint: `/getLibrary`\r\n            });\r\n            if (res) {\r\n                sessionStorage.setItem(\"library\",JSON.stringify(res));\r\n                setLibrary(res);\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n        if (isLoading) {\r\n            call();\r\n        }\r\n        topDiv.current = document.querySelector(\".dummymid\");\r\n        // topDiv.current && topDiv.current.addEventListener(\"scroll\", documentScroll);\r\n        // document.addEventListener(\"click\", documentClick);\r\n        return () => {\r\n            // topDiv.current && topDiv.current.removeEventListener(\"scroll\", documentScroll);\r\n            // document.removeEventListener(\"click\", documentClick);\r\n        };\r\n    }, [isLoading]);\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        // <div className=\"dummymid\" style={{ overflowY: `${ isOpen ? \"hidden\" : \"overlay\" }` }}>\r\n            <div className=\"dummymid\">\r\n                <div className=\"libraryname\">Library</div>\r\n                <div className=\"librarycontainer\">\r\n                    <div className=\"librarygrid\">\r\n                        {\r\n                            library.map(item => {\r\n                                return <EachAlbum each={item} openerFunc={handleMenu} />\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        // </div>\r\n    );\r\n};\r\n\r\nconst Library = () => {\r\n    // const [queueOpened,] = CustomUseState(queueOpenedGlobal);\r\n    \r\n    // if (queueOpened) {\r\n    //     return <Queue/>\r\n    // }\r\n    return <NewActualLibrary/>\r\n};\r\n\r\n\r\nexport default Library;","import React, { useState, useEffect } from \"react\";\r\nimport \"../../../css/radiostyles.css\";\r\nimport {\r\n    CustomUseState,\r\n    radioGlobal,\r\n    playingGlobal,\r\n    queueGlobal,\r\n    albumGlobal,\r\n    queueOpenedGlobal,\r\n    // topBarGlobal,\r\n    sendRequest\r\n} from \"../../../common\";\r\nimport { MidPanelLoader } from \"./index\";\r\nimport Queue from \"./Queue\";\r\n\r\n\r\nconst ActualRadio = () => {\r\n    const [isRadioOn,] = CustomUseState(radioGlobal);\r\n    // const [song, setSong] = CustomUseState(albumGlobal);\r\n    const [queue, setQueue] = CustomUseState(queueGlobal);\r\n    // const [, setPlaying] = CustomUseState(playingGlobal);\r\n    // const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    const decide = (color) => {\r\n        color = color.split(\",\");\r\n        color[3] = \"0.5)\";\r\n        color = color.join(\",\");\r\n        return color;\r\n    };\r\n\r\n    const call = async () => {\r\n        const res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: `/shuffle`\r\n        });\r\n        setQueue(res);\r\n        setIsLoading(false);\r\n        // setPlaying(true);\r\n        // setSong(res.data[0]);\r\n        // setRadioOn(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!isRadioOn) {\r\n            call();\r\n        } else {\r\n            setIsLoading(false);\r\n        }\r\n        // setTopBarConfig({\r\n        //     buttonFunc: () => {},\r\n        //     title: \"\",\r\n        //     bgColor: \"transparent\",\r\n        //     button: false\r\n        // });\r\n    }, []);\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        <div className=\"radio\"\r\n        // style={{ backgroundColor: `${decide(queue[1].Color)}` }}\r\n        >\r\n            <div className=\"topdiv\">\r\n                <div className=\"firstalbum\">\r\n                    <img src={queue[0].Thumbnail} alt=\"\"/>\r\n                </div>\r\n                <div className=\"mainalbum\">\r\n                    <img src={queue[1].Thumbnail} alt=\"\"/>\r\n                </div>\r\n                <div className=\"secondalbum\">\r\n                    <img src={queue[2].Thumbnail} alt=\"\"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Radio = () => {\r\n    const [queueOpened,] = CustomUseState(queueOpenedGlobal);\r\n\r\n    if (queueOpened) {\r\n        return <Queue/>\r\n    }\r\n    return <ActualRadio/>\r\n};\r\n\r\n\r\nexport default Radio;","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"../../../css/searchstyles.css\";\r\nimport \"../../../css/homestyles.css\";\r\nimport \"../../../css/hometeststyles.css\";\r\nimport SearchIcon from \"../../../assets/searchicon.svg\";\r\nimport Close from \"../../../assets/blackclose.png\";\r\nimport Play from \"../../../assets/playbutton-white.svg\";\r\nimport Pause from \"../../../assets/pausebutton-white.svg\";\r\nimport {\r\n    sendRequest,\r\n    queueOpenedGlobal,\r\n    CustomUseState,\r\n    searchBarGlobal,\r\n    searchInputGlobal,\r\n    topBarGlobal,\r\n    topBgColorGlobal,\r\n    albumGlobal,\r\n    songIsPausedGlobal,\r\n    openerGlobal,\r\n    checkX,\r\n    checkY,\r\n    prefix,\r\n    playingGlobal,\r\n    queueGlobal,\r\n    responseBar,\r\n    global\r\n} from \"../../../common\";\r\nimport Queue from \"./Queue\";\r\nimport Button from \"../../../Button\";\r\nimport { MidPanelLoader } from \"./index\";\r\nimport { HorizontalList } from \"./HomeScreen\";\r\nimport { pauseOrPlay } from \"../../index\";\r\nlet timeout = undefined, searchBar, topBar, topBgColorLocal, setcolor = false;\r\n\r\n\r\n\r\nconst InnerSongList = ({ obj }) => {\r\n    const [hidden, setHidden] = useState(true);\r\n\r\n    const decide = () => {\r\n        if (hidden) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    return(\r\n        <div className=\"leftlist\" onMouseOver={() => setHidden(false)} onMouseOut={() => setHidden(true)}\r\n        style={{ backgroundColor: decide() ? \"#181818\" : \"rgba(255,255,255,0.1)\" }}>\r\n            <div className=\"leftalbumart\">\r\n                {/* <div className=\"innerleftalbumart\"> */}\r\n                    <img src={obj.Thumbnail} alt=\"\" />\r\n                {/* </div> */}\r\n            </div>\r\n            <div className=\"names\">\r\n                <div className=\"songtitlename\">{obj.Title || obj.Album}</div>\r\n                <div className=\"songartist\">{obj.Artist}</div>\r\n            </div>\r\n            <div className={ decide() ? \"songplay hidden\" : \"songplay\" }>\r\n                <div className=\"innersongplay\">\r\n                    <img src={Play} alt=\"\" className=\"img\"/>\r\n                </div>\r\n            </div>\r\n            <div className={ decide() ? \"beforesongresult hidden\" : \"beforesongresult\" }>\r\n                <div className=\"customopener\">\r\n                    <div className=\"opener1\"></div>\r\n                    <div className=\"opener2\"></div>\r\n                    <div className=\"opener3\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst SongList = ({ list }) => {\r\n    return(\r\n        <div className=\"songlist\">\r\n            {\r\n                list.map(each => {\r\n                    return <InnerSongList obj={each} />;\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Each = ({ each }) => {\r\n    const [hover, setHover] = useState(false);\r\n    // let hoverLocal = hover;\r\n\r\n    const lessen = (value) => {\r\n        let colors = each.Color.split(\",\");\r\n        colors[3] = `${value})`;\r\n        colors = colors.join(\",\");\r\n        return colors;\r\n    };\r\n\r\n    return(\r\n        <div className=\"eachitem\">\r\n            <div className=\"songitem\"\r\n            // style={{ backgroundColor: `${ hover ? lessen(0.1) : lessen(0.7) }` }}\r\n            // style={{ backgroundImage: `url(${each.Thumbnail})`, backgroundSize: \"cover\" }}\r\n            onMouseOver={() => setHover(true)}\r\n            onMouseOut={() => setHover(false)}\r\n            >\r\n                <div className=\"innersongitem\"\r\n                style={{ backgroundImage: `url(${each.Thumbnail})`, backgroundSize: \"cover\" }}\r\n                >\r\n                    <div className=\"fullscreen\"\r\n                    style={{ backgroundColor: `${ hover ? \"rgba(0,0,0,0.4)\" : \"rgba(0,0,0,0.7)\" }` }}>\r\n                        <div className=\"actualcontents\">\r\n                            {/* <img src={each.Thumbnail} className=\"itemart\" alt=\"\" /> */}\r\n                            <div className=\"itemalbum\">{each.Album}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst RecommendedRow = ({ row }) => {\r\n    return(\r\n        <div className=\"recommendedrow\">\r\n            {\r\n                row.map(each => {\r\n                    return(\r\n                        <Each each={each} />\r\n                    );\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ActualSearch = () => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [searchConfig, setSearchConfig] = CustomUseState(searchBarGlobal);\r\n    const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [topBgColor, setTopBgColor] = CustomUseState(topBgColorGlobal);\r\n    const [recents, setRecents] = useState([]);\r\n    const [recommended, setRecommended] = useState({});\r\n    searchBar = searchConfig;\r\n    topBar = topBarConfig;\r\n    topBgColorLocal = topBgColor;\r\n    let { result, input, callLoading } = searchBar;\r\n\r\n    const recentSearches = async () => {\r\n        const res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: \"/getRecentSearch\"\r\n        });\r\n        setIsLoading(false);\r\n        setRecents(res.recents);\r\n        setRecommended(res.recommended);\r\n        // setTopBarConfig({\r\n        //     ...topBar,\r\n        //     // bgColor: \"#121212\"\r\n        //     bgColor: topBgColor\r\n        // });\r\n    };\r\n\r\n    const closeFunc = async (item) => {\r\n        // console.log(\"item\",item);\r\n        const res = await sendRequest({\r\n            method: \"POST\",\r\n            endpoint: \"/removeFromRecents\",\r\n            data: {\r\n                item\r\n            }\r\n        });\r\n        console.log(\"res\",res);\r\n    };\r\n\r\n    const scrollHandler = (e) => {\r\n        const top = e.currentTarget.scrollTop;\r\n        if (top > 100 && !setcolor) {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                bgColor: topBgColorLocal\r\n            });\r\n            setcolor = true;\r\n        }\r\n        if (top < 100 && setcolor) {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                // bgColor: \"#121212\"\r\n                bgColor: \"transparent\"\r\n            });\r\n            setcolor = false;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setSearchConfig({\r\n            ...searchBar,\r\n            show: true,\r\n            // input: \"\",\r\n            result: {}\r\n        });\r\n        setTopBarConfig({\r\n            ...topBar,\r\n            // bgColor: \"#121212\"\r\n            bgColor: \"transparent\"\r\n        });\r\n        recentSearches();\r\n        return () => {\r\n            setSearchConfig({\r\n                ...searchBar,\r\n                input: \"\",\r\n                show: false,\r\n                callLoading: false\r\n            });\r\n\r\n        }\r\n    },[]);\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        <div className=\"searchmain\" onScroll={scrollHandler}>\r\n            <div className=\"librarytop\"\r\n            style={{ backgroundColor: topBgColor }}\r\n            >\r\n                <div className=\"innerlibrarytop\">\r\n                    <div className=\"forblur\"></div>\r\n                    <div className=\"bigtitle\">Search</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"noncolour\">\r\n            {\r\n                callLoading ? <MidPanelLoader/> : \"\"\r\n            }\r\n            {\r\n                recents.length !== 0 && !callLoading && input === \"\" ?\r\n                <>\r\n                    <div style={{ width: \"100%\", height: \"10px\" }}/>\r\n                    <div className=\"outline\">\r\n                        <div className=\"maintitle\">\r\n                            <p>Recent Searches</p>\r\n                            <div className=\"viewmore\">\r\n                                <p>Clear All</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"list\">\r\n                            <HorizontalList list={recents} addCloseButton={true} closeFunc={closeFunc}/>\r\n                        </div>\r\n                    </div>\r\n                </> : \"\"\r\n            }\r\n            {\r\n                Object.keys(recommended).length !== 0 && !callLoading && input === \"\" ?\r\n                <div className=\"outline\">\r\n                    <div className=\"maintitle\">\r\n                        <p>Recommended</p>\r\n                    </div>\r\n                    <div style={{ width: \"100%\", height: \"0px\" }}></div>\r\n                    {/* {\r\n                        Object.keys(recommended).map(row => {\r\n                            return(\r\n                                <RecommendedRow row={recommended[row]} />\r\n                            );\r\n                        })\r\n                    } */}\r\n                    {\r\n                        Object.keys(recommended).map(each => {\r\n                            return(\r\n                                <div className=\"list\">\r\n                                    <HorizontalList list={recommended[each]} />\r\n                                </div>\r\n                            );\r\n                        })\r\n                    }\r\n                </div> : \"\"\r\n            }\r\n            {\r\n                result.noResults && !callLoading && input !== \"\" ?\r\n                <div className=\"noresults\">No results found for \"{input}\"</div> : \"\"\r\n            }\r\n            {   \r\n                Object.keys(result).length > 1 && input !== \"\" ?\r\n                <div className=\"smain\">\r\n                    <div className=\"outline\">\r\n                        {\r\n                            Object.keys(result.songs).length !== 0 ?\r\n                            <div className=\"maintitle\">\r\n                                <p>Songs</p>\r\n                            </div> : \"\"\r\n                        }\r\n                        {   \r\n                            Object.keys(result.songs).map(each => {\r\n                                return(\r\n                                    // <div className=\"list\">\r\n                                        <SongList list={result.songs[each]}/>\r\n                                    // </div>\r\n                                );\r\n                            })\r\n                        }\r\n                        {\r\n                            Object.keys(result.albums).length !== 0 ?\r\n                            <div style={{ width: \"100%\", height: \"15px\" }}></div> : \"\"\r\n                        }\r\n                        {\r\n                            Object.keys(result.albums).length !== 0 ?\r\n                            <div className=\"maintitle\">\r\n                                <p>Albums</p>\r\n                            </div> : \"\"\r\n                        }\r\n                        {   \r\n                            Object.keys(result.albums).map(each => {\r\n                                return(\r\n                                    <div className=\"list\">\r\n                                        <HorizontalList list={result.albums[each]}/>\r\n                                    </div>\r\n                                );\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div> \r\n                : \"\"\r\n            }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n\r\nconst EachInSongList = ({\r\n    song,\r\n    playingSong,\r\n    setPlayingSong,\r\n    songIsPaused,\r\n    openerFunc,\r\n    playing,\r\n    setPlaying,\r\n    setSongIsPaused,\r\n    setQueue,\r\n    openerDetails,\r\n    setOpenerDetails\r\n}) => {\r\n    const [hovered, setHovered] = useState(false);\r\n\r\n    const determine = () => {\r\n        const nameOfSong = song.Title || song.Album;\r\n        const nameOfPlayingSong = playingSong.Title || playingSong.Album;\r\n        if (nameOfSong === nameOfPlayingSong) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    const handlePlayPause = e => {\r\n        e.stopPropagation();\r\n        if (openerDetails.open) {\r\n            setOpenerDetails({ ...openerDetails, open: false });\r\n        }\r\n        if (determine()) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n        const main = { ...song };\r\n        if (!playing) setPlaying(true);\r\n        main.id = global.id = 0;\r\n        setQueue([main]);\r\n        setPlayingSong(main);\r\n        localStorage.setItem(\"queue\",JSON.stringify([main]));\r\n        setSongIsPaused(true);\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        openerFunc(e, { dimensions, windowDim, song });\r\n    };\r\n\r\n    return(\r\n        <div className=\"each-list-song\" onMouseOver={() => setHovered(true)} onMouseOut={() => setHovered(false)}\r\n        style={{ backgroundColor: `${ determine() ? \"#202020\" : \"\" }` }}\r\n        >\r\n            <div className=\"each-list-song-cover\">\r\n                <div className=\"each-list-song-cover-inner\">\r\n                    <img className=\"each-list-song-cover-inner-img\" src={song.Thumbnail} alt=\"\" />\r\n                    <div className=\"each-song-dummyshadow\">\r\n                        <Button className=\"each-button\" onClick={handlePlayPause}>\r\n                            {\r\n                                determine() ?\r\n                                <img src={ songIsPaused ? Play : Pause } alt=\"\" /> :\r\n                                <img src={Play} alt=\"\" />\r\n                            }\r\n                        </Button>\r\n                    </div>\r\n                    {\r\n                        !hovered && determine() ? \r\n                        <div className=\"anim-cover\">\r\n                            {\r\n                                !songIsPaused ?\r\n                                <div className=\"playinganim\">\r\n                                    <div className=\"div1\"></div>\r\n                                    <div className=\"div2\"></div>\r\n                                    <div className=\"div3\"></div>\r\n                                    <div className=\"div4\"></div>\r\n                                </div> : \r\n                                <div className=\"pausedanim\">\r\n                                    <div className=\"div5\"></div>\r\n                                    <div className=\"div6\"></div>\r\n                                    <div className=\"div7\"></div>\r\n                                    <div className=\"div8\"></div>\r\n                                </div> \r\n                            }\r\n                        </div> : null\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className={ hovered ? \"each-list-song-details short\" : \"each-list-song-details\" }>\r\n                <div className=\"each-list-song-title\">{song.Title || song.Album}</div>\r\n                <div className=\"each-list-song-below\">\r\n                    <p>Song</p>\r\n                    <div className=\"search-separator\"><div></div></div>\r\n                    <p>{song.Artist}</p>\r\n                    <div className=\"search-separator\"><div></div></div>\r\n                    <p>{song.Album}</p>\r\n                    <div className=\"search-separator\"><div></div></div>\r\n                    <p>{song.Duration}</p>\r\n                </div>\r\n            </div>\r\n            <div className={ hovered ? \"each-list-opener\" : \"each-list-opener hidden\" }>\r\n                <div className=\"tileopener\" onClick={handleMenu}>\r\n                    <div className=\"tileopener1\"></div>\r\n                    <div className=\"tileopener2\"></div>\r\n                    <div className=\"tileopener3\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst EachInAlbumList = ({\r\n    album,\r\n    playingSong,\r\n    songIsPaused,\r\n    setSongIsPaused,\r\n    openerFunc,\r\n    setPlayingSong,\r\n    playing,\r\n    setPlaying,\r\n    setQueue,\r\n    openerDetails,\r\n    setOpenerDetails\r\n}) => {\r\n    const hist = useHistory();\r\n    const [hovered, setHovered] = useState(false);\r\n\r\n    const display = e => {\r\n        setTimeout(() => {\r\n            hist.push(`${prefix}/home/album/${album.Album}`);\r\n        },500);\r\n    };\r\n\r\n    const handlePlayPause = e => {\r\n        e.stopPropagation();\r\n        if (openerDetails.open) {\r\n            setOpenerDetails({ ...openerDetails, open: false });\r\n        }\r\n        if (playingSong.Album === album.Album) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n        const main = album.Type === \"Album\" ? album.Tracks : album;\r\n        if (!playing) setPlaying(true);\r\n        if (album.Type === \"Single\") {\r\n            main.id = global.id = 0;\r\n            setQueue([main]);\r\n            setPlayingSong(main);\r\n        } else {\r\n            const dummy = [ ...main ];\r\n            dummy.forEach((song,i) => {\r\n                song.id = global.id = i;\r\n                song.Album = album.Album;\r\n                song.Thumbnail = album.Thumbnail;\r\n                song.Color = album.Color;\r\n                song.Year = album.Year;\r\n            });\r\n            setQueue(dummy);\r\n            setPlayingSong(dummy[0]);\r\n        }\r\n        localStorage.setItem(\"queue\",JSON.stringify(main));\r\n        setSongIsPaused(true);\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        openerFunc(e, { dimensions, windowDim, song: album });\r\n    };\r\n\r\n    const determine = () => {\r\n        const nameOfSong = album.Album;\r\n        const nameOfPlayingSong = playingSong.Album;\r\n        if (nameOfSong === nameOfPlayingSong) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    return(\r\n        <Button className=\"each-album-button\" onClick={display}>\r\n        <div className=\"each-list-song\" onMouseOver={() => setHovered(true)} onMouseOut={() => setHovered(false)}\r\n        // style={{ backgroundColor: `${ hovered ? \"#202020\" : \"\" }` }}\r\n        >\r\n            <div className=\"each-list-song-cover\">\r\n                <div className=\"each-list-song-cover-inner\">\r\n                    <img className=\"each-list-song-cover-inner-img\" src={album.Thumbnail} alt=\"\" />\r\n                    <div className=\"each-song-dummyshadow\">\r\n                        <Button className=\"each-button\" onClick={handlePlayPause}>\r\n                            {\r\n                                determine() ?\r\n                                <img src={ songIsPaused ? Play : Pause } alt=\"\" /> :\r\n                                <img src={Play} alt=\"\" />\r\n                            }\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={ hovered ? \"each-list-song-details short\" : \"each-list-song-details\" }>\r\n                <div className=\"each-list-song-title\">{album.Title || album.Album}</div>\r\n                <div className=\"each-list-song-below\">\r\n                    <p>{album.Type}</p>\r\n                    <div className=\"search-separator\"><div></div></div>\r\n                    <p>{album.AlbumArtist}</p>\r\n                    <div className=\"search-separator\"><div></div></div>\r\n                    <p>{album.Year}</p>\r\n                </div>\r\n            </div>\r\n            <div className={ hovered ? \"each-list-opener\" : \"each-list-opener hidden\" }>\r\n                <div className=\"tileopener\" onClick={handleMenu}>\r\n                    <div className=\"tileopener1\"></div>\r\n                    <div className=\"tileopener2\"></div>\r\n                    <div className=\"tileopener3\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </Button>\r\n    );\r\n    // return(\r\n    //     <div className=\"each-list-album\">\r\n    //         <div className=\"each-list-album-inner\">\r\n    //             <Button className=\"eachartcover\" onClick={display} title={album.Album}>\r\n    //                 <div className=\"eachshadow\"></div>\r\n    //                 <div className={ (playingSong.Album === album.Album) ? \"showplaybuttonfixed\" : \"showplaybutton\" }>\r\n    //                     <Button className=\"innerplaybutton\" onClick={handlePlayPause}\r\n    //                     title={ (!songIsPaused && playingSong.Album === album.Album) ? \"Pause\" : \"Play\" } >\r\n    //                         <img src={ (!songIsPaused && playingSong.Album === album.Album) ? Pause : Play } alt=\"\" />\r\n    //                     </Button>\r\n    //                 </div>\r\n    //                 <div className=\"library-opener\" onClick={handleMenu} title=\"More Options\">\r\n    //                     <div className=\"library-opener1\"></div>\r\n    //                     <div className=\"library-opener2\"></div>\r\n    //                     <div className=\"library-opener3\"></div>\r\n    //                 </div>\r\n    //                 <img src={album.Thumbnail} alt=\"\" className=\"eachalbumart\" />\r\n    //             </Button>\r\n    //             <div className=\"eachalbumname\" onClick={display}>{album.Album}</div>\r\n    //             <span className=\"eachbottom\">\r\n    //                 <span>{album.AlbumArtist}</span>\r\n    //             </span>\r\n    //         </div>\r\n    //     </div>\r\n    // );\r\n};\r\n\r\nconst SongsList = ({ songs, openerFunc, openerDetails, setOpenerDetails }) => {\r\n    const [playingSong, setPlayingSong] = CustomUseState(albumGlobal);\r\n    const [songIsPaused, setSongIsPaused] = CustomUseState(songIsPausedGlobal);\r\n    const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [,setQueue] = CustomUseState(queueGlobal);\r\n\r\n    return(\r\n        <div className=\"songs-list\">\r\n            <div className=\"songs-list-title\">Songs</div>\r\n            <div className=\"songs-list-container\">\r\n                {\r\n                    songs.map(each => {\r\n                        return <EachInSongList song={each} playingSong={playingSong} setPlayingSong={setPlayingSong}\r\n                                songIsPaused={songIsPaused} openerFunc={openerFunc} playing={playing} setPlaying={setPlaying}\r\n                                setSongIsPaused={setSongIsPaused} setQueue={setQueue}\r\n                                openerDetails={openerDetails} setOpenerDetails={setOpenerDetails} />;\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst AlbumsList = ({ albums, openerFunc, openerDetails, setOpenerDetails }) => {\r\n    const [playingSong, setPlayingSong] = CustomUseState(albumGlobal);\r\n    const [songIsPaused, setSongIsPaused] = CustomUseState(songIsPausedGlobal);\r\n    const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [,setQueue] = CustomUseState(queueGlobal);\r\n\r\n    return(\r\n        <div className=\"songs-list\">\r\n            <div className=\"songs-list-title\">Albums</div>\r\n            {/* <div className=\"albums-list-grid\"> */}\r\n            <div className=\"albums-list-container\">\r\n                {\r\n                    albums.map(each => {\r\n                        return <EachInAlbumList album={each} playingSong={playingSong} setPlayingSong={setPlayingSong}\r\n                                songIsPaused={songIsPaused} playing={playing} setPlaying={setPlaying}\r\n                                setSongIsPaused={setSongIsPaused} setQueue={setQueue} openerFunc={openerFunc}\r\n                                openerDetails={openerDetails} setOpenerDetails={setOpenerDetails} />;\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewSearch = () => {\r\n    const [playingSong, setPlayingSong] = CustomUseState(albumGlobal);\r\n    const [input,] = CustomUseState(searchInputGlobal);\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    const [queue, setQueue] = CustomUseState(queueGlobal);\r\n    const [, setResObj] = CustomUseState(responseBar);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [songsList, setSongsList] = useState([]);\r\n    const [albumsList, setAlbumsList] = useState([]);\r\n    const hist = useHistory();\r\n\r\n    const call = async () => {\r\n        console.log(\"calling\");\r\n        const res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: `/search?name=${input}`\r\n        });\r\n        console.log(\"res\",res);\r\n        setSongsList(res.songs);\r\n        setAlbumsList(res.albums);\r\n        setIsLoading(false);\r\n    };\r\n\r\n    const addTrackToQueue = (song) => {\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n        const dummy = [ ...queue ];\r\n        const len = dummy.length;\r\n        if (len === 0) return;\r\n        dummy[len] = { ...song, id: ++global.id };\r\n        setQueue(dummy);\r\n        setResObj({ open: true, msg: `Added ${song.Title || song.Album} to queue` });\r\n    };\r\n\r\n    const playTrackNext = (song) => {\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n        if (queue.length === 0) return;\r\n        const curIndex = queue.indexOf(playingSong);\r\n        const dummy = [ ...queue ];\r\n        dummy.splice(curIndex+1, 0, { ...song, id: ++global.id });\r\n        setQueue(dummy);\r\n        setResObj({ open: true, msg: `Playing ${song.Title || song.Album} next` });\r\n    };\r\n\r\n    const goToAlbum = (song) => {\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n        hist.push(`${prefix}/home/album/${song.Album}`);\r\n    };\r\n\r\n    const handleSongMenu = (e, { dimensions, windowDim, song: album }) => {\r\n        const data = [\r\n            {\r\n                name: \"Add to queue\",\r\n                func: () => addTrackToQueue(album)\r\n            },\r\n            {\r\n                name: \"Play next\",\r\n                func: () => playTrackNext(album)\r\n            },\r\n            {\r\n                name: \"Go to album\",\r\n                func: () => goToAlbum(album)\r\n            }\r\n            // {\r\n            //     name: \"Start radio\",\r\n            //     func: () => {}\r\n            // }\r\n        ];\r\n        e.stopPropagation();\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: true,\r\n            xValue: checkX(dimensions.x, windowDim.width),\r\n            yValue: checkY(dimensions.y, windowDim.height, data.length),\r\n            data\r\n        });\r\n    };\r\n\r\n    const addAlbumToQueue = (album) => {\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n        const main = album.Type === \"Album\" ? album.Tracks : { ...album };\r\n        const mainQueue = [ ...queue ];\r\n        const len = mainQueue.length;\r\n        if (len === 0) return;\r\n        if (album.Type === \"Single\") {\r\n            main.id = ++global.id;\r\n            mainQueue.push(main);\r\n            localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n            setQueue(mainQueue);\r\n            setResObj({ open: true, msg: `Added single to queue` });\r\n        } else {\r\n            const newmain = [ ...main ];\r\n            newmain.forEach(song => {\r\n                song.id = ++global.id;\r\n                song.Album = album.Album;\r\n                song.Color = album.Color;\r\n                song.Thumbnail = album.Thumbnail;\r\n                song.Year = album.Year;\r\n                mainQueue.push(song);\r\n            });\r\n            localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n            setQueue(mainQueue);\r\n            setResObj({ open: true, msg: `Added album to queue` });\r\n        }\r\n    };\r\n\r\n    const playAlbumNext = (album) => {\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n        const len = queue.length;\r\n        if (len !== 0) {\r\n            const index = queue.indexOf(playingSong);\r\n            const mainQueue = [ ...queue ];\r\n            if (album.Type === \"Single\") {\r\n                album.id = ++global.id;\r\n                mainQueue.splice(index+1, 0, { ...album });\r\n            } else {\r\n                const tracks = album.Tracks || [];\r\n                [ ...tracks ].forEach((song,i) => {\r\n                    song.id = ++global.id;\r\n                    song.Album = album.Album;\r\n                    song.Color = album.Color;\r\n                    song.Thumbnail = album.Thumbnail;\r\n                    song.Year = album.Year;\r\n                    mainQueue.splice(index+1+i, 0, { ...song });\r\n                });\r\n            }\r\n            localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n            setQueue(mainQueue);\r\n            setResObj({ open: true, msg: `Playing ${album.Album} next` });\r\n        }\r\n    };\r\n\r\n    const handleAlbumMenu = (e, { dimensions, windowDim, song: album }) => {\r\n        const data = [\r\n            {\r\n                name: \"Add to queue\",\r\n                func: () => addAlbumToQueue(album)\r\n            },\r\n            {\r\n                name: \"Play next\",\r\n                func: () => playAlbumNext(album)\r\n            }\r\n        ];\r\n        e.stopPropagation();\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: true,\r\n            xValue: checkX(dimensions.x, windowDim.width),\r\n            yValue: checkY(dimensions.y, windowDim.height, data.length),\r\n            data\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n        call();\r\n    }, [input]);\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        <div className=\"search-page\">\r\n            <div className=\"inner-search-page\">\r\n                {\r\n                    songsList.length !== 0 ?\r\n                    <SongsList songs={songsList} openerFunc={handleSongMenu}\r\n                    openerDetails={openerDetails} setOpenerDetails={setOpenerDetails} /> : null\r\n                }\r\n                <div style={{ width: \"100%\", height: \"30px\" }}></div>\r\n                {\r\n                    albumsList.length !== 0 ?\r\n                    <AlbumsList albums={albumsList} openerFunc={handleAlbumMenu}\r\n                    openerDetails={openerDetails} setOpenerDetails={setOpenerDetails} /> : null\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Search = () => {\r\n    // const [queueOpened,] = CustomUseState(queueOpenedGlobal);\r\n    // const [searchConfig, setSearchConfig] = CustomUseState(searchBarGlobal);\r\n\r\n    // if (queueOpened) {\r\n    //     return <Queue/>\r\n    // }\r\n    // return <ActualSearch/>\r\n    // useEffect(() => {\r\n    //     console.log(\"search page\");\r\n    //     return () => {\r\n    //         setSearchConfig({\r\n    //             ...searchConfig,\r\n    //             open: false\r\n    //         });\r\n    //     };\r\n    // }, []);\r\n\r\n    // return <></>\r\n    return <NewSearch/>\r\n};\r\n\r\n\r\nexport default Search;"],"sourceRoot":""}