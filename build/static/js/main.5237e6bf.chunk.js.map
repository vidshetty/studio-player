{"version":3,"sources":["assets/playbutton-white.svg","assets/pausebutton-white.svg","assets/copyright.png","assets/placeholder.svg","assets/deletewhite.svg","assets/playwhite.png","assets/pausewhite.png","assets/playbutton-black.svg","assets/pausebutton-black.svg","assets/addbutton-black.svg","assets/homewhite.svg","assets/searchwhite.svg","assets/librarywhite.svg","assets/radio2.svg","assets/searchicon.svg","assets/blackclose.png","assets/dropdown.png","assets/blackandwhitelogo.svg","assets/latest-blueblack.svg","assets/homelight.svg","assets/searchlight.svg","assets/librarylight.svg","assets/radiolight2.svg","assets/nextbutton-white.svg","assets/previousbutton-white.svg","assets/expand-white.svg","assets/latest-bluetransparent.svg","assets/new-minimizeplayer-white.svg","assets/backbutton.png","assets/backbutton-909090.svg","assets/delete-909090.svg","assets/repeat-white.svg","assets/repeat-one-white.svg","assets/norepeat-disabled.svg","assets/shuffle-disabled.svg","assets/shuffle-enabled.svg","assets/uparrow.svg","assets/downarrow.svg","assets/lyrics-white.svg","assets/backbutton-white.svg","assets/tickmark.svg","assets/nextbutton-transparent.svg","assets/previousbutton-transparent.svg","assets/queuewhite.png","assets/queueaquamarine.png","assets/fullscreenaquamarine.svg","assets/fullscreenwhite.svg","assets/innerfullaquamarine.svg","assets/innerfullwhite.svg","assets/volume.svg","common.js","homepage/mainpanel/midpanel/Queue.js","homepage/mainpanel/midpanel/Library.js","homepage/mainpanel/midpanel/index.js","homepage/mainpanel/index.js","homepage/index.js","App.js","opening/index.js","Button.js","homepage/mainpanel/midpanel/HomeScreen.js","homepage/mainpanel/midpanel/AlbumView.js","homepage/mainpanel/midpanel/TrackView.js","homepage/mainpanel/midpanel/Radio.js","homepage/mainpanel/midpanel/Search.js","index.js"],"names":["module","exports","__webpack_require__","p","songservers","keepServersActive","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee2","res","wrap","_context2","prev","next","length","axios","method","url","sent","concat","data","server","then","archives","push","Promise","all","map","_ref2","_callee","_res","_context","get","abrupt","t0","stop","_x","apply","this","arguments","sendRequest","_ref3","_callee3","config","baseHeaders","_context3","USER","localStorage","getItem","endpoint","headers","redirect","window","location","href","to","_x2","Timer","delay","cb","_this","_time","_callback","_timeoutTimer","_intervalTimer","_secondsTracker","_done","_paused","_started","start","t","undefined","clearInterval","setInterval","clearTimeout","setTimeout","pause","continue","diff","canPause","canContinue","hasStarted","hasFinished","done","wait","time","resolve","checkX","cursorX","sWidth","checkY","cursorY","sHeight","num","heightOfBody","convertTime","secs","total","Math","floor","min","arr","toString","split","createGlobalState","initialValue","value","subscribers","getValue","setValue","newState","_this2","forEach","subscriber","subscribe","itemToSubscribe","indexOf","unsubscribe","itemToUnsubscribe","filter","queueLength","songIndex","actualQueue","isOpen","moreLocal","openLocal","tabLocal","queueOpenedLocal","noLocal","showListLocal","whichRepeat","isSongPlaying","volumerange","elapsedTime","duration","range","style","pauseOrPlay","goToNext","goToPrevious","isBuffering","manuallyPausedLocal","trackingTimer","screenLocal","lyricsLocal","lyricTextLocal","playingLocal","CustomUseState","globalState","_useState","useState","setState","slicedToArray","state","reRender","useEffect","dateToString","dateValue","date","Date","month","getMonth","day","getDate","year","getFullYear","topBarGlobal","button","buttonFunc","title","bgColor","queueGlobal","open","input","prevTab","show","queueOpenedGlobal","radioGlobal","global","yValue","xValue","type","msg","prefix","sharingBaseLink","Opening2","_useState35","_useState36","redirectValue","setRedirectValue","_useState37","_useState38","setLoaderClass","_useContext","useContext","PlayerContext","setIsPlaying","_useContext3","AlbumContext","setSong","_useContext5","QueueContext","setQueue","_ref9","_callee6","queue","nowplaying","index","_context6","JSON","parse","list","slice","readOnlyError","setItem","stringify","findIndex","each","Title","Album","backup","removeItem","call","_ref10","_callee7","_context7","status","react_default","createElement","react_router","className","src","logo2","alt","width","height","Button","props","onClick","e","currentTarget","circle","lastChild","diameter","max","clientWidth","clientHeight","radius","dimen","getBoundingClientRect","left","clientX","top","clientY","classList","remove","add","createRipple","outline","position","overflow","children","lyricTimeout","Loader","EachLyric","lyricText","key","text","LyricsPart","song","setTab","lyricsContainer","useRef","activeLyrics","LyricsContext","_useContext2","lyrics","setLyrics","LyricsTextContext","_useContext4","setLyricsText","_useState3","_useState4","lyricsLoading","setLyricsLoading","_ref4","sync","current","document","querySelector","scroll","offsetTop","offsetHeight","behavior","Queue_Loader","Fragment","Queue_EachLyric","ArtEachLyric","_ref5","ArtLyrics","_ref6","setArtLyricsOpen","_useContext6","_useContext7","_useState5","_useState6","_useState7","_useState8","hovered","setHovered","close","_ref7","onMouseOver","onMouseOut","color","Queue_ArtEachLyric","Close","EachSong","_ref8","i","songIsPaused","setSongIsPaused","openerFunc","playingSong","_useState9","_useState10","handleMouse","stopPropagation","keys","onMouseDown","element","selectedElement","selectedSong","selectedSongIndex","containerDimensions","onMouseUp","marginBottom","Thumbnail","Play","Pause","Artist","marginLeft","dimensions","x","y","windowDim","documentElement","isPlayingSong","id","playingSongIndex","thisSongIndex","shouldNotGiveOption","Duration","NewRightQueue","openerDetails","_useContext9","_useContext10","_useState11","_useState12","showScroll","setShowScroll","_useState13","_useState14","setPosition","_useState15","_useState16","selected","setSelected","container","activeSong","overflowY","onMouseMove","scrolled","nearest","objectSpread","onScroll","target","scrollTop","nearestIndex","splice","Queue_EachSong","backgroundColor","zIndex","borderRadius","Queue","_useState17","_useState18","tab","_useContext11","QueueOpenedContext","_useContext12","queueOpened","setQueueOpened","_useContext13","_useContext15","SongIsPausedContext","_useContext16","_useContext17","_useContext18","_useContext19","_useContext20","_useContext21","MenuContext","_useContext22","setOpenerDetails","_useState19","_useState20","update","setUpdate","_useState21","_useState22","isLoading","setIsLoading","_useContext23","ResponseBarContext","setResBar","_CustomUseState5","_CustomUseState6","topBarConfig","_useContext25","MiniPlayerContext","_useContext26","mini","setMini","_useState23","_useState24","setElement","_useState25","_useState26","setShow","_useState27","_useState28","artLyricsOpen","sDiv","hist","useHistory","goToAlbum","item","_albumId","removeSong","removeIndex","shareTrack","navigator","clipboard","writeText","_trackId","documentClick","includes","documentScroll","observer","IntersectionObserver","_ref12","isIntersecting","threshold","currentElement","currentObserver","observe","unobserve","addEventListener","removeEventListener","midpanel_MidPanelLoader","ref","cover","Minimize","Queue_ArtLyrics","src_Button","cursor","Queue_NewRightQueue","name","func","currSongIndex","s","Queue_LyricsPart","EachInQuickPick","playing","setPlaying","setPlayingSong","radio","setRadio","setResObj","determine","handlePlayPause","main","newqueue","songList","toConsumableArray","StartRadio","picks","HomeScreen_EachInQuickPick","assign","EachAlbum","playPauseFunc","songPausedLocal","album","AlbumArtist","EachAlbumInRP","_ref11","RecentlyPlayed","played","HomeScreen_EachAlbumInRP","NewActualHomeScreen","_useContext8","_useContext14","RadioContext","setData","setPicks","recentlyPlayed","setRecentlyPlayed","albums","quickPicks","mostPlayed","shareAlbum","addAlbumToQueue","Type","Tracks","obj","toLowerCase","playAlbumNext","handleMenuForAlbums","_ref14","handlePlayPauseForRP","_ref15","_callee4","_context4","HomeScreen_RecentlyPlayed","_ref16","HomeScreen_StartRadio","_ref13","curIndex","HomeScreen_EachAlbum","NewSongRow","currentSong","setCurrentSong","songPaused","setSongPaused","isItSame","PauseWhite","PlayWhite","newQueue","setUpPlayer","NewActualAlbumView","params","useParams","setAlbum","releaseDate","setReleaseDate","topDiv","currentLocation","useLocation","decidePlayOrPause","mainQueue","albumId","handleEachMenu","dummy","len","addTrackToQueue","playTrackNext","pathname","Year","sec","track","dur","parseInt","div","parseFloat","addAndDisplay","AddButton","AlbumView_NewSongRow","copyright","String","fromCharCode","Trackview","_useState2","setTrack","trackId","setAlbumForPlayer","Color","Between","keyId","Library_EachAlbum","NewActualLibrary","library","setLibrary","page","setPage","more","setMore","pageLoading","setPageLoading","grid","handleMenu","_topDiv$current","scrollHeight","saved","nextPage","_nextPage$response","_more","_more2","_data","_saved","sessionStorage","response","firstPage","_firstPage$response","_more3","_more4","_data2","Library_Between","ActualRadio","_CustomUseState","isRadioOn","_CustomUseState3","_CustomUseState4","Radio","midpanel_Queue","Radio_ActualRadio","EachInSongList","EachInAlbumList","SongsList","songs","Search_EachInSongList","AlbumsList","Search_EachInAlbumList","NewSearch","SearchInputContext","_useContext24","songsList","setSongsList","albumsList","setAlbumsList","searchValue","search","replace","Search_SongsList","Search_AlbumsList","tracks","scrollTimeout","MidPanelLoader","NewReleases","Mid","scrollRef","removeClass","handleScroll","path","HomeScreen","Search","midpanel_NewReleases","AlbumView","TrackView","Library","midpanel_Radio","TopSearchBar","queueOpen","setQueueOpen","SearchContext","searchConfig","setSearchConfig","setInput","showList","setShowList","no","setNo","reverse","click","contains","searchBarOpen","keyDown","keyCode","focus","BackButton","onSubmit","preventDefault","placeholder","align","onChange","spellCheck","val","setThis","TopNav","ProfileContext","setProfileOpen","UserContext","user","setUser","goToHome","setRouteFunc","route","getCorrespondingRoute","loc","initial","logo","mainpanel_TopSearchBar","currentTab","picture","MainPanel","mainpanel_TopNav","midpanel","audio","Audio","mainVolume","vKey","currentSongIndex","percent","bufferPercent","setVolume","timeout","currentLyricIndex","changeColor","changeColorVolume","Player","mute","lastlevel","setMuteOptions","preLoaded","setPreLoaded","buffering","setBuffering","isPlaying","manuallyPaused","setManuallyPaused","RepeatTypeContext","repeatType","setRepeatType","shuffle","setShuffle","FullScreenContext","screen","setLyricText","prevSong","usePrevious","setRadioOn","play","openQueue","currentTime","nextIndex","found","nowIndex","nextSong","findNextIndex","addToRecentlyPlayed","paused","prevIndex","previousIndex","previousSong","findPreviousIndex","volumeinput","background","volume","volumechange","progressinput","innerText","progresschange","blur","metadata","waiting","timeupdate","from","activeElement","buffered","end","canplay","ended","onpaused","_callee5","_context5","_x3","onplaying","_x4","forward","rewind","onkeydown","pre","onkeyup","seek","action","shouldRemove","titleExistsInCurrent","titleExistsInPrev","mediaSession","MediaMetadata","artist","artwork","setActionHandler","_callee8","rType","LINK","cache","songdata","blob","oldDuration","oldTime","_context8","match","URL","createObjectURL","setUp","defaultValue","disabled","previous","backgroundImage","Placeholder","backgroundSize","opacity","shuffleon","shuffleoff","dummyQueue","shuffled","rand","random","randomize","noRepeat","repeat","repeatOne","downArrow","upArrow","Opener","opener","_openerDetails$data","menu","FullScreen","_useContext27","_useContext28","requestFullscreen","join","lessen","MiniPlayer","_useContext29","_useContext30","_useContext31","_useContext33","_useContext35","anim","ResponseBar","_useContext37","_useContext38","setObj","_useContext39","decideClass","ProfileOpener","_useContext41","KeyShortcutContext","_useContext42","openKeyShort","setOpenKeyShort","_useContext43","profileOpener","_callee9","_context9","success","clear","only","handle","_callee10","_context10","_x5","email","limit","KeyboardShortcut","okButton","Home","_useContext45","_useContext47","_useContext48","profileOpen","_useContext49","_useContext50","_useContext51","_useContext52","_useContext53","homepage_KeyboardShortcut","homepage_Opener","homepage_ProfileOpener","homepage_MiniPlayer","homepage_ResponseBar","homepage_FullScreen","mainpanel","homepage_Player","intervalTimeout","App","check","unload","returnValue","react_router_dom","exact","component","Opening","React","createContext","MainApp","setPaused","setRepeat","setOpener","profile","setProfile","resp","setResp","lyricsText","scr","setScr","_useState29","_useState30","searchInput","setSearchInput","_useState31","_useState32","setSearch","_useState33","_useState34","openKeyShortcuts","setOpenKeyShortcuts","Provider","src_App","ReactDOM","render","src_MainApp","getElementById"],"mappings":"+EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,gECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,kECAxCH,EAAAC,QAAA,0wJCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6FCAxCH,EAAAC,QAAA,46CCAAD,EAAAC,QAAA,gVCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAA,g6BCAAD,EAAAC,QAAA,k+CCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,iECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4ECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8ECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,oECAxCH,EAAAC,QAAA,stBCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4KCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB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","file":"static/js/main.5237e6bf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/playbutton-white.b6d65ce2.svg\";","module.exports = __webpack_public_path__ + \"static/media/pausebutton-white.8644a3c8.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/placeholder.0ad1e255.svg\";","module.exports = __webpack_public_path__ + \"static/media/deletewhite.3c9459dc.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAD1klEQVR4nO3dT6hVVRTH8e+qkAb9G1iNEhpFRY3CqEmRQhCOG+bMRqFBEVSDiqAHFSERFIQDo0k5U0F5lIEYJaIFlYIQoSkULwl6ST7s/RrsNt56713PPf/W+bM+83v22muxz75n3333gRBCCCGEEEKYkaR5Sfd6xzFaSpYkfSBpvXc8o6P/+k3SdknXesc1GlrdD5Ie945tFNYoQLZX0p3eMQ7aVQogSZck7ZR0o3esg1SgANk5SdskXeMd86DMUIDsqKSHveMejBIFkKRlSZ9I2uAdf++VLEC2KOkVSdd796O3KhYgOyPpKe++9FJNBcg+l3S/d596peYCSNLfknZLus27b73QQAGyC5JekLTOu4+d1mABslOSnvDuZ2e1UIBsXtI93v2tW5+eSjcD3ygta9zsHUxntDgCJi1oIMveVvUCklRHICUdB3aY2WHHGCrpewGyfcAzZvaTdyCz6tMcMM0W4HtJc5Ju8A5mFkMZAZPOAS8CH5lZ12JbYYgFyI4C283sK+9AphnKLWg1G4EjSssat3sHs5Yhj4BJfwJvAW+Y2SXvYCaNpQDZaeAlM/vUO5BsbAXIPiM9P3znHciQ54BpNgEn1IHdfGMdAZMuAK8B75nZ5bYbjwJccQp41swOtNloFGClfaTnhx/baGysc8A0W4CTSsveNzXdWIyA6c4DrwIfmtlyEw1EAYo5RvraeqTuC8ctqJgHgMNqYDdfjIDZXQTeBObM7K+qF4sClHcWeNnMdle5SBSgui9I88O3ZT4cc0B1jwLHVXI3X4yAev0OzAHvmNlSkQ/ECHB2nXcAA7EMfAw8Z2a/zvLBKEB1h0iLeDEJt+wssNXMHiubfIgRUEatD2JRgOIE7CHd58/UddEoQDHHSL8RfFn3hWMOmO488DTwYBPJhxgBa1kC3iet9fzRZENRgJVa/UkyCnDFSdL3+YNtNhpzQNqWsgO4r+3kw7hHwGVgF2mr4oJXEGMtQGxNdHIaeNLMNnch+TCeEbAIvE0Ht6cPvQB5mfh5M/vFO5jVDLkAX5Pu8/EXpZb9DGwFHup68mFYI+Ai8C7wupktegdT1FAK0Ns/ave9AL0/qqCvc8ACaflgY5+TX4smjkKZYqmtffu90WLy5yXd7d3fzmkh8XFk2TQNJj4O7SuigcTnYytv9e5bL9Sc/Di4dVY1JT6OLi6rYuLj8O6qSiY+H19/h3f8vVci+fEChzrNkPh4hUkTCiQ+XuLTpKskP15j1bQ1En9C0iPesY3C/xIfrzJs27+Jz8vEt3jHMzqS9ku6yzuOEEIIIYQQQuiLfwDf4ChbhKO4PAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAABmJLR0QA/wD/AP+gvaeTAAAAhElEQVRoge3ZQQqDMBgFYePpqvc/gek9pis3giG1IbzCfOufR2adZZEkSRoG2IHKvQpss3ZGBLUecTpm7VyVB0F0DZfS3B61c7V+c/wPDEpnUDqD0hmUzqB0BqUzKJ1B6QxKZ1A6g9IZlM6gdE+C3h03deLOb4ANOFo/BsBr1o4kSVK/Dwsm89L0kt3xAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/playbutton-black.7bbf6f15.svg\";","module.exports = __webpack_public_path__ + \"static/media/pausebutton-black.a10520de.svg\";","module.exports = __webpack_public_path__ + \"static/media/addbutton-black.332c2ed6.svg\";","module.exports = __webpack_public_path__ + \"static/media/homewhite.89959d04.svg\";","module.exports = __webpack_public_path__ + \"static/media/searchwhite.13de67fa.svg\";","module.exports = __webpack_public_path__ + \"static/media/librarywhite.0820be59.svg\";","module.exports = __webpack_public_path__ + \"static/media/radio2.bbfc4ef5.svg\";","module.exports = __webpack_public_path__ + \"static/media/searchicon.5dfa3d28.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAACTklEQVR4nO3cu24TQRhA4QOmoYUXyaUi9IFAB0IUXEvuICrutDwHEvASvALiRQAJGiJICEWyimPPJBvvzszGcz7JTeR4/+jISdY7syBJkiRJkiRJkiRJkiRJkjSvRsB74FrpQVpYAD4Dp0sPksoI+AhsARsMO8oi8I3tWb8yp1GaGM3jL3C16ERhy8AP9s76BThZcqgULgN/2PuDbgDXSw41YfydMf54W3KolC4RjnKj5FA7FoHvVBSjEYtys+BMS4RjvCk4U1YXgXWmo9wqMEv1MRqhKJvkjWKMCbEotzMcOxbjdYZjD9oFpqP8A+4kPOYyxthXLMrdBMcKnWcYIyBHlFiMVz0eY66sEY5yr4fXNsaMUkSJxXjZadKKrAG/mY5yf4bXOgP8xBidxaI8OMRrGKNn5wlHedjie1cIx3iRZNKKzBLFGInFojwKPHcF+IUxkotFeTz2nFiM51knrcg5wlGeAGcxRhGx/74mv7YFPC00Y3VC75TJx7Ni01VqlXiUIxvjeOkBOjhWegDtavMryz/mmfhHfUD2OxfxHCSzNmfrfmSSyWE/OjFKQn64OCBdrol4LaRnfVw1NEpPYtfVZ7mE6+KGjnIucjDKAWJrs1wGVECuhXIuIW0htOg61fpeF1kfoMQKeKNElNwj4t6QCUPYRWWUHUPaZ1jtZs/GEHfiVhsltld9KNuiq9qjfpRvHPCu5FCpeGuNgRkBH9h9Zwz55jMLVHDzGYATwCfgSulBWlhi+/ZMp0oPIkmSJEmSJEmSJEmSJEmSlMZ/dtrmNM605u0AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAD/klEQVR4nO2bS4sVRxiG++ioJN4ToyYLXXgZREmI96jEVcjKvzCbCAoK/gX/giAo6kb/wmAIgYgiXnESQza6UUlUchuNongdnyzqNOfoHHv6UtVf9Tnvszm7/r56T/db1V31JokQQgghhBBCCCGEED0A1gOXgM3WvcQG8AVwLpg2wDTgIo4J4BSwKEixBgEsAA4Br9raXAWmhSi0m8mMAweCFIwcoAWMAH/20OU738U+Av7uUSjlGrDFa9GIAb4ELmToMe7VHYCjGcVSUlv6xFvhyAAW4uzmdQ49jvgquiFnwZQHOFua7qWBCKBjN38V0GGCqq6Am3gvFyjazRjwlScNzMCt/C5OMdb3cY0qNyKwt2ThlDc4W1rsUZNawM17ee0miz1lG/gY+Kdi8ZTG2BLuqR8he9FRhHHKzIvACU8NdPMzsC2Abl7AzXdlLTeL40Ub2YSbREKQ2tKSQDoWho7dhBrzBHnnQ9wjeCVQI908xNnSUGB9pxrrCP6sNosx8lgwsL+GZrq5DuyoQe93x7mJem60bvZN1dQQcLvmpsDZ0klgaQ3CL23XemMwzttM9cQT3g+zeAIcBGYGEH4IZ3n/GYyr+LwHbCTMiiAPN4BvPIr/NfCr0Vh+AbaXbbzOSaoXo8CyCsJ/irvzLOwmXWRUf/fB31thGQrbEh27eWTQb7i3fzo7YhbcBL7N0eNO4DejHsN//6LzZdDXq3pRRoHlPfr6DDu7qf9TC8W+jfvmKc6WZgEz2oN/bNBH5T2Qloc/YkOSJIeTJNla9VoluNn+HTaofTlJkv2tVmvMoPbbUG7DoqnEuw9O54SAhS2FpjknQXBnZM7b6uWVqzTtLBTZxzaawr/Eajd5AWbjViwvTKUsxiuclc631s8bwDDwo62uuTgHfG6tVzCAXcDvxiL34j7OMisvzaOHuGwptZt51rrUDrAa+MFQ/LPAOmsdzMHZ0p0ahb9HE+2GgPkA4EOcLT0PKPxLnN3MDdB/f+QDgFXA9wHEPwOsDdBvf+YDcLbk44DAXWAkQH/9nw+gY0vPSggf0m4GKx8ArAROFxD/J2BNgD4GOx+As6VbGbX/IKzdKB8AfMBkW3qBuzPnBKhnmg/YU7JwygRwjDCrpRW4/eFRYEWA6y9q9171gJryAUVA+QA7UD7ABpQPsAHlAwDlA95qSvmAsCgfgPIBuVA+oN248gHlUT4A5QO8onxAe4DKB0xG+QCUD1A+wAyUD4gDlA+IA5QPsAflA+KAuA7i5kX5AEOUDzBC+QAjlA8wFF/5gCRRPiAKaHg+oG+gYfmAvoXI8wEDAZHmAwYOIskHDDwY5QNEF9ScDxDvgcD5ACGEEEIIIYQQQgghfPM/Xz+10M7/5TQAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/blackandwhitelogo.85220a98.svg\";","module.exports = __webpack_public_path__ + \"static/media/latest-blueblack.891be999.svg\";","module.exports = __webpack_public_path__ + \"static/media/homelight.0a434760.svg\";","module.exports = __webpack_public_path__ + \"static/media/searchlight.3e4e72c1.svg\";","module.exports = __webpack_public_path__ + \"static/media/librarylight.bd340487.svg\";","module.exports = __webpack_public_path__ + \"static/media/radiolight2.bcd12ae8.svg\";","module.exports = __webpack_public_path__ + \"static/media/nextbutton-white.34bd7e24.svg\";","module.exports = __webpack_public_path__ + \"static/media/previousbutton-white.d605272d.svg\";","module.exports = __webpack_public_path__ + \"static/media/expand-white.290ea1b7.svg\";","module.exports = __webpack_public_path__ + \"static/media/latest-bluetransparent.07e30de0.svg\";","module.exports = __webpack_public_path__ + \"static/media/new-minimizeplayer-white.82e724a6.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAABtUlEQVR4nO3dv0ocUQBG8YnmOVJYaBkwAX3mJFhZ2Pk4Vv6BIAoWJ4WbKgvOENh7mDm/emE/OHDvNjM7TUmSJGsFfBr13UejvtgI+AL8mqbpEXgBboCvo3dtEnABPPCv30U5sF2Mpz0x/roZvXEzZsRgd3wNu1c2Y2YMgOfRW1dvQQyAq9F7V21hjEfgZPTm1QK+sf/X1D5PwMXozatVDJFiiBRDpBgixRAphkgxRIohUgyRYogUQ6QYIsUQKYZIMUSKIVIMkWKIFEOkGCLFECmGSDFEiiFSDJFiiBRDpBgixRAphkgxRIohUgwR4Iz3x8OKYQD8LIYIcFeMjx3yXSfM/FwP6B8C8KMjSwQ4pUvdBTgH7hdEuRy9efWKIlQUoaIIFUWoKEJFESqKUFGEiiJUFKGiCBVFqChCRREqilBRhIoiVBShoggVRagoQkURKopQUYSKIlQUoaIIFUWoKEJFESqKUFGEiiLE8r9ePR29efUWRrkevXcTFhxfr8Dx6L2bMDPKG/B59NbNmHF83Y7euDm7KPueo38Bvo/et0m8v9zgendnvAG3xRAAjrrEkyTJf/kD55ddyPhrCd8AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/backbutton-909090.c160678a.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete-909090.6d980d35.svg\";","module.exports = __webpack_public_path__ + \"static/media/repeat-white.10131998.svg\";","module.exports = __webpack_public_path__ + \"static/media/repeat-one-white.730a7ffb.svg\";","module.exports = __webpack_public_path__ + \"static/media/norepeat-disabled.c1e57b0e.svg\";","module.exports = __webpack_public_path__ + \"static/media/shuffle-disabled.30593b36.svg\";","module.exports = __webpack_public_path__ + \"static/media/shuffle-enabled.6c41bc76.svg\";","module.exports = __webpack_public_path__ + \"static/media/uparrow.e137e1df.svg\";","module.exports = __webpack_public_path__ + \"static/media/downarrow.2cec847c.svg\";","module.exports = __webpack_public_path__ + \"static/media/lyrics-white.b2fce63b.svg\";","module.exports = __webpack_public_path__ + \"static/media/backbutton-white.2ae7dad5.svg\";","module.exports = __webpack_public_path__ + \"static/media/tickmark.70575ee2.svg\";","module.exports = __webpack_public_path__ + \"static/media/nextbutton-transparent.0d8fdb2f.svg\";","module.exports = __webpack_public_path__ + \"static/media/previousbutton-transparent.bebd5741.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAACnElEQVR4nO2aPW8TQRCG3w2kAiGB0iQdSEkMoiJxKEhMiwTiDyCo4D/w8TsAgaB0AhSAnAIhPiSooUMiBEJDSAOJEalAEQ+Fz8nKuvNt7DufE83T3N7NeOfd8+3O3mkkwzAMwzCMAIDTwEPgO/A3Oj4AKkVryxVgELhDe24Dg0VrzYWAwW/ehKK1Zk702Ps8BSaAfcAkUGuxzxStOVOAR97gagk+jz2fuV5rzJVooWsykeAz6fksx9jHgK+B0ygrloDRtPENBNyDIa/9KcHHvz4UYz8v6XBArCw5EsVtS8gN+Om1xxN8Sl77R4y9JmkpIFaWLEVxu4NGnm8yn+DzxPOpdh20nwAqLXOrBpSB/dFxvsU+XbTmzKGxyQnhZtFac4HGTvBW2uCBvUVrzRVgGpgDloE/wDdgFjhVtDbDMIxOcNv9AXBU0oykg5Lqkt465xayFtZ3ACXgdUIKfAUkbZN3PsBJ4FfKPqAOTBWtdbukTgHggKQFScPRpQ1JzyR9kTQq6Yyk5gZoRVLJObeevdSCAG54//IqMNlinwLWPJ9rRWnthJAn4L2kE9HpZefc/RifK5LuRqfvnHPlFvuApAuSRrqTuy1WJFWdc/+66gVY9/7d4QSfEc/nd4z9Usr6kRcX08YX8kGEAJ9e9JFL3JC3t8/amgJnJd2L8TnnteM+m1UjMccD4mXFB0mzXfcCXPceqVVaUh2NFOkvgle7DtpDQtPgR20tYBuSnktalDSmRhrcE9mWJR3bVWlQ2kx19ZQFpw6U03vboQDjwMuEwb8AxorW2AmdvAyNS6pIOiRpTdIb59xi1sIMwzD6DqxEpi1WIoOVyABWImMlMlYiE2O3EhlZicwOBSuRsRIZK5FpgpXIGIZhGIaxi/gPSOneBgXX7P8AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAADt0lEQVR4nO2aTWhcVRTHf+e+qVYQtaVdpDtF23yMCqU2go3FjQ0YQ9uNC12XmGjdKYhTb0jxa61TKW5E666CKWoDKrTBTczGOI/UxrqSFoy0BdFYnPeOi84zQ2aYd5O89zT0/laHuX/e/d8z790vDng8Ho/H47lVkdWIKzq33yCjIPsEtissCjINUrXSez4vk3nilIAjOrupi83vAkc6POr9KywdPSl7/s7IWyGUXETpgwfQkS7uAHh+3a4KxKQJKjq3n6bBC3wWE+/5g+hOQR8ROLOs1pGKhgO5OM2J1DcgwIxpIxY4Y6V8sKl5Fhi2Gn6q6CEAg44C09lbzYfUBCg8lsQR8Xh7VfwGyCEAQVreAKvzOyE+q+i9a7e6an6OMIPHpXehkyj1EwC2JUFA8GM7wZ9savpdt7Uq6sMFDx7gPoMOp4lcEvBbEkREu9oJbqfencQKi62K0qTAJYe+MkPgUoxMpulSPwFBphV9BsBgLPD0So1BX21aUVv2A1Z6LgL3p/X1X+CwDEqVRgKAIau1yQgmAmQ+QnsMHAOG/lUjJ/Kxmg9OG6HXNTwBOuIgrY5LeWydngrFZQ7gCktHHf7ZqrD4UgaeCmVVZwGr4T5FxwQZUHQ78KvAdATvTUj525w8ejweT26sahIEeE1/6ClhBmJ0i0GuQXTeykMX8jBXBM4JsDrXDaaq8ESb5m8iotHj8nDbs8L/GacEVDTsD2BK0bs7yK4LcsBK30xG3gohNQFWF+6CGxcUuho/1QW+BH5SeAAYZHlLfXmJUvc70v17Tn4zJ/UsEPPXi4Ikg78q6AErD84m7VbDvaBnFbYAOzYTvQC8mZPfzHE4DXI4iRV9ebxp8ABW+maOae0VgZM39XqYFQmwqiam9izIjox8O6CXDeVTViTupHI5De5MojrBF+0UhtLnSv2mGtrcGYTPCfJhel9ZIsTUAD7qpEo9DAlomiaNGF33M9aCcfDucCeoCyC7AW4jfgr4oFUVDS3raVkKDeVTUFOQclp/2aE1KH+SpnKZA04r7AZQeNtqONe81FU07Ad9a1kvp1c+o/EdfuzsvUCclkHlxjyQTGB1QaZALzbmh0FFg0bbL0uUejfSMui0EbIa7lV0Cring+x6DE9OSPm7bKwVg9ONkJW+mYjoUYGv2yv0KyHo32iDhzUdhr7fZQgeB7YCVw3Bucatr8fj8Ww4fImMi8iXyPgSGV8iA/gSGV8i40tkfImML5HxJTIp+BKZDDwVii+R8Xg8Ho/Hc8vyD3I9i0rk9GYvAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/fullscreenaquamarine.0925003b.svg\";","module.exports = __webpack_public_path__ + \"static/media/fullscreenwhite.13bfb28e.svg\";","module.exports = __webpack_public_path__ + \"static/media/innerfullaquamarine.86e946f7.svg\";","module.exports = __webpack_public_path__ + \"static/media/innerfullwhite.78d38cae.svg\";","module.exports = __webpack_public_path__ + \"static/media/volume.0128d4aa.svg\";","import React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nlet songservers = [];\r\nconst PRODUCTION = true;\r\n\r\n\r\nexport const keepServersActive = async () => {\r\n    if (songservers.length === 0) {\r\n        const res = await axios({\r\n            method: \"GET\",\r\n            url: PRODUCTION ? \"/api/activateCheck\" : \"http://localhost:5000/api/activateCheck\"\r\n        });\r\n        songservers = await axios({\r\n            method: \"GET\",\r\n            url: `https://fervent-meninsky-931668.netlify.app/.netlify/functions/serverUrls?server=${res.data.server}`\r\n        }).then(res => res.data.archives);\r\n        songservers.push(PRODUCTION ? \"/api/activateCheck\" : \"http://localhost:5000/api/activateCheck\");\r\n    }\r\n\r\n    await Promise.all(\r\n        songservers.map(async (server) => {\r\n            try {\r\n                const res = await axios.get(server);\r\n                return res;\r\n            } catch(e) {\r\n                // console.log(\"ERROR---------------\",e.message);\r\n                if (e) return;\r\n            }\r\n        })\r\n    );\r\n};\r\n\r\nexport const sendRequest = async config => {\r\n    let baseLink = \"http://localhost:5000\";\r\n    // const baseLink = \"https://studioserver.herokuapp.com\";\r\n    // let baseLink = \"http://192.168.29.77:5000\";\r\n    // const baseLink = \"\";\r\n\r\n    if (!baseLink) {\r\n        baseLink = await axios({\r\n            method: \"GET\",\r\n            url: \"https://fervent-meninsky-931668.netlify.app/.netlify/functions/serverUrls\"\r\n            // url: \"https://studio-urls.netlify.app/.netlify/functions/serverUrls\"\r\n        }).then(res => res.data.server);\r\n    }\r\n\r\n    const baseHeaders = {\r\n        USER: localStorage.getItem(\"userId\") || \"\"\r\n    };\r\n\r\n    let res;\r\n    try {\r\n        res = await axios({\r\n            method: config.method,\r\n            url: PRODUCTION ? `/api${config.endpoint}` : `http://localhost:5000/api${config.endpoint}`,\r\n            data: config.data || {},\r\n            headers: baseHeaders\r\n        });\r\n        const { data } = res;\r\n        if (data.redirect) {\r\n            window.location.href = data.to;\r\n            return null;\r\n        }\r\n        return data;\r\n    } catch (e) {\r\n        // console.log(\"ERROR----\",e.message);\r\n        return null;\r\n    }\r\n};\r\n\r\n\r\nconst openerConfig = {\r\n    open: false,\r\n    yValue: 0,\r\n    xValue: 0,\r\n    type: null,\r\n    data: []\r\n};\r\n\r\nconst topBarConfig = {\r\n    button: false,\r\n    buttonFunc: () => {},\r\n    title: \"\",\r\n    bgColor: \"transparent\"\r\n};\r\n\r\nconst searchConfig = {\r\n    open: false,\r\n    input: \"\",\r\n    prevTab: \"\"\r\n};\r\n\r\nconst fullScreenConfig = {\r\n    show: false\r\n}\r\n\r\nexport function Timer (delay, cb) {\r\n\r\n    let _time = delay;\r\n    let _callback = cb;\r\n\r\n    let _timeoutTimer = 0;\r\n    let _intervalTimer = 0;\r\n    let _secondsTracker = 0;\r\n    let _done = false;\r\n    let _paused = false;\r\n    let _started = false;\r\n\r\n    const _startInterval = () => {\r\n        clearInterval(_intervalTimer);\r\n        _intervalTimer = setInterval(() => {\r\n            _secondsTracker++;\r\n        },1000);\r\n    };\r\n\r\n    this.start = (t = _time) => {\r\n        _paused = false;\r\n        _started = true;\r\n        _startInterval();\r\n        clearTimeout(_timeoutTimer);\r\n        _timeoutTimer = setTimeout(() => {\r\n            _callback();\r\n            _done = true;\r\n            clearInterval(_intervalTimer);\r\n        },t*1000);\r\n    };\r\n\r\n    this.pause = () => {\r\n        _paused = true;\r\n        clearTimeout(_timeoutTimer);\r\n        clearInterval(_intervalTimer);\r\n    }\r\n\r\n    this.continue = () => {\r\n        let diff = _time - _secondsTracker < 0 ? 0 : _time - _secondsTracker;\r\n        this.start(diff);\r\n    };\r\n\r\n    this.canPause = () => {\r\n        return !_done && _started && !_paused;\r\n    };\r\n\r\n    this.canContinue = () => {\r\n        return !_done && _started && _paused;\r\n    };\r\n\r\n    this.hasStarted = () => {\r\n        return _started;\r\n    };\r\n\r\n    this.hasFinished = () => {\r\n        return this.done;\r\n    };\r\n\r\n    this.stop = () => {\r\n        clearInterval(_intervalTimer);\r\n        clearTimeout(_timeoutTimer);\r\n    };\r\n\r\n};\r\n\r\nexport const httpCheck = () => {\r\n    // if (window.location.protocol !== \"https:\") {\r\n    //     window.location.protocol = \"https:\";\r\n    // }\r\n};\r\n\r\nexport const wait = time => {\r\n    return new Promise((resolve,) => {\r\n        setTimeout(resolve, time);\r\n    });\r\n};\r\n\r\nexport const checkX = (cursorX, sWidth) => {\r\n    const x = 10;\r\n\r\n    const atRight = (cursorX + 250 + x) < sWidth;\r\n    if (atRight) {\r\n        return cursorX + x;\r\n    }\r\n    return cursorX - 250 - x;\r\n};\r\n\r\nexport const checkY = (cursorY, sHeight, num) => {\r\n    const y = 10;\r\n\r\n    const heightOfBody = (50 * num) + 10;\r\n    const atBottom = (heightOfBody + cursorY + y) < sHeight;\r\n    if (atBottom) {\r\n        return cursorY + y;\r\n    }\r\n    return cursorY - heightOfBody - y;\r\n};\r\n\r\nexport const modifyLibrary = (res, decidingNumber) => {\r\n    for (let key in res) {\r\n        if (res[key].length < decidingNumber) {\r\n            const arr = res[key];\r\n            const times = decidingNumber - arr.length;\r\n            for (let i=1;i<=times; i++) {\r\n                res[key].push({});\r\n            }\r\n        }\r\n    }\r\n    return res;\r\n};\r\n\r\nexport const convertTime = time => {\r\n    let total = Math.floor(time);\r\n    let min = total/60;\r\n    let secs;\r\n    let arr = min.toString().split(\".\");\r\n    if (arr.length < 2) {\r\n        min = arr[0];\r\n        secs = \"00\";\r\n        return `${min}: ${secs}`;\r\n    } else {\r\n        min = arr[0];\r\n        secs = total - (min*60);\r\n        return `${min}: ${secs < 10 ? \"0\" : \"\"}${secs}`;\r\n    }\r\n};\r\n\r\nexport const checkArtist = async (artist,e,type) => {\r\n    return;\r\n    if (artist === \"Various Artists\") return;\r\n    if (e.target.className !== \"artistpara\" && type === \"artist\") return; \r\n    if (e.target.className !== \"albumartistname\" && type === \"albumartist\") return; \r\n    let res = await sendRequest({\r\n        method: \"POST\",\r\n        endpoint: `/checkArtist`,\r\n        data: {\r\n            name: artist\r\n        }\r\n    });\r\n    if (e.target.className !== \"artistpara-true\" && e.target.className !== \"artistpara-false\" && type === \"artist\") {\r\n        if (res.available) {\r\n            e.target.className = \"artistpara-true\";\r\n        } else {\r\n            e.target.className = \"artistpara-false\";\r\n        }\r\n        return;\r\n    }\r\n    if (e.target.className !== \"albumartistname-true\" && e.target.className !== \"albumartistname-false\" && type === \"albumartist\") {\r\n        if (res.status === 200 && res.data.available) {\r\n            e.target.className = \"albumartistname-true\";\r\n        } else {\r\n            e.target.className = \"albumartistname-false\";\r\n        }\r\n    }\r\n};\r\n\r\nfunction createGlobalState(initialValue) {\r\n    this.value = initialValue;\r\n    this.subscribers = [];\r\n\r\n    this.getValue = function() {\r\n        return this.value;\r\n    }\r\n\r\n    this.setValue = function(newState) {\r\n        if (this.getValue() === newState) {\r\n            return\r\n        }\r\n        this.value = newState;\r\n        this.subscribers.forEach(subscriber => {\r\n            subscriber(this.value);\r\n        });\r\n    }\r\n\r\n    this.subscribe = function(itemToSubscribe) {\r\n        if (this.subscribers.indexOf(itemToSubscribe) !== -1) {\r\n            return\r\n        }\r\n        this.subscribers.push(itemToSubscribe);\r\n    }\r\n\r\n    this.unsubscribe = function(itemToUnsubscribe) {\r\n        this.subscribers = this.subscribers.filter(\r\n            subscriber => subscriber !== itemToUnsubscribe\r\n        );\r\n    }\r\n};\r\n\r\nexport const CustomUseState = globalState => {\r\n    let [, setState] = useState();\r\n    const state = globalState.getValue();\r\n\r\n    function reRender(newState) {\r\n        setState({});\r\n    }\r\n\r\n    useEffect(() => {\r\n        globalState.subscribe(reRender);\r\n        return () => {\r\n            globalState.unsubscribe(reRender);\r\n        }\r\n    })\r\n\r\n    function setNewState(newState) {\r\n        globalState.setValue(newState);\r\n    }\r\n\r\n    return [state, setNewState];\r\n};\r\n\r\nexport const usePrevious = value => {\r\n    const ref = useRef({});\r\n    useEffect(() => {\r\n        ref.current = value;\r\n    });\r\n    return ref.current;\r\n}\r\n\r\nexport const dateToString = dateValue => {\r\n    const date = new Date(dateValue);\r\n    let month = \"\";\r\n    switch(date.getMonth()) {\r\n        case 0: month = \"January\"; break;\r\n        case 1: month = \"February\"; break;\r\n        case 2: month = \"March\"; break;\r\n        case 3: month = \"April\"; break;\r\n        case 4: month = \"May\"; break;\r\n        case 5: month = \"June\"; break;\r\n        case 6: month = \"July\"; break;\r\n        case 7: month = \"August\"; break;\r\n        case 8: month = \"September\"; break;\r\n        case 9: month = \"October\"; break;\r\n        case 10: month = \"November\"; break;\r\n        case 11: month = \"December\"; break;\r\n    };\r\n    const day = date.getDate();\r\n    const year = date.getFullYear();\r\n    return `${month} ${day}, ${year}`;\r\n};\r\n\r\nexport let playingGlobal = new createGlobalState(false);\r\nexport let colorGlobal = new createGlobalState(\"\");\r\nexport let tabGlobal = new createGlobalState(\"\");\r\nexport let routesGlobal = new createGlobalState([\"/home/homescreen\"]);\r\n// export let keepButtonGlobal = new createGlobalState(false);\r\n// export let onClickFuncGlobal = new createGlobalState(() => {});\r\n// export let topTitleGlobal = new createGlobalState(\"\");\r\n// export let topBgColor = new createGlobalState(\"transparent\");\r\nexport let topBarGlobal = new createGlobalState(topBarConfig);\r\nexport let searchBarGlobal = new createGlobalState(searchConfig);\r\nexport let searchInputGlobal = new createGlobalState(\"\");\r\nexport let fullScreenGlobal = new createGlobalState(fullScreenConfig);\r\nexport let albumGlobal = new createGlobalState({});\r\nexport let queueGlobal = new createGlobalState([]);\r\nexport let queueOpenedGlobal = new createGlobalState(\"\");\r\nexport let songIsPausedGlobal = new createGlobalState(false);\r\nexport let repeatTypeGlobal = new createGlobalState(0);\r\nexport let radioGlobal = new createGlobalState(false);\r\nexport let justOpened = new createGlobalState(true);\r\nexport let openerGlobal = new createGlobalState(openerConfig);\r\nexport let profileOpener = new createGlobalState(false);\r\nexport let homeClass = new createGlobalState(\"homemain start\");\r\nexport let responseBar = new createGlobalState({ open: \"\", msg: \"\" });\r\nexport let miniPlayerGlobal = new createGlobalState(false);\r\nexport let topBgColorGlobal = new createGlobalState(\"#202020\");\r\nexport let lyricsGlobal = new createGlobalState([]);\r\nexport let lyricTextGlobal = new createGlobalState({});\r\nexport const global = {};\r\n\r\n\r\n\r\nexport const skipSecs = 5;\r\nexport const prefix = \"/player\";\r\nexport const basename = \"\";\r\nexport const sharingBaseLink = `https://studiomusic.herokuapp.com${prefix}${basename}`;\r\n// export const sharingBaseLink = `http://localhost:3000${prefix}${basename}`;\r\n// export const basename = \"/player\";\r\n// export const prefix = \"\";","import \"../../../css/queuestyles.css\";\r\nimport React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport Close from \"../../../assets/deletewhite.svg\";\r\nimport Placeholder from \"../../../assets/placeholder.svg\";\r\nimport Play from \"../../../assets/playbutton-white.svg\";\r\nimport Pause from \"../../../assets/pausebutton-white.svg\";\r\nimport Expand from \"../../../assets/expand-white.svg\";\r\n// import Expand from \"../../../assets/fullscreen.png\";\r\nimport Minimize from \"../../../assets/new-minimizeplayer-white.svg\";\r\nimport LyricsIcon from \"../../../assets/lyrics-white.svg\";\r\nimport { MidPanelLoader } from \"./index\";\r\nimport { pauseOrPlay } from \"../../index\";\r\nimport {\r\n    CustomUseState,\r\n    queueGlobal,\r\n    queueOpenedGlobal,\r\n    songIsPausedGlobal,\r\n    albumGlobal,\r\n    responseBar,\r\n    openerGlobal,\r\n    playingGlobal,\r\n    topBarGlobal,\r\n    miniPlayerGlobal,\r\n    checkX,\r\n    checkY,\r\n    prefix,\r\n    basename,\r\n    global,\r\n    lyricsGlobal,\r\n    sendRequest,\r\n    lyricTextGlobal,\r\n    sharingBaseLink\r\n} from \"../../../common\";\r\nimport Button from \"../../../Button\";\r\nimport {\r\n    AlbumContext,\r\n    LyricsContext,\r\n    LyricsTextContext,\r\n    MenuContext,\r\n    MiniPlayerContext,\r\n    PlayerContext,\r\n    QueueContext,\r\n    QueueOpenedContext,\r\n    ResponseBarContext,\r\n    SongIsPausedContext\r\n} from \"../../../index\";\r\nlet finalQueue = [], queueLength, songIndex, smallArr;\r\nlet actualQueue, firstpart, lastpart, topBar, miniLocal, isOpen, scrollInterval = null;\r\nlet lyricTimeout = null;\r\n\r\n\r\nconst Loader = () => {\r\n    return(\r\n        <div className=\"fullcover\">\r\n            <div className=\"bufferloader\"/>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst SongInQueue = ({ nowPlaying = false, songIsPaused = null, song, number = null, openerFunc }) => {\r\n    const [hovered, setHovered] = useState(false);\r\n    const [,setPlayingSong] = CustomUseState(albumGlobal);\r\n    const [,setSongIsPaused] = CustomUseState(songIsPausedGlobal);\r\n\r\n    const mouseOver = e => {\r\n        setHovered(true);\r\n    };\r\n\r\n    const mouseOut = e => {\r\n        setHovered(false);\r\n    };\r\n\r\n    const setSong = () => {\r\n        if (nowPlaying) {\r\n            return;\r\n        }\r\n        setPlayingSong(song);\r\n        setSongIsPaused(true);\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        openerFunc(e, { dimensions, windowDim, song });\r\n    };\r\n\r\n    return(\r\n        <div className=\"nowplaying\" style={{\r\n            marginTop: `${ nowPlaying ? \"10px\" : \"\" }`,\r\n            marginBottom: `${ nowPlaying ? \"30px\" : \"\" }`,\r\n            borderBottom: `${ nowPlaying ? \"\" : \"1px solid rgba(255,255,255,0.1)\" }`\r\n        }} onMouseOver={mouseOver} onMouseOut={mouseOut}>\r\n            <div className=\"innernowplaying\"\r\n            style={{ backgroundColor: `${ nowPlaying || hovered ? \"#202020\" : \"\" }` }}\r\n            onClick={setSong}\r\n            >\r\n                {\r\n                    nowPlaying ?\r\n                    <div className=\"firstpartifnowplaying\">\r\n                        {\r\n                            !songIsPaused ?\r\n                            <div className=\"playinganim\">\r\n                                <div className=\"div1\"></div>\r\n                                <div className=\"div2\"></div>\r\n                                <div className=\"div3\"></div>\r\n                                <div className=\"div4\"></div>\r\n                            </div> : \r\n                            <div className=\"pausedanim\">\r\n                                <div className=\"div5\"></div>\r\n                                <div className=\"div6\"></div>\r\n                                <div className=\"div7\"></div>\r\n                                <div className=\"div8\"></div>\r\n                            </div>\r\n                        }\r\n                    </div> :\r\n                    <div className=\"firstpart\">{number}</div>\r\n                }\r\n                <div className=\"nowplayingart\">\r\n                    <img src={song.Thumbnail} alt=\"\"/>\r\n                </div>\r\n                <div className=\"queuesongdetails\">\r\n                    <div className=\"startingpart\">\r\n                        <div className=\"playingsongname\"\r\n                        style={{ color: `${ nowPlaying ? \"white\" : \"white\" }` }}>{song.Title || song.Album}</div>\r\n                        <div className=\"playingsongartist\">{song.Artist}</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"lastpart\">\r\n                    <div className={ hovered ? \"openercontrol\" : \"openercontrol hidden\" } style={{marginLeft: \"0px\"}}\r\n                    onClick={handleMenu}>\r\n                        <div className=\"opener1\"></div>\r\n                        <div className=\"opener2\"></div>\r\n                        <div className=\"opener3\"></div>\r\n                    </div>\r\n                    { hovered ? \"\" : song.Duration }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst EachLyric = ({ each, lyricText }) => {\r\n    return(\r\n        <div className={`each-lyric ${each.key === lyricText.key ? \"activetext\" : \"\"}`}>\r\n            {each.text}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst LyricsPart = ({ song, setTab }) => {\r\n    const lyricsContainer = useRef(null);\r\n    const activeLyrics = useRef(null);\r\n    const [lyrics, setLyrics] = useContext(LyricsContext);\r\n    const [lyricText, setLyricsText] = useContext(LyricsTextContext);\r\n    const [lyricsLoading, setLyricsLoading] = useState(false);\r\n\r\n    const call = async () => {\r\n        if (!lyricsLoading) setLyricsLoading(true);\r\n        const res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: `/getLyrics?name=${song.Title || song.Album}`\r\n        });\r\n        if (res) {\r\n            setLyricsLoading(false);\r\n            setLyrics(res);\r\n            if (res.length === 0) {\r\n                setTimeout(() => setTab(1), 500);\r\n            }\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!song.lyrics) {\r\n            setTab(1);\r\n            return;\r\n        }\r\n        if (!song.sync) setLyricsText({});\r\n        call();\r\n    }, [song]);\r\n\r\n    useEffect(() => {\r\n        lyricsContainer.current = document.querySelector(\".lyrics-part\");\r\n        activeLyrics.current = document.querySelector(\".each-lyric.activetext\");\r\n        if (lyricsContainer.current && activeLyrics.current) {\r\n            lyricsContainer.current.scroll({\r\n                top: activeLyrics.current.offsetTop - (lyricsContainer.current.offsetHeight / 4),\r\n                behavior: \"smooth\"\r\n            });\r\n        }\r\n    }, [lyricsLoading]);\r\n\r\n    useEffect(() => {\r\n        lyricsContainer.current = document.querySelector(\".lyrics-part\");\r\n        activeLyrics.current = document.querySelector(\".each-lyric.activetext\");\r\n        if (lyricsContainer.current && activeLyrics.current) {\r\n            lyricsContainer.current.scroll({\r\n                top: activeLyrics.current.offsetTop - (lyricsContainer.current.offsetHeight / 4),\r\n                behavior: \"smooth\"\r\n            });\r\n        }\r\n    }, [song, lyricText]);\r\n\r\n    if (lyricsLoading) {\r\n        return <Loader/>;\r\n    }\r\n    return(\r\n        <div className=\"outer-lyrics-part\">\r\n            {\r\n                lyrics.length > 0 ?\r\n                <div className=\"sync-definer\">\r\n                    { song.sync ? \"Lyrics are time synced\" : \"Lyrics are not time synced\" }\r\n                </div> : null\r\n            }\r\n            <div className=\"lyrics-part\">\r\n                {\r\n                    lyrics.length === 0 ? \r\n                    <div className=\"no-lyrics\">No lyrics found!</div> : null\r\n                }\r\n                {\r\n                    lyrics.length > 0 ?\r\n                    <>    \r\n                        {\r\n                            lyrics.map(each => {\r\n                                return <EachLyric each={each} lyricText={lyricText} />;\r\n                            })\r\n                        }\r\n                    </> : null\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst ArtEachLyric = ({ each, lyricText, song }) => {\r\n    // const setColor = () => {\r\n    //     const { Color = \"\" } = song;\r\n    //     if (each.key === lyricText.key) return Color ? `${Color}` : \"white\";\r\n    //     return \"#505050\";\r\n    // };\r\n\r\n    return(\r\n        <div className={`art-each-lyric ${each.key === lyricText.key ? \"activetext\" : each.key < lyricText.key ? \"disappear\" : \"\"}`}\r\n        // style={{ color: setColor() }}\r\n        >\r\n            {each.text}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ArtLyrics = ({ song, setArtLyricsOpen }) => {\r\n    const lyricsContainer = useRef(null);\r\n    const activeLyrics = useRef(null);\r\n    const [lyrics, setLyrics] = useContext(LyricsContext);\r\n    const [lyricText,] = useContext(LyricsTextContext);\r\n    const [lyricsLoading, setLyricsLoading] = useState(false);\r\n    const [hovered, setHovered] = useState(\"\");\r\n\r\n    const close = () => {\r\n        setArtLyricsOpen(false);\r\n    };\r\n\r\n    const call = async () => {\r\n        if (!lyricsLoading) setLyricsLoading(true);\r\n        const res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: `/getLyrics?name=${song.Title || song.Album}`\r\n        });\r\n        if (res) {\r\n            setLyricsLoading(false);\r\n            setLyrics(res);\r\n            if (res.length === 0) {\r\n                lyricTimeout = setTimeout(close, 1000);\r\n            }\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        clearTimeout(lyricTimeout);\r\n        call();\r\n    }, [song]);\r\n\r\n    useEffect(() => {\r\n        lyricsContainer.current = document.querySelector(\".lyrics-part\");\r\n        activeLyrics.current = document.querySelector(\".art-each-lyric.activetext\");\r\n        if (lyricsContainer.current && activeLyrics.current) {\r\n            lyricsContainer.current.scroll({\r\n                top: activeLyrics.current.offsetTop - (lyricsContainer.current.offsetHeight / 2) + 100,\r\n                behavior: \"smooth\"\r\n            });\r\n        }\r\n    }, [lyricsLoading]);\r\n\r\n    useEffect(() => {\r\n        lyricsContainer.current = document.querySelector(\".lyrics-part\");\r\n        activeLyrics.current = document.querySelector(\".art-each-lyric.activetext\");\r\n        if (lyricsContainer.current && activeLyrics.current) {\r\n            lyricsContainer.current.scroll({\r\n                top: activeLyrics.current.offsetTop - (lyricsContainer.current.offsetHeight / 2) + 100,\r\n                behavior: \"smooth\"\r\n            });\r\n        }\r\n    }, [song, lyricText]);\r\n\r\n    return(\r\n        <div className=\"art-lyrics\"\r\n        onMouseOver={() => setHovered(true)}\r\n        onMouseOut={() => setHovered(false)}\r\n        >\r\n            {\r\n                lyricsLoading ?\r\n                <Loader/> :\r\n                <div className=\"lyrics-part\">\r\n                    {\r\n                        lyrics.length === 0 ? \r\n                        <div className=\"no-lyrics\" style={{color:\"white\"}}>No lyrics found!</div> : null\r\n                    }\r\n                    {\r\n                        lyrics.map(each => {\r\n                            return <ArtEachLyric each={each} lyricText={lyricText} song={song} />;\r\n                        })\r\n                    }\r\n                </div>\r\n            }\r\n            {\r\n                lyrics.length !== 0 ?\r\n                <div className={`close-lyrics ${ hovered ? \"come-down\" : hovered === \"\" ? \"stay\" : \"go-up\" }`}  onClick={close} title=\"Close Lyrics\">\r\n                    <img src={Close} alt=\"\" />\r\n                </div>\r\n                : null\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst EachSong = ({ index, i, queue, each, songIsPaused, setSongIsPaused, setSong, openerFunc, playingSong }) => {\r\n    const [hovered, setHovered] = useState(false);\r\n\r\n    const handleMouse = e => e.stopPropagation();\r\n    const mouseover = e => setHovered(true);\r\n    const mouseout = e => setHovered(false);\r\n\r\n    const playThis = e => {\r\n        e.stopPropagation();\r\n        setSong(each);\r\n        setSongIsPaused(true);\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        const isPlayingSong = each.id === playingSong.id;\r\n        const playingSongIndex = queue.findIndex(song => song.id === playingSong.id);\r\n        const thisSongIndex = queue.findIndex(song => song.id === each.id);\r\n        openerFunc(e, {\r\n            dimensions,\r\n            windowDim,\r\n            song: each,\r\n            shouldNotGiveOption: isPlayingSong || (playingSongIndex+1 === thisSongIndex)\r\n        });\r\n    };\r\n\r\n    const mousedown = e => {\r\n        const element = e.currentTarget;\r\n        global.selectedElement = element;\r\n        global.selectedSong = each;\r\n        global.selectedSongIndex = queue.indexOf(each);\r\n        global.containerDimensions = document.querySelector(\".tab-container\").getBoundingClientRect();\r\n        element.classList.add(\"absolute\");\r\n    };\r\n\r\n    const mouseup = e => {};\r\n\r\n    if (Object.keys(each).length === 1) {\r\n        return(\r\n            <div className=\"each-song\"></div>\r\n        );\r\n    }\r\n    return(\r\n        <div className={`each-song${index === i ? \" active-song\" : \"\"}`} title={each.Title || each.Album} onMouseDown={mousedown}\r\n        onMouseUp={mouseup} onMouseOver={mouseover} onMouseOut={mouseout} style={{ marginBottom: `${ i+1 === queue.length ? \"10px\" : \"\" }` }}>\r\n            <div className=\"song-album\" onMouseDown={handleMouse} onMouseUp={handleMouse}>\r\n                <img className=\"song-album-img\" src={each.Thumbnail} alt=\"\" />\r\n                {\r\n                    index !== i ?\r\n                        <div className=\"song-album-cover-hidden\">\r\n                            <img src={Play} className=\"song-album-cover-img\" title=\"Play\" alt=\"\" onClick={playThis} />\r\n                        </div> : \r\n                        <div className=\"song-album-cover-hidden\">\r\n                            {\r\n                                !songIsPaused ?\r\n                                <img src={Pause} className=\"song-album-cover-img\" title=\"Pause\" alt=\"\" onClick={pauseOrPlay} /> : \r\n                                <img src={Play} className=\"song-album-cover-img\" title=\"Play\" alt=\"\" onClick={pauseOrPlay} />\r\n                            }\r\n                        </div>\r\n                }\r\n                {\r\n                    index === i && !hovered ?\r\n                        <div className=\"song-album-cover\">\r\n                            {\r\n                                !songIsPaused ?\r\n                                <div className=\"playinganim\">\r\n                                    <div className=\"div1\"></div>\r\n                                    <div className=\"div2\"></div>\r\n                                    <div className=\"div3\"></div>\r\n                                    <div className=\"div4\"></div>\r\n                                </div> : \r\n                                <div className=\"pausedanim\">\r\n                                    <div className=\"div5\"></div>\r\n                                    <div className=\"div6\"></div>\r\n                                    <div className=\"div7\"></div>\r\n                                    <div className=\"div8\"></div>\r\n                                </div> \r\n                            }\r\n                        </div> : null\r\n                }\r\n            </div>\r\n            <div className=\"song-body\">\r\n                <div className=\"song-body-upper\">\r\n                    <div>{each.Title || each.Album}</div>\r\n                </div>\r\n                <div className=\"song-body-lower\">\r\n                    <div>{each.Artist}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"song-options\" onMouseDown={handleMouse} onMouseUp={handleMouse}>\r\n                <div className={ hovered ? \"openercontrol\" : \"openercontrol hidden\" } style={{marginLeft: \"0px\"}}\r\n                onClick={handleMenu} title=\"More Options\">\r\n                    <div className=\"opener1\"></div>\r\n                    <div className=\"opener2\"></div>\r\n                    <div className=\"opener3\"></div>\r\n                </div>\r\n                { hovered ? null : each.Duration }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewRightQueue = ({ song, songIsPaused, setSongIsPaused, setSong, openerFunc, openerDetails }) => {\r\n    const [queue, setQueue] = useContext(QueueContext);\r\n    const [showScroll, setShowScroll] = useState(false);\r\n    const [position, setPosition] = useState({ show: false, top: 0 });\r\n    const [selected, setSelected] = useState(false);\r\n    const index = queue.findIndex(each => each.id === song.id);\r\n    const container = useRef(null);\r\n    actualQueue = queue;\r\n\r\n    const mouseover = e => setShowScroll(true);\r\n    const mouseout = e => setShowScroll(false);\r\n\r\n    const mousedown = e => {\r\n        if (global.selectedElement) {\r\n            setSelected(true);\r\n            const top = (e.clientY - global.containerDimensions.top) + (global.scrolled || 0);\r\n            global.selectedElement.style.top = top + \"px\";\r\n            const nearest = Math.floor(top / 60);\r\n            setPosition({ ...position, show: true, top: nearest * 60 });\r\n        }\r\n    };\r\n\r\n    const mouseup = e => {\r\n        if (global.selectedElement) {\r\n            setPosition({ ...position, show: false });\r\n            setSelected(false);\r\n\r\n            // const nearestIndex = Math.floor(position.top / 60);\r\n            // actualQueue.splice(global.selectedSongIndex, 1);\r\n            // actualQueue.splice(nearestIndex, 0, global.selectedSong);\r\n\r\n            // setQueue(actualQueue);\r\n            setQueue(prev => {\r\n                const nearestIndex = Math.floor(position.top / 60);\r\n                prev.splice(global.selectedSongIndex, 1);\r\n                prev.splice(nearestIndex, 0, global.selectedSong);\r\n                return prev;\r\n            });\r\n\r\n            global.selectedElement.classList.remove(\"absolute\");\r\n            global.selectedElement = null;\r\n            global.selectedSongIndex = null;\r\n            global.selectedSong = null;\r\n        }\r\n    };\r\n\r\n    const keepScrollDown = () => {\r\n        scrollInterval = setInterval(() => {\r\n            container.current && container.current.scrollTop++;\r\n            global.selectedElement.style.top = (1+parseFloat(global.selectedElement.style.top.slice(0,-2))) + \"px\";\r\n        },5);\r\n    };\r\n\r\n    const mousemove = e => {\r\n        if (global.selectedElement) {\r\n            const top = (e.clientY - global.containerDimensions.top) + (global.scrolled || 0);\r\n            global.selectedElement.style.top = top + \"px\";\r\n            const nearest = Math.floor(top / 60);\r\n            setPosition({ ...position, top: nearest * 60 });\r\n        }\r\n    };\r\n\r\n    const scroll = e => {\r\n        global.scrolled = e.target.scrollTop;\r\n    };\r\n\r\n    const flush = () => {\r\n        const index = actualQueue.findIndex(each => {\r\n            if (Object.keys(each).length === 1) {\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        if (index !== -1) {\r\n            actualQueue.splice(index,1);\r\n            setQueue(actualQueue);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // flush();\r\n        global.activeSong = document.querySelector(\".each-song.active-song\");\r\n        container.current = document.querySelector(\".tab-container\");\r\n        if (global.activeSong && container.current && !global.selectedElement) {\r\n            container.current.scroll({ top: global.activeSong.offsetTop, behavior: \"smooth\" });\r\n        }\r\n    }, [song, queue]);\r\n\r\n    return(\r\n        <div className={`tab-container${showScroll ? \" show\" : \"\"}`}\r\n        style={{ overflowY: `${openerDetails.open ? \"\" : \"overlay\"}` }}\r\n        onMouseOver={mouseover}\r\n        onMouseOut={mouseout}\r\n        onMouseMove={mousemove}\r\n        onScroll={scroll}\r\n        onMouseDown={mousedown}\r\n        onMouseUp={mouseup}\r\n        >\r\n            {\r\n                queue.map((each,i) => {\r\n                    return <EachSong index={index} i={i} each={each} queue={queue} songIsPaused={songIsPaused} setSongIsPaused={setSongIsPaused}\r\n                    setSong={setSong} openerFunc={openerFunc} playingSong={song} />;\r\n                })\r\n            }\r\n            {\r\n                selected ?\r\n                <div style={\r\n                    { width: \"100%\", position: \"absolute\",\r\n                      height: `100%`,\r\n                      top: `${global.scrolled || 0}px`,\r\n                      left: \"0\", backgroundColor: \"rgba(0,0,0,0.5)\", zIndex: \"50\" }\r\n                } ></div> :\r\n                null\r\n            }\r\n            { \r\n                position.show ?\r\n                <div style={\r\n                    { width: \"50px\", height: \"4px\", position: \"absolute\", left: \"calc((100% - 50px)/2)\", zIndex: \"100\",\r\n                        top: `${position.top}px`, backgroundColor: \"gray\", borderRadius: \"5px\" }\r\n                }></div> :\r\n                null\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Queue = () => {\r\n    const [tab, setTab] = useState(1);\r\n    const [queueOpened, setQueueOpened] = useContext(QueueOpenedContext);\r\n    const [,setPlaying] = useContext(PlayerContext);\r\n    const [songIsPaused, setSongIsPaused] = useContext(SongIsPausedContext);\r\n    const [song, setSong] = useContext(AlbumContext);\r\n    const [queue, setQueue] = useContext(QueueContext);\r\n    const [openerDetails, setOpenerDetails] = useContext(MenuContext);\r\n    const [update, setUpdate] = useState(true);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [,setResBar] = useContext(ResponseBarContext);\r\n    const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [mini, setMini] = useContext(MiniPlayerContext);\r\n    const [element, setElement] = useState(null);\r\n    const [show, setShow] = useState(false);\r\n    const [artLyricsOpen, setArtLyricsOpen] = useState(false);\r\n    actualQueue = queue;\r\n    topBar = topBarConfig;\r\n    queueLength = queue.length;\r\n    songIndex = actualQueue.indexOf(song);\r\n    firstpart = actualQueue.slice(0,songIndex);\r\n    lastpart = actualQueue.slice(songIndex+1,queueLength);\r\n    miniLocal = mini;\r\n    isOpen = openerDetails.open;\r\n    const sDiv = useRef(null);\r\n    const hist = useHistory();\r\n\r\n\r\n    const clearQueue = (e) => {\r\n        e.stopPropagation();\r\n        const index = actualQueue.indexOf(song);\r\n        actualQueue = [actualQueue[index]];\r\n        localStorage.setItem(\"queue\",JSON.stringify(actualQueue));\r\n        setQueue(actualQueue);\r\n        setResBar({ open: true, msg: \"Queue cleared\" });\r\n        setUpdate(!update);\r\n    };\r\n\r\n    const goToAlbum = item => {\r\n        setQueueOpened(false);\r\n        hist.push(`${prefix}${basename}/album/${item._albumId}`);\r\n    };\r\n    \r\n    const initial = () => {\r\n        finalQueue = [];\r\n        if (queueLength === 1) {\r\n            return;\r\n        }\r\n        songIndex = queue.indexOf(song);\r\n        if (songIndex === 0) {\r\n            finalQueue = queue.slice(1,queueLength);\r\n            return;\r\n        }\r\n        if (songIndex === queueLength-1) {\r\n            finalQueue = queue.slice(0,queueLength-1);\r\n            return;\r\n        }\r\n        finalQueue = queue.slice(songIndex+1,queueLength);\r\n        smallArr = queue.slice(0,songIndex);\r\n        smallArr.forEach(each => {\r\n            finalQueue.push(each);\r\n        });\r\n        return;\r\n    };\r\n\r\n    const close = () => {\r\n        setTopBarConfig({\r\n            ...topBar,\r\n            button: false\r\n        });\r\n        setQueueOpened(false);\r\n    };\r\n\r\n    const removeSong = each => {\r\n        const removeIndex = actualQueue.findIndex(song => {\r\n            return song.id === each.id;\r\n        });\r\n        if (removeIndex === -1) return;\r\n\r\n        if (actualQueue.length === 1) {\r\n            setSong({});\r\n            return;\r\n        }\r\n        actualQueue.splice(removeIndex, 1);\r\n        localStorage.setItem(\"queue\",JSON.stringify(actualQueue));\r\n        setQueue(actualQueue);\r\n        setUpdate(!update);\r\n        setResBar(prev => {\r\n            return { ...prev, open: true, msg: `Removed ${each.Title || each.Album} from queue` };\r\n        });\r\n        if (each.id === song.id) {\r\n            const index = removeIndex === actualQueue.length ? 0 : removeIndex;\r\n            setSong(actualQueue[index]);\r\n            setSongIsPaused(true);\r\n        }\r\n    };\r\n\r\n    const playSongNext = each => {\r\n        setQueue(prev => {\r\n            const currSongIndex = prev.findIndex(s => s.id === each.id);\r\n            prev.splice(currSongIndex,1);\r\n            const playingSongIndex = prev.findIndex(s => s.id === song.id);\r\n            prev.splice(playingSongIndex+1, 0, each);\r\n            return prev;\r\n        });\r\n        setResBar(prev => {\r\n            return { ...prev, open: true, msg: `Playing ${each.Title || each.Album} next` };\r\n        });\r\n    };\r\n\r\n    const albumName = () => {\r\n        if (actualQueue.length === 0) {\r\n            return \"\";\r\n        }\r\n        const index = songIndex+1 < actualQueue.length ? songIndex+1 : 0;\r\n        return actualQueue[index].Album;\r\n    };\r\n\r\n    const lessen = (num) => {\r\n        if (song.Color) {\r\n            let color = song.Color.split(\",\");\r\n            color[3] = `${num})`;\r\n            color = color.join(\",\");\r\n            return color;\r\n        }\r\n    };\r\n\r\n    const minimizer = () => {\r\n        setMini(prev => {\r\n            return { ...prev, show: true, cover: song.Thumbnail };\r\n        });\r\n        setQueueOpened(false);\r\n    };\r\n\r\n    const shareTrack = item => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        setResBar(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                msg: \"Track link copied to clipboard\"\r\n            };\r\n        });\r\n        navigator.clipboard.writeText(`${sharingBaseLink}/track/${item._albumId}/${item._trackId}`);\r\n    };\r\n\r\n    const handleMenu = (e, { dimensions, windowDim, song: selectedSong, shouldNotGiveOption }) => {\r\n        e.stopPropagation();\r\n        const data = shouldNotGiveOption ? [\r\n            {\r\n                name: \"Remove\",\r\n                func: () => removeSong(selectedSong)\r\n            },\r\n            {\r\n                name: \"Go to album\",\r\n                func: () => goToAlbum(selectedSong)\r\n            },\r\n            {\r\n                name: \"Share track\",\r\n                func: () => shareTrack(selectedSong)\r\n            }\r\n        ] : [\r\n            {\r\n                name: \"Remove\",\r\n                func: () => removeSong(selectedSong)\r\n            },\r\n            {\r\n                name: \"Play next\",\r\n                func: () => playSongNext(selectedSong)\r\n            },\r\n            {\r\n                name: \"Go to album\",\r\n                func: () => goToAlbum(selectedSong)\r\n            },\r\n            {\r\n                name: \"Share track\",\r\n                func: () => shareTrack(selectedSong)\r\n            }\r\n        ];\r\n        setOpenerDetails(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                xValue: checkX(dimensions.x, windowDim.width),\r\n                yValue: checkY(dimensions.y, windowDim.height, data.length),\r\n                data\r\n            };\r\n        });\r\n    };\r\n\r\n    const handlePlayingMenu = (e, { dimensions, windowDim, song: selectedSong }) => {\r\n        e.stopPropagation();\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: true,\r\n            xValue: checkX(dimensions.x, windowDim.width),\r\n            yValue: checkY(dimensions.y, windowDim.height, 1),\r\n            data: [\r\n                {\r\n                    name: \"Go to album\",\r\n                    func: () => goToAlbum(selectedSong)\r\n                }\r\n            ]\r\n        });\r\n    };\r\n\r\n    const documentClick = e => {\r\n        const list = [\"openercontrol\",\"opener1\",\"opener2\",\"opener3\"];\r\n        if (!list.includes(e.target.className)) {\r\n            setOpenerDetails(prev => {\r\n                return { ...prev, open: false };\r\n            });\r\n        }\r\n    };\r\n\r\n    const documentScroll = e => {\r\n        if (isOpen) {\r\n            setOpenerDetails(prev => {\r\n                return { ...prev, open: false };\r\n            });\r\n        }\r\n    };\r\n\r\n    const openLyrics = e => {\r\n        setArtLyricsOpen(true);\r\n    };\r\n\r\n    const observer = new IntersectionObserver(([entry]) => {\r\n        const { isIntersecting } = entry;\r\n        setShow(isIntersecting);\r\n    }, { threshold: 0.1 });\r\n\r\n    useEffect(() => {\r\n        const currentElement = element;\r\n        const currentObserver = observer;\r\n        if (currentElement) {\r\n            currentObserver.observe(currentElement);\r\n        }\r\n        return () => {\r\n            if (currentElement) {\r\n                currentObserver.unobserve(currentElement);\r\n            }\r\n        };\r\n    }, [element]);\r\n\r\n    useEffect(() => {\r\n        setIsLoading(false);\r\n        sDiv.current = document.querySelector(\".scrollcontainer\");\r\n        document.addEventListener(\"click\",documentClick);\r\n        sDiv.current && sDiv.current.addEventListener(\"scroll\",documentScroll);\r\n        return () => {\r\n            document.removeEventListener(\"click\",documentClick);\r\n            sDiv.current && sDiv.current.removeEventListener(\"scroll\",documentScroll);\r\n        };\r\n    }, [update,queue]);\r\n\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        <div className={ queueOpened ? \"bottomqueue show\" : queueOpened !== \"\" ? \"bottomqueue hide\" : \"bottomqueue stay\" } ref={setElement}>\r\n            { show ?\r\n            <div className=\"innerbottomqueue\">\r\n                <div className=\"leftqueuepart\">\r\n                    <div className=\"leftalbumartcover-container\">\r\n                        <div className=\"leftalbumartcover\">\r\n                            {\r\n                                !artLyricsOpen ?\r\n                                <>\r\n                                    <div className=\"dummyforshadow\"></div>\r\n                                    <div className=\"icons\">\r\n                                        <img className=\"minimizer\" onClick={minimizer} src={Minimize} alt=\"\" title=\"Minimize Player\" />\r\n                                        {/* <img className=\"expander\" src={LyricsIcon} onClick={openLyrics} alt=\"\" title=\"Lyrics\" /> */}\r\n                                        {/* <img className=\"minimizer\" onClick={minimizer} src={Minimize} alt=\"\" title=\"Minimize Player\" /> */}\r\n                                    </div>\r\n                                </> : null\r\n                            }\r\n                            <img src={song.Thumbnail} alt=\"\" className=\"leftqueuealbumart\" />\r\n                        </div>\r\n                    </div>\r\n                    { artLyricsOpen ? <ArtLyrics song={song} setArtLyricsOpen={setArtLyricsOpen} /> : null }\r\n                </div>\r\n                <div className=\"new-right-queue\">\r\n                    <div className=\"right-inner-queue\">\r\n                        <div className=\"tab-bar\">\r\n                            {/* <div className={`each-tab ${tab === 1 ? \"active-tab\" : \"\"}`} style={{cursor:\"default\"}}>UP NEXT</div> */}\r\n                            <Button className={`each-tab ${tab === 1 ? \"active-tab\" : \"\"}`} onClick={() => setTab(1)}>UP NEXT</Button>\r\n                            { song.lyrics ?\r\n                                <Button className={`each-tab ${tab === 2 ? \"active-tab\" : \"\"}`} onClick={() => setTab(2)}>LYRICS</Button> :\r\n                                <div className={`each-tab ${tab === 2 ? \"active-tab\" : \"\"}`}\r\n                                style={{ cursor:\"default\", color: \"#909090\" }}>LYRICS</div>\r\n                            }\r\n                        </div>\r\n                        { tab === 1 ?\r\n                            <NewRightQueue song={song} songIsPaused={songIsPaused} setSongIsPaused={setSongIsPaused} setSong={setSong}\r\n                            openerFunc={handleMenu} openerDetails={openerDetails} /> : null\r\n                        }\r\n                        { tab === 2 ?\r\n                            <LyricsPart song={song} setTab={setTab} /> : null \r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div> : null }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Queue;","// import \"../../../css/library.css\";\r\nimport \"../../../css/teststyles.css\";\r\nimport React, { useState, useEffect, useRef, memo, useCallback, useContext } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport { MidPanelLoader } from \"./index\";\r\nimport { pauseOrPlay } from \"../../../homepage\";\r\nimport { HorizontalList } from \"./HomeScreen\";\r\nimport Play from \"../../../assets/playbutton-white.svg\";\r\nimport Pause from \"../../../assets/pausebutton-white.svg\";\r\nimport {\r\n    wait,\r\n    queueOpenedGlobal,\r\n    CustomUseState,\r\n    sendRequest,\r\n    topBarGlobal,\r\n    topBgColorGlobal,\r\n    modifyLibrary,\r\n    routesGlobal,\r\n    albumGlobal,\r\n    songIsPausedGlobal,\r\n    playingGlobal,\r\n    queueGlobal,\r\n    openerGlobal,\r\n    checkX,\r\n    checkY,\r\n    responseBar,\r\n    prefix,\r\n    basename,\r\n    global,\r\n    sharingBaseLink\r\n} from \"../../../common\";\r\nimport Queue from \"./Queue\";\r\nimport Button from \"../../../Button\";\r\nimport {\r\n    AlbumContext,\r\n    MenuContext,\r\n    PlayerContext,\r\n    QueueContext,\r\n    ResponseBarContext,\r\n    SongIsPausedContext\r\n} from \"../../../index\";\r\nlet topBar, isOpen = null, moreLocal;\r\n\r\n\r\nconst ActualLibrary = () => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [library, setLibrary] = useState({});\r\n    const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [topBgColor, setBgColor] = CustomUseState(topBgColorGlobal);\r\n    topBar = topBarConfig;\r\n    // let scrolled = false;\r\n\r\n    const scrollHandler = (e) => {\r\n        const top = e.currentTarget.scrollTop;\r\n        sessionStorage.setItem(\"library-scroll\",top);\r\n        if (top > 200 && topBar.bgColor === \"transparent\") {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                button: false,\r\n                bgColor: topBgColor\r\n            });\r\n        } else if (top < 200 && topBar.bgColor !== \"transparent\") {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                button: false,\r\n                bgColor: \"transparent\"\r\n            });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const call = async () => {\r\n            const saved = JSON.parse(sessionStorage.getItem(\"library\"));\r\n            if (saved !== null) {\r\n                setLibrary(saved);\r\n                setIsLoading(false);\r\n                return;\r\n            }\r\n            const res = await sendRequest({\r\n                method: \"GET\",\r\n                endpoint: `/getLibrary`\r\n            });\r\n            await wait(500);\r\n            sessionStorage.setItem(\"library\",JSON.stringify(res));\r\n            setLibrary(res);\r\n            setIsLoading(false);\r\n        };\r\n        if (isLoading) {\r\n            call();\r\n        } else {\r\n            const main = document.querySelector(\".main\");\r\n            main.scrollTop = sessionStorage.getItem(\"library-scroll\") || 0;\r\n        }\r\n        setTopBarConfig({\r\n            ...topBar,\r\n            button: false,\r\n            // bgColor: \"transparent\"\r\n        });\r\n        // return () => {\r\n        //     setTopBarConfig({\r\n        //         ...topBar,\r\n        //         button: false,\r\n        //         bgColor: \"transparent\"\r\n        //     }); \r\n        // };\r\n    },[isLoading]);\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        <div className=\"library\">\r\n            <div className=\"main\" onScroll={scrollHandler}>\r\n                <div className=\"librarytop\"\r\n                style={{ backgroundColor: `${topBgColor}` }}\r\n                >\r\n                    <div className=\"innerlibrarytop\">\r\n                        <div className=\"forblur\"></div>\r\n                        <div className=\"bigtitle\">Library</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"librarybottom\">\r\n                    <div className=\"outline\">\r\n                        {/* <div className=\"bigmaintitle\">\r\n                            <p>Library</p>\r\n                        </div> */}\r\n                        {   \r\n                            Object.keys(library).map(key => {\r\n                                if (library[key].length !== 0) {\r\n                                    return(\r\n                                        <div className=\"list\">\r\n                                            <HorizontalList list={library[key]}/>\r\n                                        </div>\r\n                                    );\r\n                                }\r\n                                return null;\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst CreateRow = ({ row, openerFunc }) => {\r\n    return(\r\n        <div className=\"createrow\">\r\n            {\r\n                row.map((each,i) => {\r\n                    // if (i<6) {\r\n                        if (Object.keys(each).length > 0) {\r\n                            return <EachAlbum each={each} openerFunc={openerFunc} />\r\n                        }\r\n                        return <div className=\"eachinrow\"></div>\r\n                    // }\r\n                    // return \"\";\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst CreateAnotherRow = ({ row }) => {\r\n    return(\r\n        <div className=\"createanotherrow\">\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nconst EachAlbum = ({\r\n    each,\r\n    openerFunc,\r\n    playingSong,\r\n    setAlbumForPlayer,\r\n    setQueue,\r\n    playing,\r\n    setPlaying,\r\n    songPaused,\r\n    setSongPaused\r\n}) => {\r\n    let songPausedLocal = songPaused;\r\n    const hist = useHistory();\r\n\r\n    const goToAlbum = () => {\r\n        setTimeout(() => {\r\n            hist.push(`${prefix}${basename}/album/${each._albumId}`);\r\n        },500);\r\n    };\r\n\r\n    const goToAlbumName = e => {\r\n        hist.push(`${prefix}${basename}/album/${each._albumId}`);\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        openerFunc(e, { dimensions, windowDim, each });\r\n    };\r\n\r\n    const handlePlayPause = (e) => {\r\n        e.stopPropagation();\r\n        if (playingSong._albumId === each._albumId) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n        const main = each.Type === \"Album\" ? each.Tracks : each;\r\n        if (!playing) setPlaying(true);\r\n        if (each.Type === \"Single\") {\r\n            main.id = global.id = 0;\r\n            setQueue([main]);\r\n            setAlbumForPlayer(main);\r\n        } else {\r\n            const dummy = [ ...main ];\r\n            dummy.forEach((song,i) => {\r\n                song.id = global.id = i;\r\n                song.Album = each.Album;\r\n                song.Thumbnail = each.Thumbnail;\r\n                song.Color = each.Color;\r\n                song.Year = each.Year;\r\n            });\r\n            setQueue(dummy);\r\n            setAlbumForPlayer(dummy[0]);\r\n        }\r\n        localStorage.setItem(\"queue\",JSON.stringify(main));\r\n        setSongPaused(true);\r\n    };\r\n\r\n    return(\r\n        // <div className=\"eachinrow\" ref={setElement}>\r\n        //     { show ?\r\n        <div className=\"innerineach\">\r\n            <Button className=\"eachartcover\" onClick={goToAlbum} title={each.Album}>\r\n                <div className=\"eachshadow\"></div>\r\n                <div className={ (playingSong.Album === each.Album) ? \"showplaybuttonfixed\" : \"showplaybutton\" }>\r\n                    <Button className=\"innerplaybutton\" onClick={handlePlayPause}\r\n                    title={ (!songPausedLocal && playingSong.Album === each.Album) ? \"Pause\" : \"Play\" } >\r\n                        <img src={ (!songPausedLocal && playingSong.Album === each.Album) ? Pause : Play } alt=\"\" />\r\n                    </Button>\r\n                </div>\r\n                <div className=\"library-opener\" onClick={handleMenu} title=\"More Options\">\r\n                    <div className=\"library-opener1\"></div>\r\n                    <div className=\"library-opener2\"></div>\r\n                    <div className=\"library-opener3\"></div>\r\n                </div>\r\n                <img src={each.Thumbnail} alt=\"\" className=\"eachalbumart\" />\r\n            </Button>\r\n            <div className=\"eachalbumname\" onClick={goToAlbumName}>{each.Album}</div>\r\n            <span className=\"eachbottom\">\r\n                <span>{each.AlbumArtist}</span>\r\n            </span>\r\n        </div> \r\n        //         :\r\n        //         null\r\n        //     }\r\n        // </div>\r\n    );\r\n};\r\n\r\nconst Between = props => {\r\n    const [element, setElement] = useState(null);\r\n    const [show, setShow] = useState(false);\r\n\r\n    const observer = new IntersectionObserver(([entry]) => {\r\n        const { isIntersecting } = entry;\r\n        setShow(isIntersecting);\r\n    }, { threshold: 0.1 });\r\n\r\n    useEffect(() => {\r\n        const currentElement = element;\r\n        const currentObserver = observer;\r\n        if (currentElement) {\r\n            currentObserver.observe(currentElement);\r\n        }\r\n\r\n        return () => {\r\n            if (currentElement) {\r\n                currentObserver.unobserve(currentElement);\r\n            }\r\n        };\r\n    }, [element]);\r\n\r\n    return(\r\n        <div className=\"eachinrow\" ref={setElement} key={props.keyId}>\r\n            { show ? <EachAlbum { ...props } /> : null }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewActualLibrary = () => {\r\n    const [library, setLibrary] = useState([]);\r\n    const [page, setPage] = useState(1);\r\n    const [more, setMore] = useState(true);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [pageLoading, setPageLoading] = useState(false);\r\n    const [openerDetails, setOpenerDetails] = useContext(MenuContext);\r\n    const [playingSong, setAlbumForPlayer] = useContext(AlbumContext);\r\n    const [queue, setQueue] = useContext(QueueContext);\r\n    const [, setResObj] = useContext(ResponseBarContext);\r\n    const [playing, setPlaying] = useContext(PlayerContext);\r\n    const [songPaused, setSongPaused] = useContext(SongIsPausedContext);\r\n    const topDiv = useRef(null);\r\n    const grid = useRef(null);\r\n    isOpen = openerDetails.open;\r\n    moreLocal = more;\r\n    const list = [\"libraryopener\",\"libraryopener1\",\"libraryopener2\",\"libraryopener3\"];\r\n\r\n\r\n    const addAlbumToQueue = each => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        if (queue.length === 0) return;\r\n\r\n        const album = { ...each };\r\n        const main = [];\r\n        if (album.Type === \"Single\") {\r\n            album.id = ++global.id;\r\n            main.push(album);\r\n        } else if (album.Type === \"Album\") {\r\n            album.Tracks.forEach(each => {\r\n                const obj = { ...album, ...each, id: ++global.id };\r\n                delete obj.Tracks;\r\n                main.push(obj);\r\n            });\r\n        }\r\n        setQueue(prev => {\r\n            return [ ...prev, ...main ];\r\n        });\r\n        setResObj(prev => {\r\n            return { ...prev, open: true, msg: `Added ${album.Type.toLowerCase()} to queue` };\r\n        });\r\n    };\r\n\r\n    const playAlbumNext = each => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        if (queue.length === 0) return;\r\n        \r\n        const album = { ...each };\r\n        const main = [];\r\n        if (album.Type === \"Single\") {\r\n            album.id = ++global.id;\r\n            main.push(album);\r\n        } else if (album.Type === \"Album\") {\r\n            album.Tracks.forEach(each => {\r\n                const obj = { ...album, ...each, id: ++global.id };\r\n                delete obj.Tracks;\r\n                main.push(obj);\r\n            });\r\n        }\r\n        setQueue(prev => {\r\n            const playingSongIndex = prev.findIndex(s => s.id === playingSong.id);\r\n            prev.splice(playingSongIndex+1, 0, ...main);\r\n            return prev;\r\n        });\r\n        setResObj(prev => {\r\n            return { ...prev, open: true, msg: `Playing ${album.Title || album.Album} next` };\r\n        });\r\n    };\r\n\r\n    const shareAlbum = item => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        setResObj(prev => {\r\n            return { ...prev, open: true, msg: \"Album link copied to clipboard\" };\r\n        });\r\n        navigator.clipboard.writeText(`${sharingBaseLink}/album/${item._albumId}`);\r\n    };\r\n\r\n    const handleMenu = (e, { dimensions, windowDim, each: album }) => {\r\n        e.stopPropagation();\r\n        const data = [\r\n            {\r\n                name: \"Add to queue\",\r\n                func: () => addAlbumToQueue(album)\r\n            },\r\n            {\r\n                name: \"Play next\",\r\n                func: () => playAlbumNext(album)\r\n            },\r\n            {\r\n                name: \"Share album\",\r\n                func: () => shareAlbum(album)\r\n            }\r\n        ];\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: true,\r\n            xValue: checkX(dimensions.x, windowDim.width),\r\n            yValue: checkY(dimensions.y, windowDim.height, data.length),\r\n            data\r\n        });\r\n    };\r\n\r\n    const documentClick = e => {\r\n        if (!list.includes(e.target.className)) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    const documentScroll = e => {\r\n        const { scrollHeight, scrollTop, clientHeight } = topDiv.current;\r\n        if (clientHeight + scrollTop > scrollHeight - 500) {\r\n            if (!pageLoading && moreLocal) {\r\n                setPageLoading(true);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        const call = async () => {\r\n            const saved = JSON.parse(sessionStorage.getItem(\"library\") || \"[]\");\r\n            const nextPage = saved.filter(each => {\r\n                return each.page === page;\r\n            })[0];\r\n            if (nextPage) {\r\n                const { more, data } = nextPage.response;\r\n                setLibrary(prev => {\r\n                    return [ ...prev, ...data ];\r\n                });\r\n                setPageLoading(false);\r\n                setPage(page+1);\r\n                setMore(more);\r\n                return;\r\n            }\r\n            const res = await sendRequest({\r\n                method: \"GET\",\r\n                endpoint: `/getLibrary?page=${page}`\r\n            });\r\n            if (res) {\r\n                const { more, data } = res;\r\n                const saved = JSON.parse(sessionStorage.getItem(\"library\") || \"[]\");\r\n                saved.push({ page, response: res });\r\n                sessionStorage.setItem(\"library\",JSON.stringify(saved));\r\n                setLibrary(prev => {\r\n                    return [ ...prev, ...data ];\r\n                });\r\n                setPageLoading(false);\r\n                setPage(page+1);\r\n                setMore(more);\r\n            }\r\n        };\r\n        if (pageLoading) {\r\n            call();\r\n        }\r\n    }, [pageLoading]);\r\n\r\n    useEffect(() => {\r\n        const call = async () => {\r\n            const saved = JSON.parse(sessionStorage.getItem(\"library\") || \"[]\");\r\n            const firstPage = saved.filter(each => {\r\n                return each.page === 1;\r\n            })[0];\r\n            if (firstPage) {\r\n                const { more, data } = firstPage.response;\r\n                setLibrary(data);\r\n                setPage(page+1);\r\n                setMore(more);\r\n                setIsLoading(false);\r\n                return;\r\n            }\r\n            const res = await sendRequest({\r\n                method: \"GET\",\r\n                endpoint: `/getLibrary?page=${page}`\r\n            });\r\n            if (res) {\r\n                const { more, data } = res;\r\n                sessionStorage.setItem(\"library\",JSON.stringify([{ page: 1, response: res }]));\r\n                setLibrary(data);\r\n                setPage(page+1);\r\n                setMore(more);\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n        if (isLoading) {\r\n            call();\r\n        }\r\n\r\n        topDiv.current = document.querySelector(\".dummyoutermid\");\r\n        grid.current = document.querySelector(\".librarygrid\");\r\n        topDiv.current && topDiv.current.addEventListener(\"scroll\", documentScroll);\r\n        // document.addEventListener(\"click\", documentClick);\r\n        return () => {\r\n            topDiv.current && topDiv.current.removeEventListener(\"scroll\", documentScroll);\r\n            // document.removeEventListener(\"click\", documentClick);\r\n        };\r\n\r\n    }, [isLoading]);\r\n\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        // <div className=\"dummymid\" style={{ overflowY: `${ isOpen ? \"hidden\" : \"overlay\" }` }}>\r\n        <div className=\"dummyoutermid\" style={{ overflowY: `${ isOpen ? \"hidden\" : \"overlay\" }` }}>\r\n            <div className=\"dummymid\">\r\n                <div className=\"libraryname\">Library</div>\r\n                <div className=\"librarycontainer\">\r\n                    <div className=\"librarygrid\">\r\n                        {\r\n                            library.map(item => {\r\n                                return <Between each={item} openerFunc={handleMenu} keyId={item.keyId}\r\n                                playingSong={playingSong} setAlbumForPlayer={setAlbumForPlayer} queue={queue} setQueue={setQueue}\r\n                                playing={playing} setPlaying={setPlaying} songPaused={songPaused} setSongPaused={setSongPaused} />;\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n                {\r\n                    pageLoading && more ?\r\n                    <div className=\"page-load\">\r\n                        <div className=\"loaderinner\">\r\n                            <div className=\"one\"></div>\r\n                            <div className=\"two\"></div>\r\n                            <div className=\"three\"></div>\r\n                        </div>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n\r\nexport default NewActualLibrary;","import \"../../../css/homestyles.css\";\r\nimport \"../../../css/teststyles.css\";\r\nimport \"../../../css/albumview.css\";\r\nimport React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport HomeScreen from \"./HomeScreen\";\r\nimport AlbumView from \"./AlbumView\";\r\nimport TrackView from \"./TrackView\";\r\nimport Library from \"./Library\";\r\nimport Radio from \"./Radio\";\r\nimport Search from \"./Search\";\r\nimport back from \"../../../assets/backbutton.png\";\r\nimport dropdown from \"../../../assets/dropdown.png\";\r\nimport SearchIcon from \"../../../assets/searchicon.svg\";\r\nimport Close from \"../../../assets/blackclose.png\";\r\nimport { \r\n    CustomUseState,\r\n    openerGlobal,\r\n    homeClass,\r\n    wait,\r\n    sendRequest,\r\n    albumGlobal,\r\n    topBarGlobal,\r\n    searchBarGlobal,\r\n    playingGlobal,\r\n    prefix,\r\n    basename\r\n} from \"../../../common\";\r\nimport {\r\n    MenuContext,\r\n    PlayerContext,\r\n    QueueOpenedContext\r\n} from \"../../../index\";\r\nimport Queue from \"./Queue\";\r\nlet actualIsOpen, topBar, timeout = undefined, searchBar, openLocal;\r\nlet scrollTimeout = null;\r\n\r\n\r\nexport const MidPanelLoader = () => {\r\n    return(\r\n        <div className=\"loader\">\r\n            <div className=\"loaderinner\">\r\n                <div className=\"one\"></div>\r\n                <div className=\"two\"></div>\r\n                <div className=\"three\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewReleases = () => {\r\n    return(\r\n        <div className=\"third\"></div>\r\n    );\r\n};\r\n\r\nconst SearchBar = () => {\r\n    const [searchConfig, setSearchConfig] = CustomUseState(searchBarGlobal);\r\n    searchBar = searchConfig;\r\n\r\n    const call = async () => {\r\n        timeout = undefined;\r\n        let res;\r\n        if (searchBar.input !== \"\") {\r\n            setSearchConfig({\r\n                ...searchBar,\r\n                callLoading: true\r\n            });\r\n            res = await sendRequest({\r\n                method: \"GET\",\r\n                endpoint: `/search?name=${searchBar.input}`\r\n            });\r\n            setSearchConfig({\r\n                ...searchBar,\r\n                result: res,\r\n                callLoading: false\r\n            });\r\n        } else {\r\n            setSearchConfig({\r\n                ...searchBar,\r\n                callLoading: false\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleInput = e => {\r\n        if (e.target.value) {\r\n            setSearchConfig({\r\n                ...searchBar,\r\n                input: e.target.value,\r\n                callLoading: true,\r\n                result: {}\r\n            }); \r\n        } else {\r\n            setSearchConfig({\r\n                ...searchBar,\r\n                input: e.target.value,\r\n                callLoading: true\r\n            });\r\n        }\r\n        // setInput(e.target.value);\r\n        if (timeout) clearTimeout(timeout);\r\n        timeout = setTimeout(call,500);\r\n    };\r\n\r\n    const clearInput = e => {\r\n        // setInput(\"\");\r\n        // setResult({ songs: {}, albums: {} });\r\n        setSearchConfig({\r\n            ...searchBar,\r\n            input: \"\",\r\n            result: { songs: {}, albums: {} }\r\n        });\r\n        timeout = undefined;\r\n    };\r\n\r\n    if (searchBar.show) {\r\n        return(\r\n            <div className=\"searchrelated\">\r\n                <div className=\"searchbar\">\r\n                    <div className=\"searchimg\">\r\n                        <img src={SearchIcon} alt=\"\" />\r\n                    </div>\r\n                    <input type=\"text\" value={searchBar.input} placeholder=\"Search for Songs or Albums\"\r\n                    className=\"searchinput\" spellCheck=\"false\" onInput={handleInput} autoFocus={true}/>\r\n                    {\r\n                        searchBar.input !== \"\" ?\r\n                        <div className=\"clearinput\">\r\n                            <img src={Close} alt=\"\" onClick={clearInput} />\r\n                        </div> : <div style={{ width: \"50px\", height: \"100%\" }}></div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    return <></>;\r\n};\r\n\r\nconst ProfileBar = () => {\r\n    const userName = localStorage.getItem(\"username\");\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    const [redirectValue, setRedirectValue] = useState({ status: false, to: \"\" });\r\n    const [,setClass] = CustomUseState(homeClass);\r\n    const [,setSong] = CustomUseState(albumGlobal);\r\n    const [topBarConfig,] = CustomUseState(topBarGlobal);\r\n    actualIsOpen = openerDetails.open;\r\n    topBar = topBarConfig;\r\n    let { button, buttonFunc, title, bgColor } = topBar;\r\n\r\n    const min = () => {\r\n        // ipcRenderer.send(\"minimize\");\r\n        // ipcRenderer.send(\"full\");\r\n    };\r\n\r\n    // const max = () => {\r\n    //     ipcRenderer.send(\"maximize\");\r\n    // };\r\n\r\n    const close = () => {\r\n        // ipcRenderer.send(\"close\");\r\n    };\r\n\r\n    const handleClick = (e) => {\r\n        const list = [\"rowinmenu\",\"rowtext\"];\r\n        if (list.indexOf(e.target.className) === -1 && actualIsOpen) {\r\n            setOpenerDetails({\r\n                open: false,\r\n                xValue: 0,\r\n                yValue: 0,\r\n                type: null\r\n            });\r\n        }\r\n        // setOpenerDetails({ ...openerDetails, open: false });\r\n    };\r\n\r\n    const modifyLocalStorage = async () => {\r\n        let text = localStorage.getItem(\"email\");\r\n        let password = localStorage.getItem(\"password\");\r\n        await wait(1000);\r\n        localStorage.clear();\r\n        localStorage.setItem(\"email\",text);\r\n        localStorage.setItem(\"password\",password);\r\n        await wait(1000);\r\n        sessionStorage.clear();\r\n    };\r\n\r\n    const logOut = async () => {\r\n        modifyLocalStorage();\r\n        sendRequest({\r\n            method: \"GET\",\r\n            endpoint: `/logout`\r\n        });\r\n        setClass(\"homemain end\");\r\n        setSong({});\r\n        await wait(500);\r\n        setRedirectValue({ status: true, to: \"/\" });\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n    };\r\n\r\n    const openNew = async () => {\r\n        // ipcRenderer.send(\"opennew\");\r\n    };\r\n\r\n    const handleMenu = (e) => {\r\n        e.stopPropagation();\r\n        setOpenerDetails({\r\n            open: !actualIsOpen,\r\n            yValue: e.clientY + 10,\r\n            xValue: e.clientX - 200,\r\n            type: \"album\",\r\n            data: [\r\n                // {\r\n                //     name: \"Account\",\r\n                //     func: openNew\r\n                // },\r\n                {\r\n                    name: \"Log out\",\r\n                    func: logOut\r\n                }\r\n            ]\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"mousedown\",handleClick);\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\",handleClick);\r\n        }\r\n    },[]);\r\n\r\n\r\n    if (redirectValue.status) {\r\n        // return <Redirect to={redirectValue.to} />\r\n    }\r\n    return(\r\n        <div className=\"entiretop\"\r\n        style={ bgColor === \"transparent\" ? { backgroundColor: \"transparent\" } : { backgroundColor: \"#121212\" } }\r\n        >\r\n            <div className=\"topbar\" style={{backgroundColor: bgColor}}>\r\n                <SearchBar/>\r\n                { button ?\r\n                    <div className=\"backbutton\" onClick={buttonFunc}>\r\n                        <img src={back} alt=\"\"/>\r\n                    </div> : \"\"\r\n                }\r\n                {\r\n                    title ? \r\n                    <div className=\"toptitlediv\">{title}</div> : \"\"\r\n                }\r\n                <div className=\"profilebardiv\">\r\n                    <div className=\"name\">{userName}</div>\r\n                    <div className=\"logoutbutton\">\r\n                        <img src={dropdown} alt=\"\" onClick={handleMenu}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"topbuttons\">\r\n                    <div onClick={min} className=\"minimize\"></div>\r\n                    {/* <div onClick={max} className=\"maximize\"></div> */}\r\n                    <div onClick={close} className=\"close\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst OpenQueue = () => {\r\n    const [queueOpen, setQueueOpen] = useContext(QueueOpenedContext);\r\n\r\n    useEffect(() => {\r\n        setQueueOpen(true);\r\n    }, []);\r\n\r\n    return null;\r\n};\r\n\r\nconst Mid = () => {\r\n    const [openerDetails,] = useContext(MenuContext);\r\n    const [playing,] = useContext(PlayerContext);\r\n    openLocal = openerDetails.open;\r\n    const scrollRef = useRef(null);\r\n\r\n    const removeClass = () => {\r\n        scrollRef.current.classList.remove(\"scrolling\");\r\n    };\r\n\r\n    const handleScroll = e => {\r\n        if (scrollTimeout) {\r\n            clearTimeout(scrollTimeout);\r\n        }\r\n        scrollRef.current.classList.add(\"scrolling\");\r\n        scrollTimeout = setTimeout(removeClass, 1000);\r\n    };\r\n\r\n    useEffect(() => {\r\n        scrollRef.current = document.querySelector(\".main-outer-container\");\r\n        scrollRef.current && scrollRef.current.addEventListener(\"scroll\", handleScroll);\r\n\r\n        return () => {\r\n            scrollRef.current && scrollRef.current.removeEventListener(\"scroll\", handleScroll);\r\n        };\r\n    }, []);\r\n\r\n    return(\r\n        <div className=\"midmain-without-player\">\r\n            { playing ? <Queue/> : null }\r\n            <div className=\"main-outer-container\"\r\n            style={{ overflowY: `${ openLocal ? \"hidden\" : \"overlay\" }` }}\r\n            >\r\n                <Switch>\r\n                    <Route path={`${prefix}${basename}/homescreen`}><HomeScreen/></Route>\r\n                    <Route path={`${prefix}${basename}/search`}><Search/></Route>\r\n                    <Route path={`${prefix}${basename}/new-releases`}><NewReleases/></Route>\r\n                    <Route path={`${prefix}${basename}/album/:albumId`}><AlbumView/></Route>\r\n                    <Route path={`${prefix}${basename}/track/:albumId/:trackId`}><TrackView/></Route>\r\n                    <Route path={`${prefix}${basename}/library`}><Library/></Route>\r\n                    <Route path={`${prefix}${basename}/radio`}><Radio/></Route>\r\n                    {/* <Route path={`${prefix}${basename}/queue`}><OpenQueue/></Route> */}\r\n                </Switch>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Mid;","import Mid, { MidPanelLoader } from \"./midpanel\";\r\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\r\nimport React, { useState, useEffect, useRef, useContext } from \"react\";\r\n// import logo from \"../../assets/bluelogo.svg\";\r\n// import logo from \"../../assets/latest-whiteblack.svg\";\r\n// import logo from \"../../assets/latest-bluewhite.svg\";\r\nimport logo from \"../../assets/latest-blueblack.svg\";\r\n// import logo from \"../../assets/latest-bluetransparent.svg\";\r\n// import logo from \"../../assets/aquamarinelogo.svg\";\r\n// import logo from \"../../assets/blackandwhitelogo.svg\";\r\nimport home from \"../../assets/homewhite.svg\";\r\nimport search from \"../../assets/searchwhite.svg\";\r\nimport library from \"../../assets/librarywhite.svg\";\r\nimport homelight from \"../../assets/homelight.svg\";\r\nimport searchlight from \"../../assets/searchlight.svg\";\r\nimport librarylight from \"../../assets/librarylight.svg\";\r\nimport radio from \"../../assets/radio2.svg\";\r\n// import BackButton from \"../../assets/backbutton-white.svg\";\r\nimport BackButton from \"../../assets/backbutton-909090.svg\";\r\nimport Close from \"../../assets/delete-909090.svg\";\r\n// import radio from \"../../assets/mainshuffle.svg\";\r\nimport radiolight from \"../../assets/radiolight2.svg\";\r\nimport dropdown from \"../../assets/dropdown.png\";\r\n// import radiolight from \"../../assets/mainshufflelight.svg\";\r\nimport tick from \"../../assets/tickmark.svg\";\r\nimport \"../../css/homestyles.css\";\r\nimport \"../../css/teststyles.css\";\r\nimport \"../../css/searchstyles.css\";\r\nimport {\r\n    CustomUseState,\r\n    playingGlobal,\r\n    tabGlobal,\r\n    routesGlobal,\r\n    queueOpenedGlobal,\r\n    topBarGlobal,\r\n    searchBarGlobal,\r\n    searchInputGlobal,\r\n    prefix,\r\n    basename,\r\n    profileOpener,\r\n    global,\r\n    sendRequest\r\n} from \"../../common\";\r\nimport Button from \"../../Button\";\r\nimport {\r\n    PlayerContext,\r\n    ProfileContext,\r\n    QueueOpenedContext,\r\n    SearchContext,\r\n    SearchInputContext,\r\n    UserContext\r\n} from \"../../index\";\r\nlet topBar, tabLocal, queueOpenedLocal, searchInputTimeout = null, noLocal, showListLocal;\r\n\r\n\r\nconst Left = () => {\r\n    const topList = [\"Home\", \"Search\", \"Library\"];\r\n    const normalList = [\"Home\",\"Search\",\"New Releases\",\"Albums\",\"Artists\",\"Shuffle\"];\r\n    const playlists = [\"Most Played\",\"Favorites\",\"New Releases\",\"Liked\"];\r\n    // const playlists = [];\r\n    // const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [playing,] = useState(false);\r\n    const [tab, setTab] = CustomUseState(tabGlobal);\r\n    const [,setRoutes] = CustomUseState(routesGlobal);\r\n    const [searchConfig, setSearchConfig] = CustomUseState(searchBarGlobal);\r\n    let searchBar = searchConfig;\r\n    // const [keepButton, setKeepButton] = CustomUseState(keepButtonGlobal);\r\n    // const [,setOnClickFunc] = CustomUseState(onClickFuncGlobal);\r\n    // const [topTitle, setTopTitle] = CustomUseState(topTitleGlobal);\r\n    // const [topColor, setBgColor] = CustomUseState(topBgColor);\r\n    const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [queueOpened, setQueueOpened] = CustomUseState(queueOpenedGlobal);\r\n    topBar = topBarConfig;\r\n    tabLocal = tab;\r\n\r\n\r\n    (() => {\r\n        let loc;\r\n        if (window.location.hash !== \"\") {\r\n            loc = window.location.hash.split(\"/\")[2];\r\n        } else {\r\n            loc = window.location.pathname.split(\"/\")[2];\r\n        }\r\n        if (queueOpened) {\r\n            setTab(\"\");\r\n            return;\r\n        }\r\n        switch(loc) {\r\n            case \"homescreen\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Home\");\r\n                break;\r\n            case \"search\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Search\");\r\n                break;\r\n            case \"library\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Library\");\r\n                break;\r\n            case \"radio\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Radio\");\r\n                break;\r\n            case \"new-releases\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"New Releases\");\r\n                break;\r\n            default:\r\n                if (tabLocal === \"\") break;\r\n                setTab(\"\");\r\n                break;\r\n        }\r\n    })();\r\n\r\n    const goToHome = () => {\r\n        setTopBarConfig({\r\n            button: false,\r\n            buttonFunc: () => {},\r\n            title: \"\",\r\n            bgColor: \"transparent\"\r\n        });\r\n        // setKeepButton(false);\r\n        // setOnClickFunc(() => {});\r\n        // setTopTitle(\"\");\r\n        // setBgColor(\"transparent\");\r\n        setQueueOpened(false);\r\n        setTab(\"Home\");\r\n        setRoutes([\"/home/homescreen\"]);\r\n    };\r\n\r\n    const calc = (item) => {\r\n        if(item === \"Home\") return \"/home/homescreen\";\r\n        else if(item === \"Search\") return \"/home/search\";\r\n        else if(item === \"New Releases\") return \"/home/new-releases\";\r\n        else if(item === \"Library\") return \"/home/library\";\r\n        else if(item === \"Radio\") return \"/home/radio\";\r\n        return \"/home/homescreen\";\r\n    };\r\n\r\n    const setFuncs = (item) => {\r\n        if (item === tabLocal) {\r\n            return;\r\n        }\r\n        setTopBarConfig({\r\n            button: false,\r\n            buttonFunc: () => {},\r\n            title: \"\",\r\n            bgColor: \"transparent\"\r\n        });\r\n        if (item !== \"Search\" && searchBar.show) {\r\n            setSearchConfig({\r\n                ...searchBar,\r\n                show: false\r\n            });\r\n        } \r\n        setQueueOpened(false);\r\n        sessionStorage.setItem(\"home-scroll\",0);\r\n        sessionStorage.setItem(\"library-scroll\",0);\r\n    };\r\n\r\n    const setRouteFunc = (item) => {\r\n        if(item === \"Home\") setRoutes([\"/home/homescreen\"]);\r\n        else if(item === \"Search\") setRoutes([\"/home/search\"]);\r\n        else if(item === \"New Releases\") setRoutes([\"/home/new-releases\"]);\r\n        else if(item === \"Library\") setRoutes([\"/home/library\"]);\r\n        else if(item === \"Radio\") setRoutes([\"/home/radio\"]);\r\n        else if(item === \"Most Played\") setRoutes([\"/home/mostplayed\"]);\r\n        else setRoutes([\"/home/homescreen\"]);\r\n    };\r\n\r\n    const setIcon = (item) => {\r\n        if (item === \"Home\") return item === tab ? home : homelight;\r\n        else if (item === \"Search\") return item === tab ? search : searchlight;\r\n        else if (item === \"Library\") return item === tab ? library : librarylight;\r\n        else if (item === \"Radio\") return item === tab ? radio : radiolight;\r\n    };\r\n\r\n    const onMouseOver = (item, e) => {\r\n        if (item === \"Home\") {\r\n            e.currentTarget.children[0].src = home;\r\n        } else if (item === \"Search\") {\r\n            e.currentTarget.children[0].src = search;\r\n        } else if (item === \"Library\") {\r\n            e.currentTarget.children[0].src = library;\r\n        } else if (item === \"Radio\") {\r\n            e.currentTarget.children[0].src = radio;\r\n        } else {\r\n            e.currentTarget.children[0].src = \"\";\r\n        }\r\n    };\r\n    \r\n    const onMouseOut = (item, e) => {\r\n        if (item === \"Home\") {\r\n            e.currentTarget.children[0].src = item === tab ? home : homelight;\r\n        } else if (item === \"Search\") {\r\n            e.currentTarget.children[0].src = item === tab ? search : searchlight;\r\n        } else if (item === \"Library\") {\r\n            e.currentTarget.children[0].src = item === tab ? library : librarylight;\r\n        } else if (item === \"Radio\") {\r\n            e.currentTarget.children[0].src = item === tab ? radio : radiolight;\r\n        } else {\r\n            e.currentTarget.children[0].src = \"\";\r\n        }\r\n    };\r\n\r\n    const resetTop = () => {\r\n        // if (keepButton === true) {\r\n        //     setKeepButton(false);\r\n        // }\r\n        // if (topColor !== \"transparent\") {\r\n        //     setBgColor(\"transparent\");\r\n        // }\r\n        // if (topTitle !== \"\") {\r\n        //     setTopTitle(\"\");\r\n        // }\r\n    };\r\n\r\n    return(\r\n        <div className={ playing ? \"leftmain-with-player\" : \"leftmain-without-player\" }\r\n        // onClick={resetTop}\r\n        >\r\n            <Link to=\"/home/homescreen\" style={{ textDecoration: \"none\" }}>\r\n                <div className=\"logodiv\">\r\n                    <img src={logo} alt=\"logo\" onClick={goToHome}/>\r\n                    <p onClick={goToHome}>Studio</p>\r\n                </div>\r\n            </Link>\r\n            <div className=\"headlist\">\r\n                {\r\n                    topList.map(item => {\r\n                        return(\r\n                            <Link to={calc(item)} style={{ textDecoration: \"none\" }} onClick={() => setFuncs(item)}>\r\n                                <div onClick={() => {\r\n                                    setRouteFunc(item);\r\n                                    setTab(item);\r\n                                    }} className={ item === tab ? \"eachactive\" : \"each\" }\r\n                                    onMouseOver={(e) => onMouseOver(item, e)}\r\n                                    onMouseOut={(e) => onMouseOut(item,e)}\r\n                                    >\r\n                                    <img src={setIcon(item)} alt=\"\"/>\r\n                                    <p>{item}</p>\r\n                                </div>\r\n                            </Link>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            <div className=\"divider\"></div>\r\n            {\r\n                playlists.length !== 0 ? <div className=\"playlisttitle\">PLAYLISTS</div> : \"\"\r\n            }\r\n            {\r\n                playlists.map(item => {\r\n                    return(\r\n                        <Link to={calc(item)} style={{ textDecoration: \"none\" }}>\r\n                            <div onClick={() => {\r\n                                    setRouteFunc(item);\r\n                                    setTab(item);\r\n                                }}\r\n                                className={ item === tab ? \"playlist active1\" : \"playlist\" }>\r\n                                <p>{item}</p>\r\n                            </div>\r\n                        </Link>\r\n                    )\r\n                })\r\n            }\r\n            {/* <div className=\"playlisttitlebutton\">+ CREATE PLAYLIST</div> */}\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst TopSearchBar = () => {\r\n    const [queueOpen, setQueueOpen] = useContext(QueueOpenedContext);\r\n    const [searchConfig, setSearchConfig] = useContext(SearchContext);\r\n    const [input, setInput] = useContext(SearchInputContext);\r\n    const [value, setValue] = useState(\"\");\r\n    const [showList, setShowList] = useState(true);\r\n    const [no, setNo] = useState(-1);\r\n    const search = useRef(null);\r\n    const location = useLocation();\r\n    const hist = useHistory();\r\n    let list = localStorage.getItem(\"searches\") || \"[]\";\r\n    list = JSON.parse(list).reverse().slice(0,8);\r\n    noLocal = no;\r\n    showListLocal = showList;\r\n\r\n    const goBack = e => {\r\n        global.searchBarOpen = false;\r\n        setSearchConfig({\r\n            ...searchConfig,\r\n            open: false\r\n        });\r\n    };\r\n\r\n    const clear = e => {\r\n        e.stopPropagation();\r\n        setValue(\"\");\r\n        document.querySelector(\".search-input\").focus();\r\n    };\r\n\r\n    const click = e => {\r\n        if (!(e.target === search.current || search.current.contains(e.target))) {\r\n            global.searchBarOpen = false;\r\n            setSearchConfig(prev => {\r\n                return { ...prev, open: false };\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleInput = e => {\r\n        setValue(e.target.value);\r\n        if (!showList) {\r\n            setShowList(true);\r\n        }\r\n    };\r\n\r\n    const handleSearch = e => {\r\n        e.preventDefault();\r\n\r\n        let list = localStorage.getItem(\"searches\") || \"[]\";\r\n        list = JSON.parse(list);\r\n        value && !list.includes(value) && list.push(value);\r\n        localStorage.setItem(\"searches\", JSON.stringify(list));\r\n\r\n        if (queueOpen) setQueueOpen(false);\r\n        setInput(value);\r\n        setNo(-1);\r\n        setShowList(false);\r\n        // if (location.pathname !== `${prefix}${basename}/search`) {\r\n        //     hist.push(`${prefix}${basename}/search`);\r\n        // }\r\n        if (location.search !== `?q=${value}`) {\r\n            hist.push(`${prefix}${basename}/search?q=${value}`);\r\n        }\r\n    };\r\n\r\n    const setThis = (val,e) => {\r\n        e.stopPropagation();\r\n        setValue(val);\r\n        setShowList(false);\r\n        setNo(-1);\r\n        \r\n        if (queueOpen) setQueueOpen(false);\r\n        setInput(val);\r\n        if (location.search !== `?q=${val}`) {\r\n            hist.push(`${prefix}${basename}/search?q=${val}`);\r\n        }\r\n    };\r\n\r\n    const keyDown = e => {\r\n        if (e.keyCode === 40 && showListLocal) {\r\n            if (noLocal+1 > 8) {\r\n                noLocal = 0;\r\n                setNo(0);\r\n                return;\r\n            }\r\n            setNo(noLocal+1);\r\n        } else if (e.keyCode === 38 && showListLocal) {\r\n            if (noLocal === -1) {\r\n                noLocal = 7;\r\n                setNo(7);\r\n                return;\r\n            }\r\n            setNo(noLocal-1);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (no === -1) {\r\n            return;\r\n        }\r\n        setValue(list[noLocal]);\r\n    }, [no]);\r\n\r\n    useEffect(() => {\r\n        search.current = document.querySelector(\".search-bar\");\r\n        document.addEventListener(\"click\",click);\r\n        document.addEventListener(\"keydown\",keyDown);\r\n        document.querySelector(\".search-input\").focus();\r\n        return () => {\r\n            document.removeEventListener(\"click\",click);\r\n            document.removeEventListener(\"keydown\",keyDown);\r\n        };\r\n    }, []);\r\n\r\n    return(\r\n        <div className=\"top-search-bar-container\">\r\n            <div className=\"search-bar\">\r\n                <div className=\"search-top-row\">\r\n                    <div className=\"back-container\">\r\n                        <button className=\"back-button\" title=\"Back\" onClick={goBack}>\r\n                            <img src={BackButton} alt=\"\" />\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"input-container\">\r\n                        <form onSubmit={handleSearch}>\r\n                            <input type=\"text\" className=\"search-input\" placeholder=\"Search\" align=\"middle\"\r\n                            onChange={handleInput} value={value} spellCheck=\"false\" />\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"close-container\">\r\n                        {\r\n                            value !== \"\" ?\r\n                            <button className=\"back-button\" title=\"Clear\" onClick={clear}>\r\n                                <img src={Close} alt=\"\" />\r\n                            </button> : null\r\n                        }\r\n                    </div>\r\n                </div>\r\n                {\r\n                    list.length !== 0 && showList ?\r\n                    <div className=\"list-container\">\r\n                        {\r\n                            list.map((each,i) => {\r\n                                if (i<8) {\r\n                                    return(\r\n                                        <div className={ i === noLocal ? \"each-list-highlight\" : \"each-list\" } onClick={(e) => setThis(each,e)}>\r\n                                            <div className=\"first-each-list\">{each}</div>\r\n                                            <div className=\"last-each-list\"></div>\r\n                                        </div> \r\n                                    );\r\n                                }\r\n                                return null;\r\n                            })\r\n                        }\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst TopNav = () => {\r\n    const topList = [\"Home\", \"Library\", \"Search\"];\r\n    // const [tab, setTab] = CustomUseState(tabGlobal);\r\n    const [tab, setTab] = useState(\"\");\r\n    const [queueOpened, setQueueOpened] = useContext(QueueOpenedContext);\r\n    const [searchConfig, setSearchConfig] = useContext(SearchContext);\r\n    const [,setProfileOpen] = useContext(ProfileContext);\r\n    const [user, setUser] = useContext(UserContext);\r\n    const currentLocation = useLocation();\r\n    const hist = useHistory();\r\n    tabLocal = tab;\r\n    queueOpenedLocal = queueOpened;\r\n\r\n    const initial = () => {\r\n        const split = currentLocation.pathname.split(\"/\");\r\n        const loc = prefix === \"\" || basename === \"\" ? split[2] : split[3];\r\n        if (queueOpened) {\r\n            setTab(\"\");\r\n            return;\r\n        }\r\n        switch(loc) {\r\n            case \"homescreen\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Home\");\r\n                break;\r\n            case \"search\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Search\");\r\n                break;\r\n            case \"library\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Library\");\r\n                break;\r\n            case \"radio\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"Radio\");\r\n                break;\r\n            case \"new-releases\":\r\n                if (tabLocal === loc) break;\r\n                setTab(\"New Releases\");\r\n                break;\r\n            default:\r\n                if (tabLocal === \"\") break;\r\n                setTab(\"\");\r\n                break;\r\n        }\r\n    };\r\n\r\n    // initial();\r\n\r\n    const goToHome = () => {\r\n        if (queueOpenedLocal) {\r\n            setQueueOpened(false);\r\n        }\r\n        if (tabLocal !== \"Home\") {\r\n            setTab(\"Home\");\r\n            hist.push(`${prefix}${basename}/homescreen`);\r\n        }\r\n    };\r\n\r\n    const setFuncs = (item, currentTab) => {\r\n        if (item === \"Search\") {\r\n            global.searchBarOpen = true;\r\n            setSearchConfig({\r\n                ...searchConfig,\r\n                open: true,\r\n                prevTab: currentTab\r\n            });\r\n        }\r\n        if (item === tabLocal) {\r\n            return;\r\n        }\r\n        if (queueOpenedLocal && item !== \"Search\") {\r\n            setQueueOpened(false);\r\n        }\r\n    };\r\n\r\n    const getCorrespondingRoute = item => {\r\n        if(item === \"Home\") return `${prefix}${basename}/homescreen`;\r\n        else if(item === \"Search\") return `${prefix}${basename}/search`;\r\n        else if(item === \"New Releases\") return `${prefix}${basename}/new-releases`;\r\n        else if(item === \"Library\") return `${prefix}${basename}/library`;\r\n        else if(item === \"Radio\") return `${prefix}${basename}/radio`;\r\n        else if(item === \"Most Played\") return `${prefix}${basename}/mostplayed`;\r\n        else return `${prefix}${basename}/homescreen`;\r\n    };\r\n\r\n    const setRouteFunc = item => {\r\n        const route = getCorrespondingRoute(item);\r\n        if (item !== `Search`) hist.push(route);\r\n    };\r\n\r\n    const openProfile = e => {\r\n        setProfileOpen(true);\r\n    };\r\n\r\n    const call = async () => {\r\n        const res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: \"/whosthis\"\r\n        });\r\n        if (res) {\r\n            setUser(res);\r\n        }\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        initial();\r\n    }, [currentLocation.pathname, queueOpened]);\r\n\r\n    useEffect(() => {\r\n        call();\r\n    }, []);\r\n\r\n    return(\r\n        <div className=\"dummyleft\">\r\n            <div className=\"logopart\">\r\n                <img src={logo} alt=\"logo\" onClick={goToHome} title=\"StudioMusic\" />\r\n                <p onClick={goToHome} title=\"StudioMusic\">Studio</p>\r\n            </div>\r\n            <div className=\"middlepart\">\r\n                {\r\n                    searchConfig.open ?\r\n                    <TopSearchBar /> :\r\n                    // null :\r\n                    <div className=\"centermiddlepart\">\r\n                        {\r\n                            topList.map(each => {\r\n                                return(\r\n                                    <div className={ tabLocal === each ? \"tabs\" : \"lighttabs\" }\r\n                                    onClick={() => {\r\n                                        setFuncs(each, tabLocal);\r\n                                        setRouteFunc(each);\r\n                                    }}>\r\n                                        {each}\r\n                                    </div>\r\n                                ); \r\n                            })\r\n                        }\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div className=\"profilepart\">\r\n                <div className=\"picture-container\" onClick={openProfile}>\r\n                    <img className=\"center-picture-img\" src={user.picture} alt=\"\" title={user.name} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n\r\nconst MainPanel = () => {\r\n    const [isPlaying,] = useContext(PlayerContext);\r\n\r\n    return(\r\n        // <div className={ isPlaying ? \"mainpanel-with-player\" : \"mainpanel-without-player\" }>\r\n        <div className=\"mainpanel-without-player\">\r\n            <TopNav/>\r\n            <Mid/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MainPanel;","import \"../css/homestyles.css\";\r\nimport \"../css/hometeststyles.css\";\r\nimport \"../css/playerstyles.css\";\r\nimport \"../css/albumview.css\";\r\nimport MainPanel from \"./mainpanel\";\r\nimport React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// import Play from \"../assets/playwhite.png\";\r\nimport Play from \"../assets/playbutton-white.svg\";\r\n// import Pause from \"../assets/pausewhite.png\";\r\nimport Pause from \"../assets/pausebutton-white.svg\";\r\nimport Close from \"../assets/deletewhite.svg\";\r\nimport Placeholder from \"../assets/placeholder.svg\";\r\n// import repeat from \"../assets/repeat.png\";\r\nimport repeat from \"../assets/repeat-white.svg\";\r\n// import repeatOne from \"../assets/repeatone.png\";\r\nimport repeatOne from \"../assets/repeat-one-white.svg\";\r\n// import noRepeat from \"../assets/norepeat.png\";\r\nimport noRepeat from \"../assets/norepeat-disabled.svg\";\r\nimport shuffleoff from \"../assets/shuffle-disabled.svg\";\r\nimport shuffleon from \"../assets/shuffle-enabled.svg\";\r\n// import next from \"../assets/nexttrack.png\";\r\nimport next from \"../assets/nextbutton-white.svg\";\r\nimport next_trans from \"../assets/nextbutton-transparent.svg\";\r\n// import previous from \"../assets/previoustrack.png\";\r\nimport previous from \"../assets/previousbutton-white.svg\";\r\nimport previous_trans from \"../assets/previousbutton-transparent.svg\";\r\nimport queuewhite from \"../assets/queuewhite.png\";\r\nimport queueaquamarine from \"../assets/queueaquamarine.png\";\r\nimport fullscreenaquamarine from \"../assets/fullscreenaquamarine.svg\";\r\nimport fullscreenwhite from \"../assets/fullscreenwhite.svg\";\r\nimport innerfullaquamarine from \"../assets/innerfullaquamarine.svg\";\r\nimport innerfullwhite from \"../assets/innerfullwhite.svg\";\r\nimport upArrow from \"../assets/uparrow.svg\";\r\nimport downArrow from \"../assets/downarrow.svg\";\r\nimport Expand from \"../assets/expand-white.svg\";\r\nimport volumesvg from \"../assets/volume.svg\";\r\nimport Button from \"../Button\";\r\nimport {\r\n    CustomUseState,\r\n    playingGlobal,\r\n    albumGlobal,\r\n    convertTime,\r\n    wait,\r\n    queueGlobal,\r\n    queueOpenedGlobal,\r\n    songIsPausedGlobal,\r\n    repeatTypeGlobal,\r\n    radioGlobal,\r\n    openerGlobal,\r\n    homeClass,\r\n    responseBar,\r\n    searchBarGlobal,\r\n    topBarGlobal,\r\n    sendRequest,\r\n    Timer,\r\n    fullScreenGlobal,\r\n    miniPlayerGlobal,\r\n    usePrevious,\r\n    profileOpener,\r\n    lyricsGlobal,\r\n    lyricTextGlobal,\r\n    global,\r\n    skipSecs,\r\n    prefix,\r\n    basename\r\n} from \"../common\";\r\nimport {\r\n    PlayerContext,\r\n    QueueContext,\r\n    QueueOpenedContext,\r\n    AlbumContext,\r\n    MenuContext,\r\n    RepeatTypeContext,\r\n    SongIsPausedContext,\r\n    FullScreenContext,\r\n    LyricsContext,\r\n    LyricsTextContext,\r\n    RadioContext,\r\n    MiniPlayerContext,\r\n    ResponseBarContext,\r\n    ProfileContext,\r\n    KeyShortcutContext,\r\n    UserContext\r\n} from \"../index\";\r\nexport const audio = new Audio();\r\nconst shouldCache = false;\r\nlet mainVolume = 1;\r\nlet loaded = false;\r\nlet whichRepeat;\r\nlet ctrlKey = false, vKey = false;\r\nlet currentSongIndex = 0, isSongPlaying, actualQueue;\r\nlet volumerange, elapsedTime, duration, range, percent = 0, style, bufferPercent = 0;\r\nexport let pauseOrPlay;\r\nlet goToNext, goToPrevious;\r\nlet setVolume = 1, isBuffering, manuallyPausedLocal, songPausedLocal, timeout = null;\r\nlet trackingTimer, screenLocal, currentLyricIndex = null, lyricsLocal, lyricTextLocal, preLoadedLocal;\r\n\r\n\r\nconst changeColor = (percent,bufferPercent) => {\r\n    return `linear-gradient(to right, #066bff ${percent}%, #404040 ${percent}%, #404040 ${bufferPercent}%, #303030 0%)`;\r\n    // return `linear-gradient(to right, #2941ab ${percent}%, #404040 ${percent}%, #404040 ${bufferPercent}%, #303030 0%)`;\r\n    // return `linear-gradient(to right, #ffffff ${percent}%, #404040 ${percent}%, #404040 ${bufferPercent}%, #303030 0%)`;\r\n};\r\n\r\nconst changeColorVolume = (value) => {\r\n    // return `linear-gradient(to right, white ${value}%, rgba(255,255,255,0.1) 0%)`;\r\n    return `linear-gradient(to right, #808080 ${value}%, rgba(255,255,255,0.1) 0%)`;\r\n};\r\n\r\nconst fetchStream = async url => {\r\n    return fetch(url,{\r\n        method: \"GET\"\r\n    })\r\n    .then(res => {\r\n        const reader = res.body.getReader();\r\n        return reader.read().then(result => {\r\n            return result;\r\n        });\r\n    });\r\n};\r\n\r\nconst trial = async () => {\r\n    // const res = await fetch(\"https://scriptwaale.herokuapp.com/listen/Bekhayali\");\r\n    // const reader = res.body.getReader();\r\n    // while (true) {\r\n    //     const { value, done } = await reader.read();\r\n    //     console.log(\"value\",value);\r\n    //     const blob = new Blob(value);\r\n    //     audio.src = URL.createObjectURL(blob);\r\n    //     audio.play();\r\n    //     if (done) break;\r\n    // }\r\n    // console.log(\"Response done\");\r\n    async function fetchAudio() {\r\n        \r\n      }\r\n    fetchAudio()\r\n      .then((response) => {\r\n        var blob = new Blob([response.value], { type: 'audio/mp3' });\r\n        var url = window.URL.createObjectURL(blob)\r\n        const music = new Audio();\r\n        music.src = url;\r\n        // console.log(\"playing\");\r\n        music.play();\r\n      })\r\n      \r\n};\r\n\r\nconst Player = () => {\r\n    const [hovered, setHovered] = useState(false);\r\n    const [, setMuteOptions] = useState({ mute: false, lastlevel: null });\r\n    const [preLoaded, setPreLoaded] = useState(false);\r\n    const [song, setSong] = useContext(AlbumContext);\r\n    const [playerOn,setPlaying] = useContext(PlayerContext);\r\n    const [queue, setQueue] = useContext(QueueContext);\r\n    const [buffering, setBuffering] = useState(false);\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [manuallyPaused, setManuallyPaused] = useState(false);\r\n    // const [buttonshow, setButtonshow] = useState(false);\r\n    const [repeatType, setRepeatType] = useContext(RepeatTypeContext);\r\n    const [shuffle, setShuffle] = useState(false);\r\n    const [queueOpened, setQueueOpened] = useContext(QueueOpenedContext);\r\n    const [songPaused, setSongPaused] = useContext(SongIsPausedContext);\r\n    // const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [screen, setScreen] = useContext(FullScreenContext);\r\n    const [openerDetails, setOpenerDetails] = useContext(MenuContext);\r\n    const [resBar, setResBar] = useContext(ResponseBarContext);\r\n    const [lyrics,] = useContext(LyricsContext);\r\n    const [lyricText ,setLyricText] = useContext(LyricsTextContext);\r\n    const prevSong = usePrevious(song);\r\n    screenLocal = screen;\r\n    // topBar = topBarConfig;\r\n    const [isRadioOn, setRadioOn] = useContext(RadioContext);\r\n    const [update, setUpdate] = useState(true);\r\n    const hist = useHistory();\r\n    actualQueue = queue;\r\n    currentSongIndex = queue.findIndex(each => {\r\n        return each.id === song.id;\r\n    });\r\n    manuallyPausedLocal = manuallyPaused;\r\n    preLoadedLocal = preLoaded;\r\n    isSongPlaying = isPlaying;\r\n    isBuffering = buffering;\r\n    songPausedLocal = songPaused;\r\n    lyricsLocal = lyrics;\r\n    lyricTextLocal = lyricText;\r\n    let playerOnLocal = playerOn;\r\n\r\n\r\n    const changeRepeat = e => {\r\n        e.stopPropagation();\r\n        localStorage.setItem(\"repeatType\",repeatType+1 > 2 ? 0 : repeatType+1);\r\n        whichRepeat = repeatType+1 > 2 ? 0 : repeatType+1;\r\n        setRepeatType(prev => prev+1 > 2 ? 0 : prev+1);\r\n    };\r\n    pauseOrPlay = async e => {\r\n        e && e.stopPropagation && e.stopPropagation();\r\n        if (song.url === \"\") {\r\n            const index = actualQueue.indexOf(song);\r\n            song.url = song.backup;\r\n            delete song.backup;\r\n            setSong(song);\r\n            actualQueue[index] = song;\r\n            setQueue(actualQueue);\r\n            setUpdate(!update);\r\n            return;\r\n        }\r\n        if (isSongPlaying) {\r\n            // setSongPaused(true);\r\n            // setIsPlaying(false);\r\n            // mainVolume = audio.volume;\r\n            // const reduce = setInterval(() => {\r\n            //     audio.volume = audio.volume - 0.2 >= 0 ? audio.volume - 0.2 : audio.volume;\r\n            // },50);\r\n            // await wait(800);\r\n            // clearInterval(reduce);\r\n            setManuallyPaused(true);\r\n            audio.pause();\r\n        } else {\r\n            // setSongPaused(false);\r\n            // setIsPlaying(true);\r\n            setManuallyPaused(false);\r\n            audio.play();\r\n            // const increase = setInterval(() => {\r\n            //     audio.volume = audio.volume + 0.2 <= mainVolume ? audio.volume + 0.2 : mainVolume;\r\n            // },50);\r\n            // await wait(800);\r\n            // clearInterval(increase);\r\n        }\r\n    };\r\n    const openQueue = e => {\r\n        e && e.stopPropagation();\r\n        documentClick(e);\r\n        setQueueOpened(!queueOpened);\r\n        // if (!queueOpened) hist.push(`${prefix}${basename}/queue`);\r\n        // else hist.goBack();\r\n    };\r\n    goToNext = e => {\r\n        e && e.stopPropagation && e.stopPropagation();\r\n        localStorage.removeItem(\"time\");\r\n        localStorage.removeItem(\"duration\");\r\n        if (actualQueue.length === 1) {\r\n            audio.currentTime = 0;\r\n        } else {\r\n            const findNextIndex = () => {\r\n                let found = false;\r\n                let nowIndex = currentSongIndex;\r\n                let nextIndex;\r\n                while (!found) {\r\n                    nextIndex = nowIndex < actualQueue.length - 1 ? nowIndex + 1 : 0;\r\n                    const nextSong = actualQueue[nextIndex];\r\n                    if (Object.keys(nextSong).length < 2) {\r\n                        nowIndex = nextIndex;\r\n                    } else {\r\n                        found = true;\r\n                    }\r\n                }\r\n                return nextIndex;\r\n            };\r\n            // const nextIndex = currentSongIndex < actualQueue.length - 1 ? currentSongIndex + 1 : 0;\r\n            const nextIndex = findNextIndex();\r\n            setSong(actualQueue[nextIndex]);\r\n            currentSongIndex = nextIndex;\r\n        }\r\n        setSongPaused(true);\r\n    };\r\n    goToPrevious = e => {\r\n        e && e.stopPropagation && e.stopPropagation();\r\n        localStorage.removeItem(\"time\");\r\n        localStorage.removeItem(\"duration\");\r\n        setSongPaused(true);\r\n        if (actualQueue.length === 1 || audio.currentTime > 10) {\r\n            audio.currentTime = 0;\r\n            trackingTimer.stop();\r\n            trackingTimer = new Timer(30, addToRecentlyPlayed);\r\n            if (!trackingTimer.hasStarted() && !audio.paused) trackingTimer.start();\r\n        } else {\r\n            const findPreviousIndex = () => {\r\n                let found = false;\r\n                let nowIndex = currentSongIndex;\r\n                let previousIndex;\r\n                while (!found) {\r\n                    previousIndex = nowIndex === 0 ? actualQueue.length - 1 : nowIndex - 1;\r\n                    const previousSong = actualQueue[previousIndex];\r\n                    if (Object.keys(previousSong).length < 2) {\r\n                        nowIndex = previousIndex;\r\n                    } else {\r\n                        found = true;\r\n                    }\r\n                }\r\n                return previousIndex;\r\n            };\r\n            // const prevIndex = currentSongIndex === 0 ? actualQueue.length-1 : currentSongIndex - 1;\r\n            const prevIndex = findPreviousIndex();\r\n            setSong(actualQueue[prevIndex]);\r\n            currentSongIndex = prevIndex;\r\n        }\r\n    };\r\n    const shutdown = () => {\r\n        setPlaying(false);\r\n        audio.src = \"\";\r\n        setSong({});\r\n        localStorage.removeItem(\"queue\");\r\n        setQueue([]);\r\n        setRadioOn(false);\r\n        if (queueOpened) setQueueOpened(!queueOpened);\r\n    };\r\n    const randomize = (arr) => {\r\n        let i, len = arr.length, rand;\r\n        for (i=len-1; i>0; i--) {\r\n            rand = Math.floor(Math.random() * len);\r\n            [arr[i], arr[rand]] = [arr[rand], arr[i]];\r\n        }\r\n        arr.splice(0,0,song);\r\n        return arr;\r\n    };\r\n    const shuffleHandler = e => {\r\n        e.stopPropagation();\r\n        if (!shuffle && actualQueue.length > 3) {\r\n            const dummyQueue = actualQueue;\r\n            const index = dummyQueue.indexOf(song);\r\n            [dummyQueue[0], dummyQueue[index]] = [dummyQueue[index], dummyQueue[0]];\r\n            const shuffled = randomize(dummyQueue.slice(1,actualQueue.length));\r\n            localStorage.setItem(\"queue\",JSON.stringify(shuffled));\r\n            setQueue(shuffled);\r\n            // setShuffle(!shuffle);\r\n            setShuffle(true);\r\n            setTimeout(() => {\r\n                setShuffle(false);\r\n            },500);\r\n        }\r\n        // if (shuffle) {\r\n        //     setShuffle(!shuffle);\r\n        // }\r\n    };\r\n    const goToNextForMediaSession = () => {\r\n        localStorage.removeItem(\"time\");\r\n        localStorage.removeItem(\"duration\");\r\n        if (actualQueue.length === 1) {\r\n            audio.currentTime = 0;\r\n        } else {\r\n            const nextIndex = currentSongIndex < actualQueue.length - 1 ? currentSongIndex + 1 : 0;\r\n            setSong(actualQueue[nextIndex]);\r\n            currentSongIndex = nextIndex;\r\n        }\r\n        setSongPaused(true);\r\n    };\r\n    const goToPreviousForMediaSession = () => {\r\n        localStorage.removeItem(\"time\");\r\n        localStorage.removeItem(\"duration\");\r\n        setSongPaused(true);\r\n        if (actualQueue.length === 1 || audio.currentTime > 10) {\r\n            audio.currentTime = 0;\r\n            trackingTimer.stop();\r\n            trackingTimer = new Timer(30, addToRecentlyPlayed);\r\n            if (!trackingTimer.hasStarted()) trackingTimer.start();\r\n        } else {\r\n            const index = actualQueue.indexOf(song);\r\n            setSong(index === 0 ? actualQueue[actualQueue.length-1] : actualQueue[index-1]);\r\n        }\r\n    };\r\n\r\n\r\n    const volumeinput = e => {\r\n        e.stopPropagation();\r\n        volumerange.style.background = changeColorVolume(volumerange.value);\r\n        audio.volume = volumerange.value/100;\r\n        mainVolume = volumerange.value/100;\r\n        setVolume = volumerange.value/100;\r\n        setMuteOptions(prev => {\r\n            return { ...prev, mute: false, lastlevel: volumerange.value };\r\n        });\r\n    };\r\n    const volumechange = e => {\r\n        e && e.stopPropagation();\r\n        volumerange.style.background = changeColorVolume(volumerange.value);\r\n        audio.volume = volumerange.value/100;\r\n        mainVolume = volumerange.value/100;\r\n        setVolume = volumerange.value/100;\r\n        setMuteOptions(prev => {\r\n            return { ...prev, mute: false, lastlevel: volumerange.value };\r\n        });\r\n    };\r\n\r\n\r\n    const progressinput = (e) => {\r\n        range.focus();\r\n        elapsedTime.innerText = convertTime(range.value);\r\n        percent = range.value/range.max * 100;\r\n        range.style.background = changeColor(percent,bufferPercent);\r\n    };\r\n    const progresschange = (e) => {\r\n        audio.currentTime = range.value;\r\n        audio.volume = mainVolume;\r\n        range.blur();\r\n        percent = range.value/range.max * 100;\r\n        range.style.background = changeColor(percent,bufferPercent);\r\n    };\r\n\r\n\r\n    const metadata = (e) => {\r\n        loaded = true;\r\n        localStorage.setItem(\"duration\",audio.duration);\r\n        range.max = audio.duration;\r\n        duration.innerText = convertTime(audio.duration);\r\n        setBuffering(false);\r\n        setSongPaused(false);\r\n        setTimeout(() => {\r\n            audio.play();\r\n            if (!trackingTimer.hasStarted()) trackingTimer.start();\r\n        }, 500);\r\n        // const time = localStorage.getItem(\"time\");\r\n        // console.log(\"time\",time);\r\n        // if (time === null) {\r\n        //     audio.currentTime = 0;\r\n        // } else {\r\n        //     audio.currentTime = time;\r\n        //     console.log(\"setting time\");\r\n        // }\r\n    };\r\n    const waiting = (e) => {\r\n        setBuffering(true);\r\n        setSongPaused(true);\r\n        if (trackingTimer.canPause()) trackingTimer.pause();\r\n    };\r\n    const timeupdate = (e) => {\r\n        localStorage.setItem(\"time\", audio.currentTime);\r\n        elapsedTime.innerText = convertTime(audio.currentTime);\r\n\r\n        if (lyricsLocal.length > 0 && song.lyrics && song.sync) {\r\n            let found = false;\r\n            for (let i=0; i<lyricsLocal.length; i++) {\r\n                const each = lyricsLocal[i];\r\n                if (audio.currentTime < each.from) break;\r\n                if (audio.currentTime <= each.to) {\r\n                    found = true;\r\n                    if (currentLyricIndex !== i) {\r\n                        setLyricText(each);\r\n                        currentLyricIndex = i;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            if (Object.keys(lyricTextLocal).length > 0 && !found) setLyricText({});\r\n        }\r\n\r\n        if (range === document.activeElement) {\r\n            return;\r\n        }\r\n\r\n        range.value = audio.currentTime;\r\n        percent = range.value/range.max * 100;\r\n        let value;\r\n        try {\r\n            value = (audio.buffered && audio.buffered.end(audio.buffered.length - 1));\r\n        } catch(e) {\r\n            value = 0;\r\n        }\r\n        bufferPercent = (value/range.max) * 100;\r\n        range.style.background = changeColor(percent,bufferPercent);\r\n    };\r\n    const canplay = (e) => {\r\n        if (!manuallyPausedLocal) {\r\n            setBuffering(false);\r\n            setSongPaused(false);\r\n            if (trackingTimer.canContinue()) trackingTimer.continue();\r\n        }\r\n    };\r\n    const onplay = (e) => {\r\n        setIsPlaying(true);\r\n        setSongPaused(false);\r\n    };\r\n    const ended = (e) => {\r\n        range.value = 0;\r\n        elapsedTime.innerText = \"0: 00\";\r\n        trackingTimer.stop();\r\n        range.style.background = changeColor(0,0);\r\n        if (whichRepeat === 2) {\r\n            audio.currentTime = 0;\r\n            setTimeout(() => audio.play(), 300);\r\n            trackingTimer.stop();\r\n            trackingTimer = new Timer(30, addToRecentlyPlayed);\r\n            if (!trackingTimer.hasStarted()) trackingTimer.start();\r\n        } else if (whichRepeat === 0) {\r\n            setIsPlaying(false);\r\n            setSongPaused(true);\r\n        } else {\r\n            if (actualQueue.length === 1) {\r\n                audio.currentTime = 0;\r\n                setTimeout(() => audio.play(), 300);\r\n                trackingTimer.stop();\r\n                trackingTimer = new Timer(30, addToRecentlyPlayed);\r\n                if (!trackingTimer.hasStarted()) trackingTimer.start();\r\n            } else {\r\n                goToNext();\r\n            }\r\n        }\r\n    };\r\n    const onpaused = async (e) => {\r\n        setManuallyPaused(true);\r\n        setSongPaused(true);\r\n        setIsPlaying(false);\r\n        if (trackingTimer.canPause()) trackingTimer.pause();\r\n        document.title = \"StudioMusic\";\r\n        // ipcRenderer.send(\"paused\");\r\n        // await wait(1000);\r\n        // audio.volume = 0;\r\n    };\r\n    const onplaying = async (e) => {\r\n        setManuallyPaused(false);\r\n        setSongPaused(false);\r\n        setIsPlaying(true);\r\n        if (trackingTimer.canContinue()) trackingTimer.continue();\r\n        document.title = `${song.Title || song.Album} | StudioMusic`;\r\n        // ipcRenderer.send(\"playing\");\r\n        // await wait(1000);\r\n        // audio.volume = mainVolume;\r\n        // pauseOrPlay();\r\n    };\r\n\r\n    const forward = () => {\r\n        const duration = audio.duration;\r\n        const time = audio.currentTime;\r\n        if (time + skipSecs < duration) {\r\n            audio.currentTime = time + skipSecs;\r\n        }\r\n    };\r\n    const rewind = () => {\r\n        const time = audio.currentTime;\r\n        if (time - skipSecs > 0) {\r\n            audio.currentTime = time - skipSecs;\r\n        }\r\n    };\r\n    const onkeydown = (e) => {\r\n        if (e.keyCode === 17) ctrlKey = true;\r\n        if (e.keyCode === 86) vKey = true;\r\n\r\n        if (global.searchBarOpen) return;\r\n\r\n        if (e.keyCode === 32 && !isBuffering) {\r\n            e.preventDefault();\r\n            pauseOrPlay();\r\n        }\r\n\r\n        if (e.keyCode === 77) {\r\n            const val = parseFloat(volumerange.value);\r\n            setMuteOptions(prev => {\r\n                if (prev.mute) {\r\n                    const val = prev.lastlevel;\r\n                    volumerange.value = val;\r\n                    volumerange.style.background = changeColorVolume(volumerange.value);\r\n                    audio.volume = volumerange.value/100;\r\n                    mainVolume = volumerange.value/100;\r\n                    setVolume = volumerange.value/100;\r\n                    setResBar(pre => {\r\n                        return { ...pre, open: true, msg: `Volume: ${val}%` };\r\n                    });\r\n                    return { ...prev, mute: false };\r\n                } else {\r\n                    volumerange.value = 0;\r\n                    volumerange.style.background = changeColorVolume(volumerange.value);\r\n                    audio.volume = volumerange.value/100;\r\n                    mainVolume = volumerange.value/100;\r\n                    setVolume = volumerange.value/100;\r\n                    setResBar(pre => {\r\n                        return { ...pre, open: true, msg: `Volume: 0%` };\r\n                    });\r\n                    return { ...prev, mute: true, lastlevel: val };\r\n                }\r\n            });\r\n        }\r\n\r\n        if (e.keyCode === 78) {\r\n            e.preventDefault();\r\n            goToNext();\r\n        }\r\n\r\n        if (e.keyCode === 80) {\r\n            e.preventDefault();\r\n            goToPrevious();\r\n        }\r\n\r\n        if (e.keyCode === 39) {\r\n            e.preventDefault();\r\n            forward();\r\n        }\r\n\r\n        if (e.keyCode === 37) {\r\n            e.preventDefault();\r\n            rewind();\r\n        }\r\n\r\n        if (e.keyCode === 107 && vKey) {\r\n            const val = parseFloat(volumerange.value);\r\n            volumerange.value = val+5 > 100 ? 100 : val+5;\r\n            volumechange();\r\n            setResBar(prev => {\r\n                return { ...prev, open: true, msg: `Volume: ${Math.floor(volumerange.value)}%` };\r\n            });\r\n        }\r\n        \r\n        if (e.keyCode === 109 && vKey) {\r\n            const val = parseFloat(volumerange.value);\r\n            volumerange.value = val-5 < 0 ? 0 : val-5;\r\n            volumechange();\r\n            setResBar(prev => {\r\n                return { ...prev, open: true, msg: `Volume: ${Math.floor(volumerange.value)}%` };\r\n            });\r\n        }\r\n    };\r\n    const onkeyup = (e) => {\r\n        if (e.keyCode === 17) ctrlKey = false;\r\n        if (e.keyCode === 86) vKey = false;\r\n    };\r\n\r\n    const seek = e => {\r\n        if (e.action === \"seekforward\") {\r\n            forward();\r\n        } else if (e.action === \"seekbackward\") {\r\n            rewind();\r\n        } else if (e.action === \"seekto\") {}\r\n    };\r\n\r\n    const lessen = () => {\r\n        const split = song.Color.split(\",\");\r\n        split[3] = \"0.3)\";\r\n        return split.join(\",\");\r\n    };\r\n\r\n    const cacheNextSong = async () => {\r\n        if (actualQueue.length === 1) {\r\n            return;\r\n        }\r\n        const curIndex = actualQueue.findIndex(e => e.id === song.id);\r\n        const nextIndex = actualQueue.length-1 === curIndex ? 0 : curIndex+1;\r\n        const nextSong = actualQueue[nextIndex];\r\n\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: new Headers({\r\n                \"allowaccess\": \"a\"\r\n            })\r\n        };\r\n        const cache = await caches.open(\"song-data\");\r\n        const songdata = await cache.match(nextSong.url);\r\n        if (songdata) {\r\n            return;\r\n        }\r\n        cache.add(new Request(nextSong.url, options));\r\n    };\r\n\r\n    const addToRecentlyPlayed = () => {\r\n        sendRequest({\r\n            method: \"POST\",\r\n            endpoint: \"/addToRecentlyPlayed\",\r\n            data: {\r\n                albumId: song._albumId\r\n            }\r\n        });\r\n        if (shouldCache) {\r\n            cacheNextSong();\r\n        }\r\n    };\r\n\r\n    const screenSetting = () => {\r\n        if (playerOnLocal) {\r\n            setScreen({\r\n                ...screenLocal,\r\n                show: !screenLocal.show\r\n            });\r\n            // ipcRenderer.send(\"full\");\r\n        }\r\n    };\r\n\r\n    const documentClick = e => {\r\n        if (openerDetails.open) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    const calcColor = () => {\r\n        const split = song.Color.split(\",\");\r\n        split[3] = \"0.1)\";\r\n        return split.join(\",\");\r\n    };\r\n\r\n    useEffect(() => {\r\n        setPreLoaded(false);\r\n        currentLyricIndex = null;\r\n        setLyricText(\"\");\r\n        let shouldRemove = false;\r\n        (() => {\r\n            if (Object.keys(prevSong).length < 1) {\r\n                return;\r\n            }\r\n            if (prevSong.Type !== song.Type) {\r\n                shouldRemove = true;\r\n                return;\r\n            }\r\n            const titleExistsInCurrent = song.Title !== undefined;\r\n            const titleExistsInPrev = prevSong.Title !== undefined;\r\n            if (titleExistsInCurrent && titleExistsInPrev) {\r\n                if (prevSong.Title !== song.Title) {\r\n                    shouldRemove = true;\r\n                    return;\r\n                }\r\n            } else if (!titleExistsInCurrent && titleExistsInPrev) {\r\n                shouldRemove = true;\r\n                return;\r\n            } else if (titleExistsInCurrent && !titleExistsInPrev) {\r\n                shouldRemove = true;\r\n                return;\r\n            } else if (!titleExistsInCurrent && !titleExistsInPrev) {\r\n                if (prevSong.Album !== song.Album) {\r\n                    shouldRemove = true;\r\n                    return;\r\n                }\r\n            }\r\n        })();\r\n        if (shouldRemove) {\r\n            localStorage.removeItem(\"time\");\r\n            localStorage.removeItem(\"duration\");\r\n        }\r\n        if (Object.keys(song).length !== 0) {\r\n            trackingTimer = new Timer(20,addToRecentlyPlayed);\r\n            if (\"mediaSession\" in navigator) {\r\n                navigator.mediaSession.metadata = new window.MediaMetadata({\r\n                    title: song.Title || song.Album,\r\n                    artist: song.Artist,\r\n                    album: song.Album,\r\n                    artwork: [\r\n                        { src: song.Thumbnail }\r\n                    ]\r\n                });\r\n                navigator.mediaSession.setActionHandler(\"play\", pauseOrPlay);\r\n                navigator.mediaSession.setActionHandler(\"pause\", pauseOrPlay);\r\n                navigator.mediaSession.setActionHandler(\"previoustrack\", goToPrevious);\r\n                navigator.mediaSession.setActionHandler(\"nexttrack\", goToNext);\r\n                navigator.mediaSession.setActionHandler(\"seekbackward\", seek);\r\n                navigator.mediaSession.setActionHandler(\"seekforward\", seek);\r\n                navigator.mediaSession.setActionHandler(\"seekto\", seek);\r\n            }\r\n        }\r\n        return () => {\r\n            document.title = \"StudioMusic\";\r\n            if (trackingTimer) {\r\n                trackingTimer.stop();\r\n                trackingTimer = null;\r\n            }\r\n        };\r\n    },[song]);\r\n\r\n    useEffect(() => {\r\n        const setUp = async () => {\r\n            audio.volume = setVolume;\r\n            elapsedTime = document.querySelector(\".elapsedtime\");\r\n            duration = document.querySelector(\".progressduration\");\r\n            range = document.querySelector(\".range\");\r\n            volumerange = document.querySelector(\".volumerange\");\r\n            const rType = parseInt(localStorage.getItem(\"repeatType\"));\r\n            whichRepeat = 1;\r\n            if (rType) {\r\n                setRepeatType(rType);\r\n                whichRepeat = rType;\r\n            }\r\n\r\n            // if (prevSong.Album !== song.Album) {\r\n            //     localStorage.removeItem(\"time\");\r\n            //     localStorage.removeItem(\"duration\");\r\n            // }\r\n\r\n            document.addEventListener(\"keydown\",onkeydown);\r\n            document.addEventListener(\"keyup\",onkeyup);\r\n            // document.addEventListener(\"click\",documentClick);\r\n\r\n            volumerange.value = audio.volume * 100;\r\n            volumerange.style.background = changeColorVolume(volumerange.value);\r\n            volumerange.addEventListener(\"input\",volumeinput);\r\n            volumerange.addEventListener(\"change\",volumechange);\r\n            range && range.addEventListener(\"input\",progressinput);\r\n            range && range.addEventListener(\"change\",progresschange);\r\n\r\n            // setIsPlaying(true);\r\n            // percent = 0;\r\n            duration.innerText = \"0: 00\";\r\n            loaded = false;\r\n            if (Object.keys(song).length !== 0) {\r\n                let LINK;\r\n                if (shouldCache) {\r\n                    const cache = await caches.open(\"song-data\");\r\n                    const songdata = await cache.match(song.url);\r\n                    if (songdata) {\r\n                        const blob = await songdata.blob();\r\n                        LINK = URL.createObjectURL(blob);\r\n                    } else {\r\n                        LINK = song.url;\r\n                    }\r\n                } else {\r\n                    LINK = song.url;\r\n                }\r\n\r\n                audio.src = LINK;\r\n\r\n                // fetchStream(song.url).then(response => {\r\n                //     const blob = new Blob([response.value], { type: 'audio/mp3' });\r\n                //     const url = window.URL.createObjectURL(blob);\r\n                //     audio.src = url;\r\n                //     audio.play();\r\n                // })\r\n                // .catch((error) => {\r\n                //     console.log(\"error\",error.message);\r\n                // });\r\n            } else {\r\n                shutdown();\r\n            }\r\n\r\n            let oldDuration = undefined, oldTime = undefined;\r\n            if (song.url !== \"\") {\r\n                setIsPlaying(true);\r\n                setBuffering(true);\r\n                audio.addEventListener(\"loadedmetadata\",metadata);\r\n                audio.addEventListener(\"waiting\",waiting);\r\n                audio.addEventListener(\"timeupdate\",timeupdate);\r\n                audio.addEventListener(\"canplay\",canplay);\r\n                // audio.addEventListener(\"play\",onplay);\r\n                audio.addEventListener(\"ended\",ended);\r\n                audio.addEventListener(\"pause\",onpaused);\r\n                audio.addEventListener(\"playing\",onplaying);\r\n\r\n                localStorage.setItem(\"nowplaying\",JSON.stringify(song));\r\n                // oldDuration = localStorage.getItem(\"duration\");\r\n                // oldTime = localStorage.getItem(\"time\");\r\n                oldDuration = null;\r\n                oldTime = null;\r\n                if (oldDuration !== null && oldTime !== null) {\r\n                    audio.currentTime = oldTime;\r\n                    range.max = oldDuration;\r\n                    range.value = oldTime;\r\n                    percent = range.value/range.max * 100;\r\n                    range.style.background = changeColor(percent,0);\r\n                    duration.innerText = convertTime(oldDuration);\r\n                    elapsedTime.innerText = convertTime(oldTime);\r\n                }\r\n            } else {\r\n                setSongPaused(true);\r\n                oldDuration = localStorage.getItem(\"duration\");\r\n                oldTime = localStorage.getItem(\"time\");\r\n                range.max = oldDuration;\r\n                range.value = oldTime;\r\n                percent = range.value/range.max * 100;\r\n                range.style.background = changeColor(percent,0);\r\n                duration.innerText = convertTime(oldDuration);\r\n                elapsedTime.innerText = convertTime(oldTime);\r\n            }\r\n        };\r\n\r\n        setUp();\r\n\r\n        return () => {\r\n            if (song.url === \"\") {\r\n                const index = actualQueue.indexOf(song);\r\n                song.url = song.backup;\r\n                delete song.backup;\r\n                actualQueue[index] = song;\r\n                setQueue(actualQueue);\r\n            }\r\n            document.removeEventListener(\"keydown\",onkeydown);\r\n            document.removeEventListener(\"keyup\",onkeyup);\r\n            // document.removeEventListener(\"click\",documentClick);\r\n\r\n            volumerange.removeEventListener(\"input\",volumeinput);\r\n            volumerange.removeEventListener(\"change\",volumechange);\r\n            range && range.removeEventListener(\"input\",progressinput);\r\n            range && range.removeEventListener(\"change\",progresschange);\r\n\r\n            audio.removeEventListener(\"loadedmetadata\",metadata);\r\n            audio.removeEventListener(\"waiting\",waiting);\r\n            audio.removeEventListener(\"timeupdate\",timeupdate);\r\n            audio.removeEventListener(\"canplay\",canplay);\r\n            // audio.removeEventListener(\"play\",onplay);\r\n            audio.removeEventListener(\"ended\",ended);\r\n            audio.removeEventListener(\"pause\",onpaused);\r\n            audio.removeEventListener(\"playing\",onplaying);\r\n        };\r\n\r\n    },[song, update]);\r\n\r\n    return(\r\n        <div className=\"dummycover\">\r\n            <input type=\"range\" min=\"0\" defaultValue=\"0\" className=\"range\" disabled={buffering || song.url === \"\"} />\r\n            <div className=\"outerplayer\">\r\n                <div className=\"player\"\r\n                // style={{ backgroundColor: `${calcColor()}` }}\r\n                >\r\n                    <div className=\"innerplayer\" onClick={openQueue}\r\n                    onMouseOver={() => setHovered(true)}\r\n                    onMouseOut={() => setHovered(false)}>\r\n                        <div className=\"albumpart\">\r\n                            <div className=\"back\">\r\n                                <img src={previous} onClick={goToPrevious} alt=\"\" title=\"Previous Song / Rewind\" />\r\n                            </div>\r\n                            <div className=\"middle\">\r\n                                { Object.keys(song).length !== 0 ?\r\n                                    <>\r\n                                    {\r\n                                        buffering ? <div className=\"bufferloader\"></div> : \r\n                                        <img className=\"mainplayimg\" onClick={pauseOrPlay} src={ isSongPlaying ? Pause : Play } alt=\"\"\r\n                                        title={ isSongPlaying ? \"Pause\" : \"Play\" } />\r\n                                    }\r\n                                    </> :\r\n                                    <img className=\"mainplayimg\" src={Play} title=\"Play\" alt=\"\" />\r\n                                }\r\n                            </div>\r\n                            <div className=\"forward\">\r\n                                <img src={next} onClick={goToNext} alt=\"\" title=\"Next Song\" />\r\n                            </div>\r\n                            <div className=\"elapsedtime\">0: 00</div>\r\n                            <div className=\"durationdivider\">/</div>\r\n                            <div className=\"progressduration\">0: 00</div>\r\n                        </div>\r\n                        <div className=\"playerpart\">\r\n                            <div className=\"innerplayerpart\">\r\n                                { Object.keys(song).length !== 0 ?\r\n                                    <>\r\n                                    <div className=\"outer-album\">\r\n                                        <div className=\"albumthumbnail\" style={{ backgroundImage: `url(${Placeholder})`, backgroundSize: \"cover\" }}>\r\n                                            <img src={song.Thumbnail} alt=\"\" />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"songdetails\">\r\n                                        <div className=\"songtitle\">{song.Title || song.Album}</div>\r\n                                        <div className=\"songartists\">\r\n                                            {\r\n                                                song.Album.length > 30 ?\r\n                                                <>\r\n                                                <p>{`${song.Artist.slice(0,30)}...`}</p>\r\n                                                <div className=\"home-separator\"><div></div></div>\r\n                                                <p>{`${song.Album.slice(0,30)}...`}</p>\r\n                                                </>\r\n                                                :\r\n                                                song.Artist.length > 30 ?\r\n                                                <>\r\n                                                <p>{`${song.Artist.slice(0,30)}...`}</p>\r\n                                                <div className=\"home-separator\"><div></div></div>\r\n                                                <p>{`${song.Album}`}</p>\r\n                                                </>\r\n                                                :\r\n                                                <>\r\n                                                <p>{`${song.Artist}`}</p>\r\n                                                <div className=\"home-separator\"><div></div></div>\r\n                                                <p>{`${song.Album}`}</p>\r\n                                                </>\r\n                                            }\r\n                                            <div className=\"home-separator\"><div></div></div>\r\n                                            <p>{song.Duration}</p>\r\n                                            <div className=\"home-separator\"><div></div></div>\r\n                                            <p>{song.Year}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    </> : null\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"volumepart\">\r\n                            <div className=\"volumerocker\"\r\n                            style={{ opacity: `${ hovered ? \"1\" : \"0\" }` }}>\r\n                                <div className=\"volumeinput\">\r\n                                    <input type=\"range\" min=\"0\" max=\"100\" defaultValue=\"100\" className=\"volumerange\"\r\n                                    onClick={e => e.stopPropagation()}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"shuffle\">\r\n                                { !isRadioOn ? <img src={shuffle ? shuffleon : shuffleoff} alt=\"\" title=\"Shuffle\" onClick={shuffleHandler} /> : \"\" }\r\n                            </div>\r\n                            <div className=\"repeat\">\r\n                                <img src={\r\n                                    repeatType === 0 ? noRepeat :\r\n                                    repeatType === 1 ? repeat : repeatOne\r\n                                } alt=\"\" onClick={changeRepeat} title={\r\n                                    repeatType === 0 ? \"Repeat Off\" :\r\n                                    repeatType === 1 ? \"Repeat All\" : \"Repeat One\"\r\n                                } />\r\n                            </div>\r\n                            {\r\n                                screenLocal.show ? \"\" :\r\n                                <div className=\"queueopener\" onClick={openQueue}>\r\n                                    <img src={queueOpened ? downArrow : upArrow} alt=\"\" title=\"Player\" />\r\n                                </div>\r\n                            }\r\n                            {/* { Object.keys(song).length !== 0 ?\r\n                                <div className=\"destroyplayer\" onClick={shutdown}>\r\n                                    <img src={Close} alt=\"\" />\r\n                                </div> : \"\"\r\n                            } */}\r\n                            {/* <div className=\"fullscreenbutton\"\r\n                            onClick={screenSetting}\r\n                            onMouseOver={() => setButtonshow(true)}\r\n                            onMouseOut={() => setButtonshow(false)}\r\n                            >\r\n                                <img src={ screenLocal.show ? (buttonshow ? innerfullaquamarine : innerfullwhite) : \r\n                                    (buttonshow ? fullscreenaquamarine : fullscreenwhite) } alt=\"\" />\r\n                            </div> */}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst Opener = ({ openerDetails, setOpenerDetails }) => {\r\n    const opener = useRef(null);\r\n    const { xValue, yValue, data = [] } = openerDetails;\r\n    style = {\r\n        top: `${yValue}px`,\r\n        left: `${xValue}px`\r\n    };\r\n\r\n    const click = e => {\r\n        if (!((e.target === opener.current) || opener.current.contains(e.target))) {\r\n            setOpenerDetails(prev => {\r\n                return { ...prev, open: false };\r\n            });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        opener.current = document.querySelector(\".opener\");\r\n        document.addEventListener(\"click\",click);\r\n        return () => {\r\n            document.removeEventListener(\"click\",click);\r\n        };\r\n    }, []);\r\n\r\n    return(\r\n        <div className=\"opener\" style={style}>\r\n            { data.length !== 0 ?\r\n                data.map(menu => {\r\n                    return(\r\n                        <div className=\"rowinmenu\" onClick={menu.func}>\r\n                            <div className=\"rowtext\">{menu.name}</div>\r\n                        </div>\r\n                    );\r\n                })\r\n                : \"\"\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst FullScreen = () => {\r\n    const [song,] = useContext(AlbumContext);\r\n    const [songIsPaused, setSongIsPaused] = useContext(SongIsPausedContext);\r\n\r\n    const lessen = value => {\r\n        let color = song.Color.split(\",\");\r\n        color[3] = `${value}`;\r\n        color = color.join(\",\");\r\n        return color;\r\n    };\r\n\r\n    const handleClick = e => {};\r\n\r\n    useEffect(() => {\r\n        document.querySelector(\".full-display\").requestFullscreen();\r\n    }, []);\r\n    \r\n    return(\r\n        <div className=\"full-display\">\r\n            <div className=\"inner-full-display\" style={{ backgroundColor: lessen(0.2) }}>\r\n                <div className=\"imageholder\">\r\n                    <img src={song.Thumbnail} alt=\"\"/>\r\n                </div>\r\n                {/* <p className=\"display-title\">{song.Title || song.Album}</p> */}\r\n                <div className=\"controls-container\">\r\n                    <Button className=\"button-control\" onClick={goToPrevious}>\r\n                        <img src={previous} alt=\"\" title=\"Previous Song / Rewind\" />\r\n                    </Button>\r\n                    <Button className=\"button-control\" onClick={pauseOrPlay}>\r\n                        <img src={Pause} alt=\"\" title=\"Play / Pause\" />\r\n                    </Button>\r\n                    <Button className=\"button-control\" onClick={goToNext}>\r\n                        <img src={next} alt=\"\" title=\"Next Song\" />\r\n                    </Button>\r\n                </div>\r\n                <div className=\"bottombar\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst MiniPlayer = () => {\r\n    const [mini, setMini] = useContext(MiniPlayerContext);\r\n    const [song,] = useContext(AlbumContext);\r\n    const [queue,] = useContext(QueueContext);\r\n    const [songIsPaused,] = useContext(SongIsPausedContext);\r\n    const anim = useRef(null);\r\n    if (queue.length === 0 && mini) {\r\n        setMini(false);\r\n    }\r\n\r\n    const close = e => {\r\n        e.stopPropagation();\r\n        setMini(false);\r\n    };\r\n\r\n    const handleClick = e => {\r\n        e.stopPropagation();\r\n        pauseOrPlay();\r\n        anim.current.classList.remove(\"hidden\");\r\n        setTimeout(() => {\r\n            anim.current.classList.add(\"hidden\");\r\n        },500);\r\n    };\r\n\r\n    if (!mini) {\r\n        return null;\r\n    }\r\n    return (\r\n        <div className=\"miniplayer\" onClick={handleClick}\r\n        style={{ backgroundImage: `url(${Placeholder})`, backgroundSize: \"cover\" }}\r\n        >\r\n            <div style={{ position: \"relative\", width: \"100%\", height: \"100%\" }}>\r\n                <div className=\"minishadow\">\r\n                    <div className=\"close-view\" onClick={close}>\r\n                        <img src={Close} alt=\"\" />\r\n                    </div>\r\n                    <div className=\"playpause-anim hidden\" ref={anim}>\r\n                        <img src={ songIsPaused ? Play : Pause } alt=\"\" />\r\n                        <div></div>\r\n                    </div>\r\n                </div>\r\n                <img src={song.Thumbnail || \"\"} alt=\"\" />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ResponseBar = () => {\r\n    const [obj, setObj] = useContext(ResponseBarContext);\r\n    const [playing,] = useContext(PlayerContext);\r\n\r\n    const decideClass = () => {\r\n        if (playing) {\r\n            if (obj.open) return \"responsebar up\";\r\n            if (obj.open === false) return \"responsebar down\";\r\n            if (obj.open === \"\") return \"responsebar start\";\r\n        }\r\n        if (obj.open) return \"responsebar notplaying up\";\r\n        if (obj.open === false) return \"responsebar notplaying down\";\r\n        if (obj.open === \"\") return \"responsebar start\";\r\n    };\r\n\r\n    if (obj.open) {\r\n        if (timeout) clearTimeout(timeout);\r\n        timeout = setTimeout(() => {\r\n            setObj(prev => {\r\n                return { ...prev, open: false };\r\n            });\r\n        }, 1500);\r\n    }\r\n\r\n    return(\r\n        // <div className={ obj.open ? \"responsebar up\" : obj.open !== \"\" ? \"responsebar down\" : \"responsebar start\" }>\r\n        <div className={decideClass()}>\r\n            <div className=\"message\">{obj.msg}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ProfileOpener = ({ setProfileOpen }) => {\r\n    const [openKeyShort, setOpenKeyShort] = useContext(KeyShortcutContext);\r\n    const [user,] = useContext(UserContext);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const profileOpener = useRef(null);\r\n    window.isLoading = isLoading;\r\n\r\n    const openAccount = () => {\r\n        window.open(\"/account\", \"_blank\");\r\n        return true;\r\n    };\r\n\r\n    const signOut = async () => {\r\n        setIsLoading(true);\r\n        const res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: \"/sign-out\"\r\n        });\r\n        if (res.success) {\r\n            localStorage.clear();\r\n            window.location.href = \"/\";\r\n            return false;\r\n        } else {\r\n            localStorage.clear();\r\n            window.location.href = \"/login\";\r\n            return false;\r\n        }\r\n    };\r\n\r\n    const click = e => {\r\n        if (!(e.target === profileOpener.current || profileOpener.current.contains(e.target))) {\r\n            setProfileOpen(false);\r\n        }\r\n    };\r\n\r\n    const keyShort = () => {\r\n        if (!openKeyShort) {\r\n            setOpenKeyShort(true);\r\n        }\r\n        return true;\r\n    };\r\n\r\n    const data = [\r\n        // { name: \"Account\", func: openAccount },\r\n        // { name: \"History\", func: ()=>{ return false; } },\r\n        { name: \"Keyboard Shortcuts\", func: keyShort },\r\n        { name: \"Sign Out\", func: signOut, only: true }\r\n    ];\r\n\r\n    const handle = async (menu) => {\r\n        if (window.isLoading) {\r\n            return;\r\n        }\r\n        const hide = await menu.func();\r\n        if (hide) {\r\n            setProfileOpen(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        profileOpener.current = document.querySelector(\".profile-opener\");\r\n        document.addEventListener(\"click\", click);\r\n        return () => {\r\n            document.removeEventListener(\"click\",click);\r\n        };\r\n    }, []);\r\n\r\n    return(\r\n        <div className=\"profile-opener\">\r\n            <div className=\"account-section\">\r\n                <div className=\"account-picture\">\r\n                    <div className=\"center-picture\">\r\n                        <img src={user.picture} alt=\"\" className=\"dummy-class\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"account-name\">{user.name}</div>\r\n                <div className=\"account-email\">{user.email}</div>\r\n            </div>\r\n            <div className=\"time-section\">\r\n                <div className=\"time-container\">\r\n                    <p>Your access ends on</p>\r\n                    <p>{user.limit}</p>\r\n                </div>\r\n            </div>\r\n            { data.length !== 0 ?\r\n                data.map(menu => {\r\n                    return(\r\n                        <div className=\"rowinmenu\" onClick={() => handle(menu)}>\r\n                            { isLoading && menu.only ? \r\n                                <div className=\"small-loader\">\r\n                                    <div className=\"inner-small-loader\">\r\n                                        <div className=\"s-one\"></div>\r\n                                        <div className=\"s-two\"></div>\r\n                                        <div className=\"s-three\"></div>\r\n                                    </div>\r\n                                </div>\r\n                                : <div className=\"rowtext\">{menu.name}</div> }\r\n                        </div>\r\n                    );\r\n                })\r\n                : \"\"\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst KeyboardShortcut = ({ setOpenKeyShort }) => {\r\n    const okButton = useRef(null);\r\n\r\n    const close = e => {\r\n        setOpenKeyShort(false);\r\n    };\r\n\r\n    const data = [\r\n        { name: \"Play/Pause\", keys: [\"Space\"] },\r\n        { name: `Forward ${skipSecs} secs`, keys: [\"->\"] },\r\n        { name: `Rewind ${skipSecs} secs`, keys: [\"<-\"] },\r\n        { name: \"Previous song\", keys: [\"P\"] },\r\n        { name: \"Next song\", keys: [\"N\"] },\r\n        { name: \"Volume Up\", keys: [\"V\",\"+\"] },\r\n        { name: \"Volume Down\", keys: [\"V\",\"-\"] },\r\n        { name: \"Mute/Unmute\", keys: [\"M\"] }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        okButton.current = document.querySelector(\".bottom-button\");\r\n        okButton.current && okButton.current.focus();\r\n    }, []);\r\n\r\n    return(\r\n        <div className=\"keyboard-container\">\r\n            <div className=\"keyboard\">\r\n                <div className=\"keyboard-title\">Keyboard Shortcuts</div>\r\n                <div className=\"shortcuts\">\r\n                    <div className=\"shortcuts-grid\">\r\n                        {\r\n                            data.map(each => {\r\n                                return(\r\n                                    <div className=\"each-shortcut\">\r\n                                        <div className=\"shortcut-name\">{each.name}</div>\r\n                                        <div className=\"shortcut-keys\">\r\n                                            {\r\n                                                each.keys.map(key => {\r\n                                                    return(\r\n                                                        <div className=\"key\">{key}</div>\r\n                                                    );\r\n                                                })\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                );\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"shortcuts-bottom\">\r\n                    <button className=\"bottom-button\" onClick={close}>OK</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Home = () => {\r\n    const [playing,] = useContext(PlayerContext);\r\n    const [profileOpen, setProfileOpen] = useContext(ProfileContext);\r\n    const [openerDetails, setOpenerDetails] = useContext(MenuContext);\r\n    const [openKeyShort, setOpenKeyShort] = useContext(KeyShortcutContext);\r\n    // const [name,] = CustomUseState(homeClass);\r\n    const [screen,] = useContext(FullScreenContext);\r\n\r\n    return(\r\n        <div className=\"homemain\">\r\n            { openKeyShort ? <KeyboardShortcut setOpenKeyShort={setOpenKeyShort} /> : null }\r\n            { openerDetails.open ? <Opener openerDetails={openerDetails} setOpenerDetails={setOpenerDetails} /> : null }\r\n            { profileOpen ? <ProfileOpener setProfileOpen={setProfileOpen} /> : null }\r\n            <MiniPlayer/>\r\n            <ResponseBar/>\r\n            { screen.show ? <FullScreen/> : null }\r\n            <MainPanel/>\r\n            { playing ? <Player/> : null }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;","import React, { useEffect, useContext } from \"react\";\r\nimport Opening from \"./opening\";\r\nimport Home from \"./homepage\";\r\nimport {\r\n    keepServersActive,\r\n    fullScreenGlobal,\r\n    playingGlobal,\r\n    CustomUseState,\r\n    queueOpenedGlobal,\r\n    openerGlobal,\r\n    prefix,\r\n    basename,\r\n    httpCheck,\r\n    global\r\n} from \"./common\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport {\r\n    FullScreenContext,\r\n    QueueOpenedContext,\r\n    MenuContext,\r\n    PlayerContext,\r\n    AlbumContext\r\n} from \"./index\";\r\nlet queueOpenedLocal, intervalTimeout = null, playingLocal, screenLocal;\r\n\r\n\r\nconst App = () => {\r\n    httpCheck();\r\n    const [screen, setScreen] = useContext(FullScreenContext);\r\n    const [queueOpened, setQueueOpened] = useContext(QueueOpenedContext);\r\n    const [openerDetails, setOpenerDetails] = useContext(MenuContext);\r\n    const [playing,] = useContext(PlayerContext);\r\n    screenLocal = screen;\r\n    playingLocal = playing;\r\n    queueOpenedLocal = queueOpened;\r\n\r\n    if (intervalTimeout === null) {\r\n        intervalTimeout = setInterval(() => {\r\n            keepServersActive();\r\n        }, 3*60*1000);\r\n    }\r\n\r\n    const screenSet = () => {\r\n        setScreen({ ...screen, show: !screen.show });\r\n    };\r\n\r\n    function keyDown(e) {\r\n        // if (e.keyCode === 122 || e.keyCode === 27) {\r\n        //     e.preventDefault();\r\n        // }\r\n        if (e.keyCode === 70 && !global.searchBarOpen) {\r\n            e.preventDefault();\r\n            if (playingLocal) {\r\n                // screenSet();\r\n            }\r\n        }\r\n    }\r\n\r\n    function check(e) {\r\n        if (queueOpenedLocal) {\r\n            setQueueOpened(false);\r\n        }\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n    }\r\n\r\n    function unload(e) {\r\n        if (playingLocal) {\r\n            e.preventDefault();\r\n            e.returnValue = \"\";\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"keydown\",keyDown);\r\n        window.addEventListener(\"popstate\",check);\r\n        window.addEventListener(\"beforeunload\",unload);\r\n        return () => {\r\n            document.removeEventListener(\"keydown\",keyDown);\r\n            window.removeEventListener(\"popstate\",check);\r\n        }\r\n    },[]);\r\n\r\n    return(\r\n        <Router>\r\n            <Route exact path={ prefix === \"\" ? \"/\" : prefix } component={Opening} />\r\n            <Route path={`${prefix}${basename}`} component={Home} />\r\n        </Router>\r\n    )\r\n};\r\n\r\nexport default App;","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n// import \"../css/openingstyles.css\";\r\nimport \"../css/opening2styles.css\";\r\n// import \"../css/loginstyles.css\";\r\n// import \"../css/signupstyles.css\";\r\n// import logo2 from \"../assets/colouredlogo.svg\";\r\n// import logo2 from \"../assets/aquamarinelogo.svg\";\r\n// import logo2 from \"../assets/bluelogo.svg\";\r\n// import logo2 from \"../assets/latest-whiteblack.svg\";\r\n// import logo2 from \"../assets/latest-bluewhite.svg\";\r\nimport logo2 from \"../assets/latest-bluetransparent.svg\";\r\nimport logo from \"../assets/blackandwhitelogo.svg\";\r\nimport {\r\n    wait,\r\n    CustomUseState,\r\n    homeClass,\r\n    tabGlobal,\r\n    playingGlobal,\r\n    albumGlobal,\r\n    queueGlobal,\r\n    sendRequest,\r\n    // keepButtonGlobal\r\n    topBarGlobal,\r\n    prefix,\r\n    basename\r\n} from \"../common\";\r\nimport {\r\n    PlayerContext,\r\n    AlbumContext,\r\n    QueueContext\r\n} from \"../index\";\r\nlet topBar, setup;\r\n\r\n\r\nconst Error = ({ msg }) => {\r\n    return(\r\n        <div className=\"errordiv\">\r\n            <p>Error: {msg}</p>\r\n        </div>\r\n    );\r\n};\r\n\r\n// const Login = ({ shiftPage, setRedirectValue, setMainClass }) => {\r\n//     const [compClass, setCompClass] = useState(\"loginmain-fadein\");\r\n//     const [type, setType] = useState(\"password\");\r\n//     const [checkClass, setCheckClass] = useState(\"checkbox-start\");\r\n//     const [smallBallClass, setSmallBallClass] = useState(\"smallball-password\");\r\n//     const [loginErr, setLoginErr] = useState(false);\r\n//     const [isLoading, setIsLoading] = useState(\"Log In\");\r\n//     const [errMsg, setErrMsg] = useState(\"\");\r\n//     const emailRef = useRef();\r\n//     const passwordRef = useRef();\r\n\r\n//     const change = () => {\r\n//         if(type === \"text\") {\r\n//             setType(\"password\");\r\n//             setSmallBallClass(\"smallball-password\");\r\n//         } else {\r\n//             setType(\"text\");\r\n//             setSmallBallClass(\"smallball-text\");\r\n//         }\r\n//     };\r\n\r\n//     const checkbox = () => {\r\n//         if(checkClass === \"checkbox-start\") setCheckClass(\"checkbox-end\");\r\n//         else setCheckClass(\"checkbox-start\");\r\n//     };\r\n\r\n//     const submit = async () => {\r\n//         if(emailRef.current.value == \"\") {\r\n//             setErrMsg(\"Can't leave email empty\");\r\n//             setLoginErr(true);\r\n//         } else if (passwordRef.current.value == \"\") {\r\n//             setErrMsg(\"Can't leave password empty\");\r\n//             setLoginErr(true);\r\n//         } else {\r\n//             setIsLoading(\"Loading\");\r\n//             const res = await axios({\r\n//                 method: \"POST\",\r\n//                 url: `${baseLink}/login`,\r\n//                 data: {\r\n//                     em: emailRef.current.value,\r\n//                     pass: passwordRef.current.value\r\n//                 }\r\n//             });\r\n//             setIsLoading(\"Log In\");\r\n//             if (res.data.status === \"allowed\") {\r\n//                 if (checkClass === \"checkbox-end\") {\r\n//                     localStorage.setItem(\"email\",emailRef.current.value)\r\n//                     localStorage.setItem(\"password\",passwordRef.current.value)\r\n//                 }\r\n//                 setMainClass(\"main-end\");\r\n//                 setTimeout(() => {\r\n//                     setRedirectValue(true);\r\n//                 },1000);\r\n//             } else {\r\n//                 setErrMsg(\"Invalid credentials\");\r\n//                 setLoginErr(true);\r\n//             }\r\n//         }\r\n//     };\r\n\r\n//     const changePage = () => {\r\n//         setCompClass(\"loginmain-fadeout\");\r\n//         setTimeout(() => {\r\n//             shiftPage(false);\r\n//         },500);\r\n//     };\r\n\r\n//     const remError = () => {\r\n//         if(loginErr) {\r\n//             setTimeout(() => {\r\n//                 setLoginErr(false);\r\n//             },3000);\r\n//         }\r\n//     };\r\n//     remError();\r\n\r\n//     useEffect(() => {\r\n//         const email = localStorage.getItem(\"email\");\r\n//         const password = localStorage.getItem(\"password\");\r\n//         if (email != null && password != null) {\r\n//             emailRef.current.value = email;\r\n//             passwordRef.current.value = password;\r\n//             setCheckClass(\"checkbox-end\");\r\n//         }\r\n//     },[]);\r\n\r\n//     return(\r\n//         <div className={compClass}>\r\n//             <div className=\"logintitle\">\r\n//                 <p>Log in to continue.</p>\r\n//             </div>\r\n//             { loginErr ? <Error msg={errMsg}/> : <div className=\"empty\"></div> \r\n//             }\r\n//             <div className=\"email\">\r\n//                 <input type=\"email\" placeholder=\"Email\" spellCheck=\"false\" ref={emailRef} />\r\n//             </div>\r\n//             <div className=\"password\">\r\n//                 <div className=\"join\">\r\n//                     <input type={type} placeholder=\"Password\" spellCheck=\"false\" ref={passwordRef} />\r\n//                     <div className=\"viewdiv\" onClick={change}>\r\n//                         <div className={smallBallClass}></div>\r\n//                     </div>\r\n//                 </div>\r\n//             </div>\r\n//             <div className=\"remember\">\r\n//                 <p>Remember Me?</p>\r\n//                 <div className={checkClass} onClick={checkbox}>\r\n//                     <div className=\"ball\"></div>\r\n//                 </div>\r\n//             </div>\r\n//             <div className=\"login\">\r\n//                 <button onClick={submit}>{isLoading}</button>\r\n//             </div>\r\n//             <div className=\"gotosignup\">\r\n//                 <p>Not on Studio?</p>\r\n//                 <p onClick={changePage}>Sign Up</p>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// const SignUp = ({ shiftPage }) => {\r\n//     const [compClass, setCompClass] = useState(\"signupmain-fadein\");\r\n//     const [loginErr, setLoginErr] = useState(false);\r\n//     const [type, setType] = useState(\"password\");\r\n//     const [smallBallClass, setSmallBallClass] = useState(\"smallball-password\");\r\n//     const [errMsg, setErrMsg] = useState(\"\");\r\n//     const emailRef = useRef();\r\n//     const passwordRef = useRef();\r\n//     const nameRef = useRef();\r\n//     const [isLoading, setIsLoading] = useState(\"Continue\");\r\n\r\n//     const change = () => {\r\n//         if(type === \"text\") {\r\n//             setType(\"password\");\r\n//             setSmallBallClass(\"smallball-password\");\r\n//         } else {\r\n//             setType(\"text\");\r\n//             setSmallBallClass(\"smallball-text\");\r\n//         }\r\n//     };\r\n\r\n//     const submit = async () => {\r\n//         if(emailRef.current.value === \"\") {\r\n//             setErrMsg(\"Can't leave email empty\");\r\n//             setLoginErr(true);\r\n//         } else if (passwordRef.current.value === \"\") {\r\n//             setErrMsg(\"Can't leave password empty\");\r\n//             setLoginErr(true);\r\n//         } else if (nameRef.current.value === \"\") {\r\n//             setErrMsg(\"Can't leave username empty\");\r\n//             setLoginErr(true);\r\n//         } else {\r\n//             setIsLoading(\"Loading\");\r\n//             const res = await axios({\r\n//                 method: \"POST\",\r\n//                 url: `${baseLink}/signup`,\r\n//                 data: {\r\n//                     em: emailRef.current.value,\r\n//                     pass: passwordRef.current.value,\r\n//                     name: nameRef.current.value\r\n//                 }\r\n//             });\r\n//             setIsLoading(\"Continue\");\r\n//             if (res.data.status === \"registered\") {\r\n//                 changePage();\r\n//             } else {\r\n//                 setErrMsg(\"Email already exists\");\r\n//                 setLoginErr(true);\r\n//             }\r\n//         }\r\n//     };\r\n\r\n//     const changePage = () => {\r\n//         setCompClass(\"signupmain-fadeout\");\r\n//         setTimeout(() => {\r\n//             shiftPage(true);\r\n//         },500);\r\n//     };\r\n\r\n//     const remError = () => {\r\n//         if(loginErr) {\r\n//             setTimeout(() => {\r\n//                 setLoginErr(false);\r\n//             },3000);\r\n//         }\r\n//     };\r\n//     remError();\r\n\r\n//     return(\r\n//         <div className={compClass}>\r\n//             <div className=\"title\">\r\n//                 <p>Sign up for free.</p>\r\n//             </div>\r\n//             { loginErr ? <Error msg={errMsg}/> : <div className=\"empty\"></div> \r\n//             }\r\n//             <div className=\"email\">\r\n//                 <input type=\"email\" placeholder=\"Email\" spellCheck=\"false\" ref={emailRef} />\r\n//             </div>\r\n//             <div className=\"password\">\r\n//                 <div className=\"join\">\r\n//                     <input type={type} placeholder=\"Password\" spellCheck=\"false\" ref={passwordRef} />\r\n//                     <div className=\"viewdiv\" onClick={change}>\r\n//                         <div className={smallBallClass}></div>\r\n//                     </div>\r\n//                 </div>\r\n//             </div>\r\n//             <div className=\"username\">\r\n//                 <input type=\"text\" placeholder=\"What do we call you?\" spellCheck=\"false\" ref={nameRef} />\r\n//             </div>\r\n//             <div className=\"signup\">\r\n//                 <button onClick={submit}>{isLoading}</button>\r\n//             </div>\r\n//             <div className=\"gotologin\">\r\n//                 <p>Already on Studio?</p>\r\n//                 <p onClick={changePage}>Log In</p>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// const Opening = () => {\r\n//     const [logoClass, setLogoClass] = useState(\"logo-start\");\r\n//     const [barClass, setBarClass] = useState(\"bar-initial\");\r\n//     const [mainClass, setMainClass] = useState(\"main-start\");\r\n//     const [redirectValue, setRedirectValue] = useState(false);\r\n//     const [logInScreen, setLogInScreen] = useState(true);\r\n\r\n//     const firstCheck = async () => {\r\n//         await setTimeout(async () => {\r\n//             // let res = { data: { status: \"\" } };\r\n//             let res;\r\n//             res = await axios({\r\n//                 method: \"GET\",\r\n//                 url: `${baseLink}/activateCheck`\r\n//             });\r\n//             // res.data.status = \"active\";\r\n//             if (res.data.status === \"active\") {\r\n//                 const token = localStorage.getItem(\"access\");\r\n//                 if (token === \"allowed\") {\r\n//                     setMainClass(\"main-end\");\r\n//                     setTimeout(() => {\r\n//                         setRedirectValue(true);\r\n//                     },1000);\r\n//                 } else {\r\n//                     setLogoClass(\"logo-mid\");\r\n//                     setBarClass(\"bar-start\");\r\n//                 }\r\n//             }\r\n//         },2000);\r\n//     };\r\n\r\n//     useEffect(() => {\r\n//         firstCheck();\r\n//     },[]);\r\n\r\n//     if(redirectValue) {\r\n//         return ( <Redirect to=\"/home/homescreen\" /> );\r\n//     }\r\n//     return(\r\n//         <div className={mainClass}>\r\n//             <div className={logoClass}>\r\n//                 <div className=\"left\">\r\n//                     <img className=\"logoimg\" src={logo} alt=\"logo\"/>\r\n//                 </div>\r\n//                 <div className=\"right\">\r\n//                     <p>Studio</p>\r\n//                 </div>\r\n//             </div>\r\n//             <div className={barClass}>\r\n//                 <div className=\"logincontainer\">\r\n//                     { logInScreen ? \r\n//                         <Login \r\n//                             shiftPage={setLogInScreen}\r\n//                             setRedirectValue={setRedirectValue}\r\n//                             setMainClass={setMainClass}\r\n//                         /> : \r\n//                         <SignUp \r\n//                             shiftPage={setLogInScreen}\r\n//                         /> }\r\n//                 </div>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// };\r\n\r\nconst Login2 = ({ setGoToLogin, setGoToSignUp, setMainClass, setRedirectValue }) => {\r\n    const [loginClass, setLoginClass] = useState(\"loginscreen-in\");\r\n    const [smallBallClass, setSmallBallClass] = useState(\"ball-password\");\r\n    const [type, setType] = useState(\"password\");\r\n    const [isError, setIsError] = useState(false);\r\n    const [button, setButton] = useState(\"Log In\");\r\n    const [loginButton, setLoginButton] = useState(\"loginbutton\");\r\n    const [link, setLink] = useState(\"gotosignup\");\r\n    const [msg, setMsg] = useState(\"\");\r\n    const [checkClass, setCheckClass] = useState(\"checkbox-start\");\r\n    const [,setClass] = CustomUseState(homeClass);\r\n    const [tab, setTab] = CustomUseState(tabGlobal);\r\n    // const [,setKeepButton] = CustomUseState(keepButtonGlobal);\r\n    const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    topBar = topBarConfig;\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n\r\n    const fillIn = () => {\r\n        const text = localStorage.getItem(\"email\");\r\n        const pwd = localStorage.getItem(\"password\");\r\n        if (text !== null && pwd !== null) {\r\n            emailRef.current.value = text;\r\n            passwordRef.current.value = pwd;\r\n            setCheckClass(\"checkbox-end\");\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fillIn();\r\n    },[]);\r\n\r\n    const change = async () => {\r\n        setLoginClass(\"loginscreen-out\");\r\n        await wait(100);\r\n        setGoToLogin(false);\r\n        setGoToSignUp(true);\r\n    };\r\n\r\n    const goToMain = async () => {\r\n        // await setup();\r\n        setClass(\"homemain start\");\r\n        setMainClass(\"mainwindow-end\");\r\n        if (tab !== \"Home\") setTab(\"Home\");\r\n        setTopBarConfig({\r\n            ...topBar,\r\n            button: false,\r\n            buttonFunc: () => {},\r\n            title: \"\",\r\n            bgColor: \"transparent\"\r\n        });\r\n        // setKeepButton(false);\r\n        await wait(500);\r\n        setRedirectValue(true);\r\n    };\r\n\r\n    const shift = () => {\r\n        if (type === \"password\") {\r\n            setType(\"text\");\r\n            setSmallBallClass(\"ball-text\");\r\n        } else {\r\n            setType(\"password\");\r\n            setSmallBallClass(\"ball-password\");\r\n        }\r\n    };\r\n\r\n    const checkbox = () => {\r\n        setCheckClass( checkClass === \"checkbox-start\" ?\r\n            \"checkbox-end\" : \"checkbox-start\" );\r\n    };\r\n\r\n    const submit = async () => {\r\n        if (emailRef.current.value === \"\") {\r\n            setIsError(true);\r\n            setMsg(\"Cannot leave email empty!\")\r\n            return;\r\n        }\r\n        if (passwordRef.current.value === \"\") {\r\n            setIsError(true);\r\n            setMsg(\"Cannot leave password empty!\");\r\n            return;\r\n        }\r\n        setButton(\"Logging you in....\");\r\n        setLoginButton(\"loginbutton-loading\");\r\n        setLink(\"gotosignup-loading\");\r\n        let res = await sendRequest({\r\n            method: \"POST\",\r\n            endpoint: \"/login\",\r\n            data: {\r\n                text: emailRef.current.value,\r\n                password: passwordRef.current.value\r\n            }\r\n        });\r\n        if (res.status === \"loggedin\") {\r\n            localStorage.setItem(\"token\",res.status);\r\n            localStorage.setItem(\"username\",res.username);\r\n            localStorage.setItem(\"userId\",res.userId);\r\n            if (checkClass === \"checkbox-end\") {\r\n                localStorage.setItem(\"email\",emailRef.current.value);\r\n                localStorage.setItem(\"password\",passwordRef.current.value);\r\n            }\r\n            goToMain();\r\n        } else {\r\n            setIsError(true);\r\n            setMsg(res.error);\r\n            setButton(\"Log In\");\r\n            setLoginButton(\"loginbutton\");\r\n            setLink(\"gotosignup\");\r\n        }\r\n    };\r\n\r\n    const remError = () => {\r\n        if (isError) {\r\n            setTimeout(() => {\r\n                setIsError(false);\r\n            },3000);\r\n        }\r\n    };\r\n    remError();\r\n\r\n    return(\r\n        <div className={loginClass}>\r\n            <div className=\"logocontainer\">\r\n                <div className=\"leftlogo\">\r\n                    <img src={logo} alt=\"Studio\" />\r\n                </div>\r\n                <div className=\"rightlogo\">\r\n                    <p>Studio</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"title\">\r\n                <p>Log in to continue.</p>\r\n            </div>\r\n            <div className=\"inputfields\">\r\n                {\r\n                    isError ? <Error msg={msg}/> : <div className=\"errordivreplacement\">\r\n                    </div>\r\n                }\r\n                <div className=\"email\">\r\n                    <input type=\"text\" name=\"email\" placeholder=\"Email / Username\" spellCheck=\"false\" ref={emailRef}/>\r\n                </div>\r\n                <div className=\"password\">\r\n                    <input type={type} name=\"password\" placeholder=\"Password\" ref={passwordRef}/>\r\n                    <div className=\"viewer\">\r\n                        <div className={smallBallClass} onClick={shift}></div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"remember\">\r\n                    <p>Remember Me?</p>\r\n                    <div className={checkClass} onClick={checkbox}>\r\n                        <div className=\"ball\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={loginButton}>\r\n                <button onClick={submit}>{button}</button>\r\n            </div>\r\n            <div className={link}>\r\n                <p>Not on Studio?</p><p onClick={change}>Sign Up</p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst SignUp2 = ({ setGoToLogin, setGoToSignUp }) => {\r\n    const [signUpClass, setSignUpClass] = useState(\"signupscreen-in\");\r\n    const [isError, setIsError] = useState(false);\r\n    const [button, setButton] = useState(\"Sign Up\");\r\n    const [signUpButton, setSignUpButton] = useState(\"signupbutton\");\r\n    const [link, setLink] = useState(\"gotologin\");\r\n    const [msg, setMsg] = useState(\"\");\r\n    const [type, setType] = useState(\"password\");\r\n    const [smallBallClass, setSmallBallClass] = useState(\"ball-password\");\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n    const usernameRef = useRef();\r\n\r\n    const change = async () => {\r\n        setSignUpClass(\"signupscreen-out\");\r\n        await wait(100);\r\n        setGoToSignUp(false);\r\n        setGoToLogin(true);\r\n    };\r\n\r\n    const shift = () => {\r\n        if (type === \"password\") {\r\n            setType(\"text\");\r\n            setSmallBallClass(\"ball-text\");\r\n        } else {\r\n            setType(\"password\");\r\n            setSmallBallClass(\"ball-password\");\r\n        }\r\n    };\r\n\r\n    const submit = async () => {\r\n        if (usernameRef.current.value === \"\") {\r\n            setIsError(true);\r\n            setMsg(\"Cannot leave username empty!\")\r\n            return;\r\n        }\r\n        if (emailRef.current.value === \"\") {\r\n            setIsError(true);\r\n            setMsg(\"Cannot leave email empty!\")\r\n            return;\r\n        }\r\n        const pattern = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/;\r\n        if (!pattern.test(emailRef.current.value)) {\r\n            setIsError(true);\r\n            setMsg(\"Invalid email!\");\r\n            return;\r\n        }\r\n        if (passwordRef.current.value === \"\") {\r\n            setIsError(true);\r\n            setMsg(\"Cannot leave password empty!\");\r\n            return;\r\n        }\r\n        setButton(\"Signing you up....\");\r\n        setSignUpButton(\"signupbutton-loading\");\r\n        setLink(\"gotologin-loading\");\r\n        let res = await sendRequest({\r\n            method: \"POST\",\r\n            endpoint: `/signup`,\r\n            data: {\r\n                username: usernameRef.current.value,\r\n                email: emailRef.current.value,\r\n                password: passwordRef.current.value\r\n            }\r\n        });\r\n        if (res.status === \"registered\") {\r\n            change();\r\n        } else {\r\n            setIsError(true);\r\n            setMsg(res.error);\r\n            setButton(\"Sign Up\");\r\n            setSignUpButton(\"signupbutton\");\r\n            setLink(\"gotologin\");\r\n        }\r\n    };\r\n\r\n    const remError = () => {\r\n        if (isError) {\r\n            setTimeout(() => {\r\n                setIsError(false);\r\n            },3000);\r\n        }\r\n    };\r\n    remError();\r\n\r\n    return(\r\n        <div className={signUpClass}>\r\n            <div className=\"logocontainer\">\r\n                <div className=\"leftlogo\">\r\n                    <img src={logo} alt=\"Studio\" />\r\n                </div>\r\n                <div className=\"rightlogo\">\r\n                    <p>Studio</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"title\">\r\n                <p>Sign up for free.</p>\r\n            </div>\r\n            <div className=\"inputfields\">\r\n                {\r\n                    isError ? <Error msg={msg}/> : <div className=\"errordivreplacement\">\r\n                    </div>\r\n                }\r\n                <div className=\"username\">\r\n                    <input type=\"text\" name=\"username\" placeholder=\"Username\" spellCheck=\"false\" ref={usernameRef} />\r\n                </div>\r\n                <div className=\"email\">\r\n                    <input type=\"email\" name=\"email\" placeholder=\"Email\" spellCheck=\"false\" ref={emailRef}/>\r\n                </div>\r\n                <div className=\"password\">\r\n                    <input type={type} name=\"password\" placeholder=\"Password\" ref={passwordRef}/>\r\n                    <div className=\"viewer\">\r\n                        <div className={smallBallClass} onClick={shift}></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={signUpButton}>\r\n                <button onClick={submit}>{button}</button>\r\n            </div>\r\n            <div className={link}>\r\n                <p>Already on Studio?</p><p onClick={change}>Log In</p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Opening2 = () => {\r\n    const [redirectValue, setRedirectValue] = useState(false);\r\n    const [loaderClass, setLoaderClass] = useState(\"opening-loader hidden\");\r\n    const [,setIsPlaying] = useContext(PlayerContext);\r\n    const [,setSong] = useContext(AlbumContext);\r\n    const [,setQueue] = useContext(QueueContext);\r\n\r\n    setup = async () => {\r\n        const queue = JSON.parse(localStorage.getItem(\"queue\"));\r\n        if (queue) {\r\n            setIsPlaying(true);\r\n            let nowplaying = JSON.parse(localStorage.getItem(\"nowplaying\"));\r\n            if (nowplaying !== null) {\r\n                const res = await sendRequest({\r\n                    method: \"POST\",\r\n                    endpoint: \"/updateUrls\",\r\n                    data: {\r\n                        list: queue.concat([nowplaying])\r\n                    }\r\n                });\r\n                queue = res.slice(0,res.length - 1);\r\n                nowplaying = res[res.length - 1];\r\n                localStorage.setItem(\"queue\",JSON.stringify(queue));\r\n                localStorage.setItem(\"nowplaying\",JSON.stringify(nowplaying));\r\n\r\n                const index = queue.findIndex(each => {\r\n                    if (each.Title && nowplaying.Title) {\r\n                        return each.Title === nowplaying.Title;\r\n                    } else {\r\n                        return each.Album === nowplaying.Album;\r\n                    }\r\n                });\r\n                if (nowplaying.url !== \"\") {\r\n                    nowplaying.backup = nowplaying.url;\r\n                    nowplaying.url = \"\";\r\n                }\r\n                queue[index] = nowplaying;\r\n                setSong(nowplaying);\r\n                setQueue(queue);\r\n            } else {\r\n                localStorage.removeItem(\"nowplaying\");\r\n                localStorage.removeItem(\"queue\");\r\n                setIsPlaying(false);\r\n            }\r\n        }\r\n    };\r\n\r\n    const call = async () => {\r\n        await wait(1000);\r\n        setLoaderClass(\"opening-loader\");\r\n        let res;\r\n        res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: \"/activateCheck\"\r\n        });\r\n        if (res.status === \"active\") {\r\n            sendRequest({\r\n                method: \"GET\",\r\n                endpoint: \"/recordTime\"\r\n            });\r\n            await wait(500);\r\n            setRedirectValue(true);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        call();\r\n    }, []);\r\n\r\n    if (redirectValue) {\r\n        return <Redirect to={`${prefix}${basename}/homescreen`} />;\r\n    }\r\n    return(\r\n        <div className=\"mainwindow\">\r\n            {/* <div className=\"logoholder\">\r\n                <img src={logo2} alt=\"Studio\" />\r\n            </div>\r\n            <div className={loaderClass}>\r\n                <div className=\"firstcircle\"></div>\r\n                <div className=\"secondcircle\"></div>\r\n                <div className=\"thirdcircle\"></div>\r\n                <div className=\"fourthcircle\"></div>\r\n            </div> */}\r\n            <div className=\"logo-container\">\r\n                <div className=\"logo\">\r\n                    <img src={logo2} alt=\"StudioMusic\" />\r\n                    {/* <p>Studio</p> */}\r\n                </div>\r\n                <div style={{ width: \"100%\", height: \"15px\" }}></div>\r\n                {/* <div className={loaderClass}>\r\n                    <div className=\"firstcircle\"></div>\r\n                    <div className=\"secondcircle\"></div>\r\n                    <div className=\"thirdcircle\"></div>\r\n                    <div className=\"fourthcircle\"></div>\r\n                </div> */}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Opening2;","import \"./css/teststyles.css\";\r\nimport React from \"react\";\r\n\r\n\r\nconst Button = props => {\r\n    const createRipple = e => {\r\n        const button = e.currentTarget;\r\n        // const circle = button.getElementsByClassName(\"ripple\")[0];\r\n        const circle = button.lastChild;\r\n        const diameter = Math.max(button.clientWidth, button.clientHeight);\r\n        const radius = diameter / 2;\r\n        const dimen = button.getBoundingClientRect();\r\n        circle.style.width = circle.style.height = `${diameter}px`;\r\n        circle.style.left = `${e.clientX - (dimen.left + radius)}px`;\r\n        circle.style.top = `${e.clientY - (dimen.top + radius)}px`;\r\n        circle.classList.remove(\"hidden\");\r\n        circle.classList.add(\"play\");\r\n        setTimeout(() => {\r\n            circle.classList.remove(\"play\");\r\n            circle.classList.add(\"hidden\");\r\n        }, 600);\r\n    };\r\n\r\n    const handleClick = e => {\r\n        createRipple(e);\r\n        props.onClick(e);\r\n    };\r\n\r\n    return(\r\n        <div className={props.className} onClick={handleClick} title={props.title}\r\n        style={{ outline: \"none\", position: \"relative\", overflow: \"hidden\" }}>\r\n            {props.children}\r\n            <span className=\"ripple hidden\"></span>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Button;","import \"../../../css/homestyles.css\";\r\nimport \"../../../css/teststyles.css\";\r\nimport \"../../../css/hometeststyles.css\";\r\nimport { MidPanelLoader } from \"./index\";\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\nimport playbutton from \"../../../assets/playwhite.png\";\r\nimport pausebutton from \"../../../assets/pausewhite.png\";\r\nimport Close from \"../../../assets/deletewhite.svg\";\r\nimport Play from \"../../../assets/playbutton-white.svg\";\r\nimport Pause from \"../../../assets/pausebutton-white.svg\";\r\nimport Placeholder from \"../../../assets/placeholder.svg\";\r\nimport {\r\n    CustomUseState,\r\n    routesGlobal,\r\n    queueOpenedGlobal,\r\n    sendRequest,\r\n    topBarGlobal,\r\n    openerGlobal,\r\n    albumGlobal,\r\n    songIsPausedGlobal,\r\n    playingGlobal,\r\n    queueGlobal,\r\n    topBgColorGlobal,\r\n    modifyLibrary,\r\n    checkX,\r\n    checkY,\r\n    prefix,\r\n    basename,\r\n    global,\r\n    responseBar,\r\n    radioGlobal,\r\n    sharingBaseLink\r\n} from \"../../../common\";\r\nimport Queue from \"./Queue\";\r\nimport Button from \"../../../Button\";\r\nimport { pauseOrPlay } from \"../../../homepage\";\r\nimport {\r\n    AlbumContext,\r\n    MenuContext,\r\n    PlayerContext,\r\n    QueueContext,\r\n    RadioContext,\r\n    ResponseBarContext,\r\n    SongIsPausedContext\r\n} from \"../../../index\";\r\nlet topBar, actualIsOpen;\r\n\r\n\r\nconst EachInList = ({ addCloseButton, closeFunc, item }) => {\r\n    const [routes, setRoutes] = CustomUseState(routesGlobal);\r\n    const [redirectTo, setRedirectTo] = useState(\"\");\r\n    const [song, setAlbumForPlayer] = CustomUseState(albumGlobal);\r\n    const [songPaused, setSongPaused] = CustomUseState(songIsPausedGlobal);\r\n    const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [, setQueue] = CustomUseState(queueGlobal);\r\n    let songPausedLocal = songPaused;\r\n\r\n\r\n    const display = item => {\r\n        routes.push(`/home/album/${item.Album}`);\r\n        setRoutes(routes);\r\n        setRedirectTo(`${item.Album}`);\r\n    };\r\n\r\n    const handlePlayPause = (e) => {\r\n        e.stopPropagation();\r\n        if (song.Album === item.Album) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n        const main = item.Type === \"Album\" ? item.Tracks : [item];\r\n        if (!playing) setPlaying(true);\r\n        if (item.Type === \"Single\") {\r\n            setQueue(main);\r\n            setAlbumForPlayer(main[0]);\r\n        } else {\r\n            main.forEach(song => {\r\n                song.Album = item.Album;\r\n                song.Thumbnail = item.Thumbnail;\r\n                song.Color = item.Color;\r\n            });\r\n            setQueue(main);\r\n            setAlbumForPlayer(main[0]);\r\n        }\r\n        localStorage.setItem(\"queue\",JSON.stringify(main));\r\n        setSongPaused(true);\r\n    };\r\n\r\n    const handleMenu = (e) => {\r\n        e.preventDefault();\r\n    };\r\n\r\n    if (redirectTo !== \"\") {\r\n        return <Redirect to={`/home/album/${redirectTo}`} />\r\n    }\r\n    return(\r\n        <div className=\"cover\">\r\n            {\r\n                addCloseButton ? \r\n                <div className=\"crossinsearch\" onClick={() => closeFunc(item)}>\r\n                    <img src={Close} alt=\"\" />\r\n                </div> : \"\"\r\n            }\r\n            <div className=\"inner\" \r\n            onClick={() => display(item)}\r\n            onContextMenu={handleMenu}\r\n            >\r\n                {\r\n                    // noBg ?\r\n                    // <img src={item.Thumbnail} alt=\"\" className=\"innercoverimg\"/> :\r\n                    // <div className=\"coverimg\"\r\n                    // style={{ backgroundImage: `url(${Placeholder})`, backgroundSize: \"cover\" }}\r\n                    // >\r\n                        <img src={item.Thumbnail} alt=\"\" className=\"innercoverimg\"/>\r\n                    // </div>\r\n                }\r\n                <p className=\"album\">{item.Album}</p>\r\n                <p className=\"artist\">{item.AlbumArtist}</p>\r\n                {/* <div className={ show ? \"blackblurtop\" : \"blackblurtop hidden\" }></div>\r\n                <div className={ show ? \"blackblurbottom\" : \"blackblurbottom hidden\" }></div> */}\r\n                <div className={ (!songPausedLocal && song.Album === item.Album) ? \"floater-stay\" : \"floater\" }>\r\n                    <div className=\"rowplaybutton\" onClick={handlePlayPause}>\r\n                        <img src={ !songPausedLocal && song.Album === item.Album ? pausebutton : playbutton } alt=\"\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport const HorizontalList = ({ list, addCloseButton = false, closeFunc = ()=>{} }) => {\r\n    // const [redirectTo, setRedirectTo] = useState(\"\");\r\n    // const [, setTab] = CustomUseState(tabGlobal);\r\n    // const [routes, setRoutes] = CustomUseState(routesGlobal);\r\n    // const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    // actualIsOpen = openerDetails.open;\r\n\r\n    // const handleMenu = (e) => {\r\n    //     e.stopPropagation();\r\n    //     e.preventDefault();\r\n    //     setOpenerDetails({\r\n    //         open: !actualIsOpen,\r\n    //         yValue: e.clientY,\r\n    //         xValue: e.clientX,\r\n    //         type: \"album\",\r\n    //         data: [\r\n    //             {\r\n    //                 name: \"Add album to queue\",\r\n    //                 func: () => {}\r\n    //             },\r\n    //             {\r\n    //                 name: `Play next`,\r\n    //                 func: () => {}\r\n    //             }\r\n    //         ]\r\n    //     });\r\n    // };\r\n\r\n    // if (redirectTo !== \"\") {\r\n    //     return <Redirect to={`/home/album/${redirectTo}`} />\r\n    // }\r\n    return(\r\n        <>\r\n        <div className=\"innerlist\">\r\n            {\r\n                list.map((item,i) => {\r\n                    if (i<5) {\r\n                        return(\r\n                            <EachInList addCloseButton={addCloseButton} closeFunc={closeFunc} item={item} />\r\n                        );\r\n                    }\r\n                    return null;\r\n                })\r\n            }\r\n        </div>\r\n        </>\r\n    );\r\n};\r\nconst EachTile = ({ mouseOver, mouseOut, album }) => {\r\n    let songPausedLocal;\r\n    const [redirectTo, setRedirectTo] = useState(\"\");\r\n    const [routes, setRoutes] = CustomUseState(routesGlobal);\r\n    const [song, setAlbumForPlayer] = CustomUseState(albumGlobal);\r\n    const [songPaused, setSongPaused] = CustomUseState(songIsPausedGlobal);\r\n    const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [, setQueue] = CustomUseState(queueGlobal);\r\n    songPausedLocal = songPaused;\r\n\r\n    const moveOver = (album,e) => {\r\n        e.stopPropagation();\r\n        routes.push(`/home/album/${album}`);\r\n        setRoutes(routes);\r\n        setRedirectTo(`${album}`);\r\n    };\r\n    \r\n    const handlePlayPause = (e) => {\r\n        e.stopPropagation();\r\n        if (song.Album === album.Album) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n        const main = album.Type === \"Album\" ? album.Tracks : [album];\r\n        if (!playing) setPlaying(true);\r\n        if (album.Type === \"Single\") {\r\n            setQueue(main);\r\n            setAlbumForPlayer(main[0]);\r\n        } else {\r\n            main.forEach(song => {\r\n                song.Album = album.Album;\r\n                song.Thumbnail = album.Thumbnail;\r\n                song.Color = album.Color;\r\n            });\r\n            setQueue(main);\r\n            setAlbumForPlayer(main[0]);\r\n        }\r\n        localStorage.setItem(\"queue\",JSON.stringify(main));\r\n        setSongPaused(true);\r\n    };\r\n\r\n    if (redirectTo !== \"\") {\r\n        return <Redirect to={`/home/album/${redirectTo}`} />\r\n    }\r\n    return(\r\n        <div className=\"rowfirst\"\r\n        onMouseOver={() => mouseOver(album.Color)}\r\n        onClick={(e) => moveOver(album.Album,e)}\r\n        onMouseOut={mouseOut}>\r\n            <img src={album.Thumbnail} alt=\"\" className=\"rowimage\" />\r\n            <div className=\"rowname\">{album.Album}</div>\r\n            <div className={  (!songPausedLocal && song.Album === album.Album) ? \r\n            \"rowplaybuttoncontainer-stay\" : \"rowplaybuttoncontainer\" }>\r\n                <div className=\"rowplaybutton\" onClick={handlePlayPause}>\r\n                    <img src={ !songPausedLocal && song.Album === album.Album ? pausebutton : playbutton } alt=\"\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nconst EachRow = ({ row, mouseOver, mouseOut }) => {\r\n    return(\r\n        <div className=\"row\">\r\n            {\r\n                row.map(each => {\r\n                    return(\r\n                        <EachTile mouseOver={mouseOver} mouseOut={mouseOut} album={each} />\r\n                    );\r\n                })\r\n            }\r\n            {/* <div className=\"rowfirst\"></div>\r\n            <div className=\"rowfirst\"></div> */}\r\n        </div>\r\n    );\r\n};\r\nconst TopDisplay = ({ mostPlayed, mouseOver, mouseOut }) => {\r\n    const { title, list } = mostPlayed;\r\n\r\n    return(\r\n        <div className=\"shortcuts\">\r\n            <div className=\"bigmaintitle\">\r\n                <p>{title}</p>\r\n            </div>\r\n            <div style={{ width: \"100%\", height: \"15px\" }}></div>\r\n            {\r\n                Object.keys(list).map(each => {\r\n                    return(\r\n                        <EachRow row={list[each]} mouseOver={mouseOver} mouseOut={mouseOut}/>\r\n                    );\r\n                })\r\n            }\r\n            <div style={{ width: \"100%\", height: \"15px\" }}></div>\r\n        </div>\r\n    );\r\n};\r\nconst ActualHomeScreen = () => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [all, setAll] = useState({});\r\n    const [played, setPlayed] = useState({});\r\n    const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [bg, setBg] = useState(\"\");\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    const [, setTopBgColor] = CustomUseState(topBgColorGlobal);\r\n    actualIsOpen = openerDetails.open;\r\n    topBar = topBarConfig;\r\n\r\n    const mouseOut = () => {\r\n        const { list } = played;\r\n        if (Object.keys(list).length === 0) {\r\n            // setBg(`#121212`);\r\n            // setTopBgColor(\"#202020\");\r\n            setTopBgColor(\"#252525\");\r\n            return;\r\n        }\r\n        let color = list[0][0].Color.split(\",\");\r\n        let another = color;\r\n        color[3] = \"0.3)\";\r\n        color = color.join(\",\");\r\n        setBg(color);\r\n        another[3] = \"0.3)\";\r\n        another = another.join(\",\");\r\n        setTopBgColor(another);\r\n        // return color;\r\n    };\r\n\r\n    const mouseOver = (color) => {\r\n        let changedColor = color.split(\",\");\r\n        changedColor[3] = \"0.3)\";\r\n        changedColor = changedColor.join(\",\");\r\n        setBg(changedColor);\r\n    };\r\n\r\n    const scrollHandler = (e) => {\r\n        const top = e.currentTarget.scrollTop;\r\n        sessionStorage.setItem(\"home-scroll\",top);\r\n        if (Object.keys(played.list).length === 0) {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                // bgColor: bg\r\n                bgColor: \"#252525\"\r\n            });\r\n            return;\r\n        }\r\n        if (top > 200 && topBar.bgColor === \"transparent\") {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                bgColor: bg\r\n            });\r\n        }\r\n        if (top < 200 && topBar.bgColor !== \"transparent\") {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                bgColor: \"transparent\"\r\n            });\r\n        }\r\n        if (actualIsOpen) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const call = async () => {\r\n            const res = await sendRequest({\r\n                method: \"GET\",\r\n                endpoint: `/getHomeAlbums`\r\n            });\r\n            setAll(res.albums);\r\n            setPlayed(res.mostPlayed);\r\n            setIsLoading(false);\r\n        };\r\n        if (isLoading) {\r\n            call();\r\n        } else {\r\n            const main = document.querySelector(\".main\");\r\n            main.scrollTop = sessionStorage.getItem(\"home-scroll\") || 0;\r\n            mouseOut();\r\n        }\r\n        setTopBarConfig({\r\n            ...topBar,\r\n            button: false,\r\n            bgColor: \"transparent\"\r\n        });\r\n    }, [isLoading]);\r\n\r\n    const list = [\"New Releases\",\"Recently Added\",\"Most Played\",\"On Loop\",\"More Like DIVINE\"];\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader />\r\n    }\r\n    return(\r\n        <div className=\"homescreen\">\r\n            <div className=\"main\" onScroll={scrollHandler}>\r\n                <div className=\"colourtop\"\r\n                style={ Object.keys(played.list).length !== 0 ?\r\n                    // { backgroundImage: `linear-gradient(${bg},#121212)` } : \r\n                    { backgroundColor: `${bg}` } : \r\n                    // { backgroundImage: `linear-gradient(rgba(127,255,212,0.2),#121212,#121212,#121212)` } }\r\n                    // { backgroundColor: `#121212` } }\r\n                    { backgroundColor: `#252525` } }\r\n                >\r\n                    <div className=\"forblur\"></div>\r\n                </div>\r\n                <div className=\"noncolour\">\r\n                    {\r\n                        Object.keys(played.list).length !== 0 ? <TopDisplay mostPlayed={played} mouseOver={mouseOver} mouseOut={mouseOut}/> : \"\"\r\n                    }\r\n                    {   \r\n                        Object.keys(all).map((key,i) => {\r\n                            if (all[key].length !== 0) {\r\n                                return(\r\n                                    <div className=\"outline\">\r\n                                        <div className={ i === 0 && Object.keys(played.list).length === 0 ? \"bigmaintitle\" : \"maintitle\" }>\r\n                                            <p>{key}</p>\r\n                                            {/* { all[key].length > 5 ?\r\n                                                <div className=\"viewmore\">\r\n                                                    <p>VIEW MORE</p>\r\n                                                </div> : \"\"\r\n                                            } */}\r\n                                        </div>\r\n                                        <div className=\"list\">\r\n                                            <HorizontalList list={all[key]} />\r\n                                        </div>\r\n                                    </div>\r\n                                );\r\n                            }\r\n                            return null;\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nconst QuickPickRow = ({ row }) => {\r\n    return(\r\n        <div className=\"quickpickrow\">\r\n            {\r\n                row.map(item => {\r\n                    return <EachInQuickPick song={item} />\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst EachInQuickPick = ({\r\n    song,\r\n    openerFunc,\r\n    openerDetails,\r\n    setOpenerDetails,\r\n    playing,\r\n    setPlaying,\r\n    playingSong,\r\n    setPlayingSong,\r\n    setQueue,\r\n    songIsPaused,\r\n    setSongIsPaused,\r\n    radio,\r\n    setRadio,\r\n    setResObj\r\n}) => {\r\n    const [hovered, setHovered] = useState(false);\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        openerFunc(e, { dimensions, windowDim, song });\r\n    };\r\n\r\n    const determine = () => playingSong._trackId === song._trackId;\r\n\r\n    const handlePlayPause = async e => {\r\n        e.stopPropagation();\r\n        if (openerDetails.open) {\r\n            setOpenerDetails(prev => {\r\n                return { ...prev, open: false };\r\n            });\r\n        }\r\n        if (determine()) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n        const main = { ...song };\r\n        main.id = global.id = 0;\r\n        const newqueue = [main];\r\n        setQueue(newqueue);\r\n        setPlayingSong(main);\r\n        if (!playing) setPlaying(true);\r\n        localStorage.setItem(\"queue\",JSON.stringify([main]));\r\n        setSongIsPaused(true);\r\n        if (!radio) {\r\n            setResObj(prev => {\r\n                return { ...prev, open: true, msg: \"Starting radio....\" };\r\n            });\r\n            setRadio(true);\r\n            const songList = await sendRequest({\r\n                method: \"GET\",\r\n                endpoint: `/startradio?exclude=${song._trackId}&type=qr`\r\n            });\r\n            if (songList) {\r\n                songList.forEach(each => {\r\n                    each.id = ++global.id;\r\n                });\r\n                newqueue.push(...songList);\r\n                setQueue(newqueue);\r\n                localStorage.setItem(\"queue\",JSON.stringify(newqueue));\r\n            }\r\n            setRadio(false);\r\n        }\r\n    };\r\n\r\n    return(\r\n        <div className=\"eachinquick\" onMouseOver={() => setHovered(true)} onMouseOut={() => setHovered(false)} title={song.Title || song.Album}>\r\n            <div className=\"tile-art\">\r\n                <img src={song.Thumbnail || \"\"} alt=\"\" />\r\n                <div className=\"tiledummyshadow\">\r\n                    {/* <img src={Play} alt=\"\" /> */}\r\n                    <Button className=\"tile-button\" onClick={handlePlayPause}>\r\n                        {\r\n                            determine() ?\r\n                            <img src={ songIsPaused ? Play : Pause } alt=\"\" /> :\r\n                            <img src={Play} alt=\"\" />\r\n                        }\r\n                    </Button>\r\n                </div>\r\n                {\r\n                    !hovered && determine() ? \r\n                    <div className=\"anim-cover\">\r\n                        {\r\n                            !songIsPaused ?\r\n                            <div className=\"playinganim\">\r\n                                <div className=\"div1\"></div>\r\n                                <div className=\"div2\"></div>\r\n                                <div className=\"div3\"></div>\r\n                                <div className=\"div4\"></div>\r\n                            </div> : \r\n                            <div className=\"pausedanim\">\r\n                                <div className=\"div5\"></div>\r\n                                <div className=\"div6\"></div>\r\n                                <div className=\"div7\"></div>\r\n                                <div className=\"div8\"></div>\r\n                            </div> \r\n                        }\r\n                    </div> : null\r\n                }\r\n            </div>\r\n            <div className={ hovered ? \"tile-details-short\" : \"tile-details\" }>\r\n                <div className=\"tile-title\">{song.Title || song.Album}</div>\r\n                <div className=\"tile-artist\">\r\n                    <p>{song.Artist}</p>\r\n                    <div className=\"home-separator\"><div></div></div>\r\n                    <p>{song.Album}</p>\r\n                </div>\r\n            </div>\r\n            <div className={ hovered ? \"tile-last\" : \"tile-last-hidden\" }>\r\n                <div className=\"tileopener\" onClick={handleMenu} title=\"More Options\">\r\n                    <div className=\"tileopener1\"></div>\r\n                    <div className=\"tileopener2\"></div>\r\n                    <div className=\"tileopener3\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst StartRadio = props => {\r\n    const { picks } = props;\r\n\r\n    return(\r\n        <>\r\n            <div className=\"hugetitlename\">\r\n                <div className=\"top-title\">START RADIO FROM A SONG</div>\r\n                <div className=\"bottom-title\">Quick Picks</div>\r\n            </div>\r\n            <div className=\"quickpick-container\">\r\n                <div className=\"quickpick-grid\">\r\n                    {\r\n                        picks.map(item => {\r\n                            return <EachInQuickPick song={item} {...props} />\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nconst EachAlbum = ({ item, openerFunc, playPauseFunc }) => {\r\n    const [song,] = useContext(AlbumContext);\r\n    const [songPaused,] = useContext(SongIsPausedContext);\r\n    let songPausedLocal = songPaused;\r\n    const hist = useHistory();\r\n\r\n    const goToAlbum = () => {\r\n        setTimeout(() => {\r\n            hist.push(`${prefix}${basename}/album/${item._albumId}`);\r\n        },500);\r\n    };\r\n\r\n    const goToAlbumName = e => {\r\n        hist.push(`${prefix}${basename}/album/${item._albumId}`);\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        openerFunc(e, { dimensions, windowDim, album: item });\r\n    };\r\n\r\n    const handlePlayPause = e => {\r\n        e.stopPropagation();\r\n        playPauseFunc(item);\r\n    };\r\n\r\n    if (Object.keys(item).length > 0) {\r\n        return(\r\n            <div className=\"homealbum\">\r\n                <div className=\"innerhomealbum\">\r\n                    <Button className=\"homeartcover\" onClick={goToAlbum} title={item.Album}>\r\n                        <div className=\"homedummyshadow\"></div>\r\n                        <div className={ (song.Album === item.Album) ? \"homeplaybuttonfixed\" : \"homeplaybutton\" }>\r\n                            <Button className=\"innerhomeplaybutton\" onClick={handlePlayPause}\r\n                            title={ (!songPausedLocal && song.Album === item.Album) ? \"Pause\" : \"Play\" }>\r\n                                <img src={ (!songPausedLocal && song.Album === item.Album) ? Pause : Play} alt=\"\" />\r\n                            </Button>\r\n                        </div>\r\n                        <div className=\"homeopener\" onClick={handleMenu} title=\"More Options\">\r\n                            <div className=\"homeopener1\"></div>\r\n                            <div className=\"homeopener2\"></div>\r\n                            <div className=\"homeopener3\"></div>\r\n                        </div>\r\n                        <img src={item.Thumbnail || \"\"} alt=\"\" />\r\n                    </Button>\r\n                    <div className=\"homealbumname\" onClick={goToAlbumName}>{item.Title || item.Album}</div>\r\n                    <span className=\"homeartistname\">\r\n                        <span>{item.AlbumArtist}</span>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    return <div style={{ width: \"15%\", height: \"100%\" }}></div>\r\n};\r\n\r\nconst EachAlbumInRP = ({ album, songIsPaused, song, openerFunc, handlePlayPause }) => {\r\n    const playPause = e => {\r\n        e.stopPropagation();\r\n        handlePlayPause(album);\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        openerFunc(e, { dimensions, windowDim, album });\r\n    };\r\n\r\n    return(\r\n        <div className=\"homealbum\">\r\n            <div className=\"innerhomealbum\">\r\n                <div className=\"homeartcover\" title={album.Album}>\r\n                    <div className={ (song.Album === album.Album) ? \"rpdummyshadowfixed\" : \"rpdummyshadow\" }></div>\r\n                    <div className={ (song.Album === album.Album) ? \"rp-buttonfixed\" : \"rp-button\" }>\r\n                        <Button className=\"innerrpbutton\" onClick={playPause}\r\n                        title={ (!songIsPaused && song.Album === album.Album) ? \"Pause\" : \"Play\" }>\r\n                            <img src={ (!songIsPaused && song.Album === album.Album) ? Pause : Play} alt=\"\" />\r\n                        </Button>\r\n                    </div>\r\n                    <div className=\"homeopener\" onClick={handleMenu} title=\"More Options\">\r\n                        <div className=\"homeopener1\"></div>\r\n                        <div className=\"homeopener2\"></div>\r\n                        <div className=\"homeopener3\"></div>\r\n                    </div>\r\n                    <img src={album.Thumbnail || \"\"} alt=\"\" />\r\n                </div>\r\n                <div className=\"rpalbumname\">{album.Title || album.Album}</div>\r\n                <span className=\"homeartistname\">\r\n                    <span>{album.AlbumArtist}</span>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst RecentlyPlayed = (props) => {\r\n    const { played } = props;\r\n\r\n    return(\r\n        <>\r\n        <div className=\"hugetitlename\">\r\n            <div className=\"top-title\">FROM YOUR HISTORY</div>\r\n            <div className=\"bottom-title\">Listen Again</div>\r\n        </div>\r\n        <div style={{width: \"100%\", height: \"10px\"}}></div>\r\n        <div className=\"homecontainer\">\r\n            {\r\n                played.map(each => {\r\n                    return <EachAlbumInRP album={each} {...props} />;\r\n                })\r\n            }\r\n        </div>\r\n        </>\r\n    );\r\n};\r\n\r\nconst NewActualHomeScreen = () => {\r\n    const [openerDetails, setOpenerDetails] = useContext(MenuContext);\r\n    const [playing, setPlaying] = useContext(PlayerContext);\r\n    const [playingSong, setPlayingSong] = useContext(AlbumContext);\r\n    const [songIsPaused, setSongIsPaused] = useContext(SongIsPausedContext);\r\n    const [queue, setQueue] = useContext(QueueContext);\r\n    const [,setResObj] = useContext(ResponseBarContext);\r\n    const [radio, setRadio] = useContext(RadioContext);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [data, setData] = useState({});\r\n    const [picks, setPicks] = useState({});\r\n    const [recentlyPlayed, setRecentlyPlayed] = useState([]);\r\n    const list = [\"tileopener\",\"tileopener1\",\"tileopener2\",\"tileopener3\"];\r\n    const hist = useHistory();\r\n    actualIsOpen = openerDetails.open;\r\n\r\n    const call = async () => {\r\n        let res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: `/getHomeAlbums`\r\n        });\r\n        if (res) {\r\n            setData(res.albums);\r\n            setPicks(res.quickPicks);\r\n            setRecentlyPlayed(res.mostPlayed);\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const goToAlbum = album => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        hist.push(`${prefix}${basename}/album/${album._albumId}`);\r\n    };\r\n\r\n    const addTrackToQueue = song => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        setQueue(prev => {\r\n            if (prev.length === 0) return prev;\r\n            prev.push({ ...song, id: ++global.id });\r\n            return prev;\r\n        });\r\n        setResObj(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                msg: `Added ${song.Title || song.Album} to queue`\r\n            };\r\n        });\r\n    };\r\n\r\n    const playTrackNext = song => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        setQueue(prev => {\r\n            if (prev.length === 0) return prev;\r\n            const curIndex = prev.findIndex(each => each.id === playingSong.id);\r\n            prev.splice(curIndex+1, 0, { ...song, id: ++global.id });\r\n            return prev;\r\n        });\r\n        setResObj(prev => {\r\n            return { ...prev, open: true, msg: `Playing ${song.Title || song.Album} next` };\r\n        });\r\n    };\r\n\r\n    const shareAlbum = item => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        setResObj(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                msg: \"Album link copied to clipboard\"\r\n            };\r\n        });\r\n        navigator.clipboard.writeText(`${sharingBaseLink}/album/${item._albumId}`);\r\n    };\r\n\r\n    const shareTrack = item => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        setResObj(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                msg: \"Track link copied to clipboard\"\r\n            };\r\n        });\r\n        navigator.clipboard.writeText(`${sharingBaseLink}/track/${item._albumId}/${item._trackId}`);\r\n    };\r\n\r\n    const handleMenuForPicks = (e, { dimensions, windowDim, song: album }) => {\r\n        const data = [\r\n            {\r\n                name: \"Go to album\",\r\n                func: () => goToAlbum(album)\r\n            },\r\n            {\r\n                name: \"Add to queue\",\r\n                func: () => addTrackToQueue(album)\r\n            },\r\n            {\r\n                name: \"Play next\",\r\n                func: () => playTrackNext(album)\r\n            },\r\n            {\r\n                name: \"Share track\",\r\n                func: () => shareTrack(album)\r\n            }\r\n        ];\r\n        e.stopPropagation();\r\n        setOpenerDetails(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                xValue: checkX(dimensions.x, windowDim.width),\r\n                yValue: checkY(dimensions.y, windowDim.height, data.length),\r\n                data\r\n            }\r\n        });\r\n    };\r\n\r\n    const addAlbumToQueue = item => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        if (queue.length === 0) return;\r\n\r\n        const album = { ...item };\r\n        const main = [];\r\n        if (album.Type === \"Single\") {\r\n            album.id = ++global.id;\r\n            main.push(album);\r\n        } else if (album.Type === \"Album\") {\r\n            album.Tracks.forEach(each => {\r\n                const obj = { ...album, ...each, id: ++global.id };\r\n                delete obj.Tracks;\r\n                main.push(obj);\r\n            });\r\n        }\r\n        setQueue(prev => {\r\n            return [ ...prev, ...main ];\r\n        });\r\n        setResObj(prev => {\r\n            return { ...prev, open: true, msg: `Added ${album.Type.toLowerCase()} to queue` };\r\n        });\r\n    };\r\n\r\n    const playAlbumNext = item => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        if (queue.length === 0) return;\r\n        \r\n        const album = { ...item };\r\n        const main = [];\r\n        if (album.Type === \"Single\") {\r\n            album.id = ++global.id;\r\n            main.push(album);\r\n        } else if (album.Type === \"Album\") {\r\n            album.Tracks.forEach(each => {\r\n                const obj = { ...album, ...each, id: ++global.id };\r\n                delete obj.Tracks;\r\n                main.push(obj);\r\n            });\r\n        }\r\n        setQueue(prev => {\r\n            const playingSongIndex = prev.findIndex(s => s.id === playingSong.id);\r\n            prev.splice(playingSongIndex+1, 0, ...main);\r\n            return prev;\r\n        });\r\n        setResObj(prev => {\r\n            return { ...prev, open: true, msg: `Playing ${album.Title || album.Album} next` };\r\n        });\r\n    };\r\n\r\n    const handleMenuForAlbums = (e, { dimensions, windowDim, album }) => {\r\n        const data = [\r\n            {\r\n                name: \"Add to queue\",\r\n                func: () => addAlbumToQueue(album)\r\n            },\r\n            {\r\n                name: \"Play next\",\r\n                func: () => playAlbumNext(album)\r\n            },\r\n            {\r\n                name: \"Share album\",\r\n                func: () => shareAlbum(album)\r\n            }\r\n        ];\r\n        setOpenerDetails(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                xValue: checkX(dimensions.x, windowDim.width),\r\n                yValue: checkY(dimensions.y, windowDim.height, data.length),\r\n                data\r\n            }\r\n        });\r\n    };\r\n\r\n    const handlePlayPause = item => {\r\n        if (playingSong._albumId === item._albumId) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n        if (!playing) setPlaying(true);\r\n        const album = { ...item };\r\n        const main = [];\r\n        if (album.Type === \"Single\") {\r\n            album.id = global.id = 0;\r\n            main.push(album);\r\n        } else if (album.Type === \"Album\") {\r\n            album.Tracks.forEach((each,i) => {\r\n                const obj = { ...album, ...each };\r\n                obj.id = global.id = i;\r\n                delete obj.Tracks;\r\n                main.push(obj);\r\n            });\r\n        }\r\n        setQueue(main);\r\n        setPlayingSong(main[0]);\r\n        setSongIsPaused(true);\r\n    };\r\n\r\n    const handlePlayPauseForRP = async album => {\r\n        if (openerDetails.open) {\r\n            setOpenerDetails(prev => {\r\n                return { ...prev, open: false };\r\n            });\r\n        }\r\n        if (playingSong._albumId === album._albumId) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n\r\n        const main = [];\r\n        if (album.Type === \"Single\") {\r\n            const obj = { ...album };\r\n            obj.id = global.id = 0;\r\n            main.push(obj);\r\n        } else if (album.Type === \"Album\") {\r\n            album.Tracks.forEach((each,i) => {\r\n                const obj = { ...album, ...each };\r\n                obj.id = global.id = i;\r\n                delete obj.Tracks;\r\n                main.push(obj);\r\n            });\r\n        }\r\n\r\n        setQueue(main);\r\n        setPlayingSong(main[0]);\r\n        if (!playing) setPlaying(true);\r\n        localStorage.setItem(\"queue\",JSON.stringify(main));\r\n        setSongIsPaused(true);\r\n        if (!radio) {\r\n            setResObj(prev => {\r\n                return { ...prev, open: true, msg: \"Playing from your history....\" };\r\n            });\r\n            setRadio(true);\r\n            const songList = await sendRequest({\r\n                method: \"GET\",\r\n                endpoint: `/startradio?exclude=${album._albumId}&type=rp`\r\n            });\r\n            songList.forEach(each => {\r\n                each.id = ++global.id;\r\n            });\r\n            main.push(...songList);\r\n            setQueue(main);\r\n            localStorage.setItem(\"queue\",JSON.stringify(main));\r\n            setRadio(false);\r\n        }\r\n    };\r\n\r\n    const documentClick = e => {\r\n        if (!list.includes(e.target.className) && actualIsOpen) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleMenuForRP = (e, { dimensions, windowDim, album }) => {\r\n        const data = [\r\n            {\r\n                name: \"Go to album\",\r\n                func: () => goToAlbum(album)\r\n            },\r\n            {\r\n                name: \"Add to queue\",\r\n                func: () => addAlbumToQueue(album)\r\n            },\r\n            {\r\n                name: \"Play next\",\r\n                func: () => playAlbumNext(album)\r\n            },\r\n            {\r\n                name: \"Share album\",\r\n                func: () => shareAlbum(album)\r\n            }\r\n        ];\r\n        e.stopPropagation();\r\n        setOpenerDetails(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                xValue: checkX(dimensions.x, windowDim.width),\r\n                yValue: checkY(dimensions.y, windowDim.height, data.length),\r\n                data\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (isLoading) {\r\n            call();\r\n        }\r\n        // document.addEventListener(\"click\",documentClick);\r\n        return () => {\r\n            // document.removeEventListener(\"click\",documentClick);\r\n        };\r\n    },[isLoading]);\r\n\r\n    \r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        <div className=\"newhome\" style={{ overflowY: `${ openerDetails.open ? \"hidden\" : \"overlay\" }` }}>\r\n            {\r\n                recentlyPlayed.length !== 0 ?\r\n                <RecentlyPlayed played={recentlyPlayed} songIsPaused={songIsPaused} song={playingSong}\r\n                openerFunc={handleMenuForRP} handlePlayPause={handlePlayPauseForRP} /> : null\r\n            }\r\n            {\r\n                picks.length !== 0 ?\r\n                <StartRadio picks={picks} openerFunc={handleMenuForPicks} openerDetails={openerDetails} setOpenerDetails={setOpenerDetails}\r\n                playing={playing} setPlaying={setPlaying} playingSong={playingSong} setPlayingSong={setPlayingSong}\r\n                setQueue={setQueue} songIsPaused={songIsPaused} setSongIsPaused={setSongIsPaused}\r\n                radio={radio} setRadio={setRadio} setResObj={setResObj} /> : null\r\n            }\r\n            {\r\n                Object.keys(data).map(each => {\r\n                    if (data[each].length !== 0) {\r\n                        return(\r\n                            <>\r\n                            <div className=\"titlename\">{each}</div>\r\n                            <div className=\"homecontainer\">\r\n                                {\r\n                                    data[each].map(item => {\r\n                                        return <EachAlbum item={item} openerFunc={handleMenuForAlbums}\r\n                                        playPauseFunc={handlePlayPause} />;\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            </>\r\n                        );\r\n                    }\r\n                    return null;\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n\r\nexport default NewActualHomeScreen;","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport \"../../../css/albumview.css\";\r\nimport {\r\n    CustomUseState,\r\n    playingGlobal,\r\n    routesGlobal,\r\n    tabGlobal,\r\n    topBarGlobal,\r\n    checkArtist,\r\n    albumGlobal,\r\n    queueGlobal,\r\n    queueOpenedGlobal,\r\n    songIsPausedGlobal,\r\n    openerGlobal,\r\n    responseBar,\r\n    sendRequest,\r\n    checkX,\r\n    checkY,\r\n    global,\r\n    prefix,\r\n    basename,\r\n    dateToString,\r\n    sharingBaseLink\r\n} from \"../../../common\";\r\nimport { MidPanelLoader } from \"./index\";\r\nimport { HorizontalList } from \"./HomeScreen\";\r\nimport { useParams, Redirect, useHistory, useLocation } from \"react-router-dom\";\r\nimport play from \"../../../assets/playwhite.png\";\r\nimport Play from \"../../../assets/playbutton-black.svg\";\r\nimport Pause from \"../../../assets/pausebutton-black.svg\";\r\nimport BackButton from \"../../../assets/backbutton-white.svg\";\r\nimport PlayWhite from \"../../../assets/playbutton-white.svg\";\r\nimport PauseWhite from \"../../../assets/pausebutton-white.svg\";\r\nimport AddButton from \"../../../assets/addbutton-black.svg\";\r\nimport pause from \"../../../assets/pausewhite.png\";\r\nimport copyright from \"../../../assets/copyright.png\";\r\nimport Placeholder from \"../../../assets/placeholder.svg\";\r\nimport Queue from \"./Queue\";\r\nimport { pauseOrPlay } from \"../../../homepage\";\r\nimport Button from \"../../../Button\";\r\nimport {\r\n    AlbumContext,\r\n    MenuContext,\r\n    PlayerContext,\r\n    QueueContext,\r\n    ResponseBarContext,\r\n    SongIsPausedContext\r\n} from \"../../../index\";\r\nlet mainscreen, actualIsOpen, bgChanged = false, topBar, isOpen = false;\r\n\r\n\r\nconst ShowMoreAlbum = ({ moreAlbums, albumartist }) => {\r\n    if (moreAlbums.length === 0) {\r\n        return \"\";\r\n    }\r\n    return(\r\n        <div className=\"morealbumdiv\">\r\n            <div className=\"morebydisplay\">More By {albumartist.split(\",\")[0]}</div>\r\n            <div className=\"list\">\r\n                <HorizontalList list={moreAlbums} />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nconst ActualAlbumView = () => {\r\n    const [p, setP] = useState(\"\");\r\n    const params = useParams();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [albumDetails, setAlbumDetails] = useState({});\r\n    const [routes, setRoutes] = CustomUseState(routesGlobal);\r\n    const [,setTab] = CustomUseState(tabGlobal);\r\n    const [redirectValue, setRedirectValue] = useState({ status: false, to: \"\" });\r\n    // const [,setKeepButton] = CustomUseState(keepButtonGlobal);\r\n    // const [,setOnClickFunc] = CustomUseState(onClickFuncGlobal);\r\n    // const [,setTopTitle] = CustomUseState(topTitleGlobal);\r\n    // const [,setBgColor] = CustomUseState(topBgColor);\r\n    const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [albumSong, setAlbumForPlayer] = CustomUseState(albumGlobal);\r\n    const [queue, setQueue] = CustomUseState(queueGlobal);\r\n    const [added, setAdded] = useState(false);\r\n    const [songPaused, setSongPaused] = CustomUseState(songIsPausedGlobal);\r\n    const albummain = useRef();\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    const [moreAlbums, setMoreAlbums] = useState([]);\r\n    const [,setResObj] = CustomUseState(responseBar);\r\n    actualIsOpen = openerDetails.open;\r\n    topBar = topBarConfig;\r\n    if (p !== params.name) {\r\n        setIsLoading(true);\r\n        setP(params.name);\r\n    }\r\n\r\n\r\n    const checkForLeftPanel = () => {\r\n        const route = routes[routes.length - 1];\r\n        if (route.toLowerCase().includes(\"homescreen\")) setTab(\"Home\");\r\n        else if (route.toLowerCase().includes(\"search\")) setTab(\"Search\");\r\n        else if (route.toLowerCase().includes(\"new-releases\")) setTab(\"New Releases\");\r\n        else if (route.toLowerCase().includes(\"library\")) setTab(\"Library\");\r\n    };\r\n\r\n    const scrollHandler = e => {\r\n        if (albummain.current.scrollTop > 300 && !bgChanged) {\r\n        // if (mainscreen.current.scrollTop > 300 && bgChanged === false) {\r\n            const initColor = albumDetails && albumDetails.Color.substring(5,albumDetails.Color.length-1).split(\",\");\r\n            bgChanged = true;\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                title: albumDetails.Album,\r\n                bgColor: `rgba(${initColor[0]},${initColor[1]},${initColor[2]},0.3)`\r\n            });\r\n            // setTopTitle(albumDetails.Album);\r\n            // setBgColor(`rgba(${initColor[0]},${initColor[1]},${initColor[2]},0.3)`);\r\n        }\r\n        if (albummain.current.scrollTop < 300 && bgChanged) {\r\n        // if (mainscreen.current.scrollTop < 300 && bgChanged === true) {\r\n            bgChanged = false;\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                title: \"\",\r\n                bgColor: \"transparent\"\r\n            });\r\n            // setTopTitle(\"\");\r\n            // setBgColor(\"transparent\");\r\n        }\r\n        if (actualIsOpen) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    const goBack = () => {\r\n        if (routes.length > 1) {\r\n            routes.splice(routes.length-1,1);\r\n            setRoutes(routes);\r\n        }\r\n        // checkForLeftPanel();\r\n        setTopBarConfig({\r\n            ...topBar,\r\n            button: false,\r\n            title: \"\",\r\n            bgColor: \"transparent\"\r\n        });\r\n        setRedirectValue({ status: true, to: routes[routes.length - 1] });\r\n    };\r\n\r\n    const call = async () => {\r\n        let res = await sendRequest({\r\n            method: \"POST\",\r\n            endpoint: `/getAlbumDetails`,\r\n            data: {\r\n                album: params.name\r\n            }\r\n        });\r\n        if (res) {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                button: true,\r\n                buttonFunc: goBack\r\n            });\r\n            // setKeepButton(true);\r\n            // setOnClickFunc(goBack);\r\n            // setBgColor(\"transparent\")\r\n            setAlbumDetails(res.album);\r\n            setMoreAlbums(res.moreAlbums);\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const playButton = (albumDetails) => {\r\n        if (decidePlayOrPause()) {\r\n            pauseOrPlay();\r\n        } else {\r\n            const main = albumDetails.Type === \"Album\" ? albumDetails.Tracks : [albumDetails];\r\n            if (!playing) setPlaying(true);\r\n            if (albumDetails.Type === \"Single\") {\r\n                setQueue(main);\r\n                setAlbumForPlayer(main[0]);\r\n            } else {\r\n                main.forEach(song => {\r\n                    song.Album = albumDetails.Album;\r\n                    song.Thumbnail = albumDetails.Thumbnail;\r\n                    song.Color = albumDetails.Color;\r\n                    song.Year = albumDetails.Year;\r\n                });\r\n                setQueue(main);\r\n                setAlbumForPlayer(main[0]);\r\n            }\r\n            localStorage.setItem(\"queue\",JSON.stringify(main));\r\n            setSongPaused(true);\r\n        }\r\n    };\r\n\r\n    const addAlbumToQueue = () => {\r\n        // if (!added) {\r\n            const main = albumDetails.Type === \"Album\" ? albumDetails.Tracks : [albumDetails];\r\n            const mainQueue = queue;\r\n            const index = mainQueue.indexOf(albumSong);\r\n            if (index === -1) return;\r\n            if (albumDetails.Type === \"Single\") {\r\n                mainQueue.push(main[0]);\r\n                // mainQueue.splice(index,0,main[0]);\r\n                localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n                setQueue(mainQueue);\r\n                // setAlbumForPlayer(main[0]);\r\n                setResObj({ open: true, msg: \"Added single to queue\" });\r\n            } else {\r\n                // let i = 0;\r\n                main.forEach(song => {\r\n                    song.Album = albumDetails.Album;\r\n                    song.Color = albumDetails.Color;\r\n                    song.Thumbnail = albumDetails.Thumbnail;\r\n                    song.Year = albumDetails.Year;\r\n                    mainQueue.push(song);\r\n                    // mainQueue.splice(index+i,0,song);\r\n                    // ++i;\r\n                });\r\n                localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n                setQueue(mainQueue);\r\n                setResObj({ open: true, msg: \"Added album to queue\" });\r\n                // setAlbumForPlayer(main[0]);\r\n            }\r\n            setAdded(true);\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        // }\r\n    };\r\n\r\n    const playAlbumNext = () => {\r\n        if (queue.length !== 0) {\r\n            const index = queue.indexOf(albumSong);\r\n            if (albumDetails.Type === \"Single\") {\r\n                queue.splice(index+1,0,albumDetails);\r\n            } else {\r\n                albumDetails.Tracks.forEach((song,i) => {\r\n                    song.Album = albumDetails.Album;\r\n                    song.Color = albumDetails.Color;\r\n                    song.Thumbnail = albumDetails.Thumbnail;\r\n                    song.Year = albumDetails.Year;\r\n                    queue.splice(index+1+i,0,song);\r\n                });\r\n            }\r\n            localStorage.setItem(\"queue\",JSON.stringify(queue));\r\n            setQueue(queue);\r\n            setResObj({ open: true, msg: `Playing '${albumDetails.Album}' next` });\r\n        }\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: false\r\n        });\r\n    };\r\n\r\n    const displayDirect = (album) => {\r\n        if (Object.keys(album).length > 0) {\r\n            const type = album.Type === \"Album\";\r\n            const dur = type ? album.Tracks[0].Duration.split(\": \") : album.Duration.split(\": \");\r\n            const sec = parseInt(dur[1]);\r\n            return `${dur[0]} min${ sec !== 0 ? ` ${sec} sec` : `` }`;\r\n        }\r\n    };\r\n\r\n    const addAndDisplay = (album) => {\r\n        if (Object.keys(album).length > 0) {\r\n            let min = 0, sec = 0;\r\n            album.Tracks.forEach(track => {\r\n                const dur = track.Duration.split(\": \");\r\n                min += parseInt(dur[0]);\r\n                sec += parseInt(dur[1]);\r\n            });\r\n            min += Math.floor(sec/60);\r\n            sec = sec%60;\r\n            return `${min} min${ sec !== 0 ? ` ${sec} sec` : `` }`;\r\n        }\r\n    };\r\n\r\n    const decidePlayOrPause = () => {\r\n        let sameAlbum = false;\r\n        const titleInSong = albumSong.Title || false;\r\n        if (!titleInSong && albumDetails.Type === \"Album\") {\r\n            return false;\r\n        }\r\n        if (!titleInSong && albumDetails.Type === \"Single\") {\r\n            return albumSong.Album === albumDetails.Album;\r\n        }\r\n        albumDetails.Tracks && albumDetails.Tracks.every(song => {\r\n            if (song.Title === titleInSong) {\r\n                sameAlbum = true;\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        return sameAlbum;\r\n    };\r\n\r\n    const handleClick = (e) => {\r\n        const list = [\"opener\",\"rowinmenu\",\"rowtext\"];\r\n        if (list.indexOf(e.target.className) === -1 && actualIsOpen) {\r\n            mainscreen.style.overflow = \"overlay\";\r\n            setOpenerDetails({\r\n                open: false,\r\n                xValue: 0,\r\n                yValue: 0,\r\n                type: null\r\n            });\r\n        }\r\n    };\r\n\r\n    const change = (color) => {\r\n        // color = color.split(\",\");\r\n        // color[3] = \"0.5)\";\r\n        // color = color.join(\",\");\r\n        // console.log(\"color\",color);\r\n        return color;\r\n    };\r\n\r\n    const handleMenu = (e) => {\r\n        e.stopPropagation();\r\n        setOpenerDetails({\r\n            open: !actualIsOpen,\r\n            yValue: e.clientY + 10,\r\n            xValue: e.clientX + 10,\r\n            type: \"album\",\r\n            data: [\r\n                {\r\n                    name: \"Add album to queue\",\r\n                    func: addAlbumToQueue\r\n                },\r\n                {\r\n                    name: `Play ${albumDetails.Type.toLowerCase()} next`,\r\n                    func: playAlbumNext\r\n                }\r\n            ]\r\n        });\r\n    };\r\n\r\n    const compare = (a,b) => {\r\n        if (a.Title > b.Title) return 1;\r\n        return -1;\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (isLoading) {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                button: false,\r\n                title: \"\",\r\n                bgColor: \"transparent\"\r\n            });\r\n            call();\r\n        } else {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                button: true,\r\n                buttonFunc: goBack\r\n            });\r\n            mainscreen = document.querySelector(\".albummain\");\r\n            document.addEventListener(\"mousedown\",handleClick);\r\n        }\r\n        return () => {\r\n            setRedirectValue({ ...redirectValue, status: false });\r\n            document.removeEventListener(\"mousedown\",handleClick);\r\n        };\r\n    },[isLoading]);\r\n\r\n\r\n    if (redirectValue.status) {\r\n        return <Redirect to={`${redirectValue.to}`} />\r\n    }\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        <div className=\"albummain\" onScroll={scrollHandler} ref={albummain}>\r\n            <div className=\"topview\"\r\n            style={{background: `linear-gradient(to bottom, ${change(albumDetails.Color || \"\")}, #121212)`}}\r\n            >\r\n                <div className=\"albumcontainer\">\r\n                    <div className=\"albumart\" style={{\r\n                        backgroundImage: `url(${Placeholder})`,\r\n                        backgroundSize: \"cover\"\r\n                    }}>\r\n                        <img src={albumDetails.Thumbnail || \"\"} alt=\"albumart\" />\r\n                    </div>\r\n                    <div className=\"titlecontainer\">\r\n                        <div className=\"albumtype\">\r\n                            {(albumDetails.Type && albumDetails.Type.toUpperCase()) || \"\"}\r\n                        </div>\r\n                        <div className={albumDetails.Album && albumDetails.Album.length > 22 ? \"albumname-extrasmall\" :\r\n                            albumDetails.Album && albumDetails.Album.length > 18 ? \"albumname-small\" : \"albumname-large\"}>\r\n                        {/* <div className={albumDetails.Album && albumDetails.Album.length > 22 ? \"albumname-extrasmall\" :\r\n                            albumDetails.Album && albumDetails.Album.length > 18 ? \"albumname-extrasmall\" : \"albumname-extrasmall\"}> */}\r\n                            <p>{albumDetails.Album}</p>\r\n                        </div>\r\n                        <div className=\"albumartist\">\r\n                            {\r\n                                Object.keys(albumDetails).length > 0 ?\r\n                                albumDetails.AlbumArtist.split(\", \").map((item,i) => {\r\n                                    return(\r\n                                        <>\r\n                                            <div className=\"albumartistname\"\r\n                                            onMouseOver={(e) => checkArtist(item,e,\"albumartist\")}>\r\n                                                {item || \"\"}\r\n                                            </div>\r\n                                            {\r\n                                                i !== albumDetails.AlbumArtist.split(\", \").length - 1 ?\r\n                                                <div className=\"separator\"></div> : \"\"\r\n                                            }\r\n                                        </>\r\n                                    );\r\n                                }) : \"\"\r\n                            }\r\n                            <div className=\"separator\"></div>\r\n                            <div className=\"year\">{albumDetails.Year || \"\"}</div>\r\n                            <div className=\"separator\"></div>\r\n                            <div className=\"noofsongs\">\r\n                                {\r\n                                    albumDetails.Type === \"Album\" ? \r\n                                    albumDetails.Tracks.length === 1 ? `1 Song` : `${albumDetails.Tracks.length} Songs` : \"1 Song\"\r\n                                }\r\n                            </div>\r\n                            <div className=\"separator\"></div>\r\n                            <div className=\"noofsongs\">\r\n                                {\r\n                                    albumDetails.Tracks && albumDetails.Tracks.length >= 1 ? addAndDisplay(albumDetails) : displayDirect(albumDetails)\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"bottomview\">\r\n                <div className=\"bottomcontainer\">\r\n                    <div className={ decidePlayOrPause() && !songPaused ? \"playcontainerpause\" : \"playcontainer\" }\r\n                    // style={{backgroundColor: albumDetails.Color || \"\"}}\r\n                    // style={{backgroundColor: \"rgba(127,255,212,0.9)\"}}\r\n                    onClick={() => playButton(albumDetails)}>\r\n                        <img src={ decidePlayOrPause() && !songPaused ? pause : play } alt=\"Play\" />\r\n                    </div>\r\n                    <div className=\"openercontrol\" onClick={handleMenu}>\r\n                        <div className=\"opener1\"></div>\r\n                        <div className=\"opener2\"></div>\r\n                        <div className=\"opener3\"></div>\r\n                    </div>\r\n                    {/* <div className=\"addqueuebutton\" onClick={addAlbumToQueue}>\r\n                        {\r\n                            added ? `Added to queue` : `Add ${albumDetails.Album} to queue`\r\n                        }\r\n                    </div>  */}\r\n                </div>\r\n                <div className=\"table\">\r\n                    <div className=\"innertable\">\r\n                        <div className=\"titlerow\">\r\n                            <div className=\"hash\">#</div>\r\n                            <div className=\"nameofthesong\">TITLE</div>\r\n                            <div className=\"duration\">DURATION</div>\r\n                        </div>\r\n                        {\r\n                            albumDetails.Type === \"Album\" ?\r\n                            albumDetails.Tracks.sort(compare).map((song,i) => {\r\n                                return <SongRow song={song} index={i} type=\"Album\" album={albumDetails} albummainDiv={mainscreen}/>\r\n                            }) : \r\n                            <SongRow song={albumDetails} index={0} type=\"Single\" album={albumDetails}/>\r\n                        }\r\n                    </div>        \r\n                </div>\r\n                <div className=\"copyright1\">\r\n                    <img src={copyright} alt=\"\" />\r\n                    All the songs on Studio are pirated and we are aware of this being illegal.\r\n                </div>\r\n                <div className=\"copyright2\">\r\n                    <img src={copyright} alt=\"\" />\r\n                    We do not own any of the songs. This is just a project. Please do not sue us.\r\n                </div>\r\n                {/* <div className=\"dummy\"></div> */}\r\n                <ShowMoreAlbum moreAlbums={moreAlbums} albumartist={albumDetails.AlbumArtist}/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nconst SongRow = ({ song, index, type, album }) => {\r\n    const artistArr = song.Artist ? song.Artist.split(\", \") : [];\r\n    const [playing, setPlaying] = CustomUseState(playingGlobal);\r\n    const [albumSong, setAlbumForPlayer] = CustomUseState(albumGlobal);\r\n    const [queue, setQueue] = CustomUseState(queueGlobal);\r\n    const [songPaused, setSongPaused] = CustomUseState(songIsPausedGlobal);\r\n    const [hidden, setHide] = useState(true);\r\n    const [openerDetails, setOpenerDetails] = CustomUseState(openerGlobal);\r\n    const [,setResObj] = CustomUseState(responseBar);\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    actualIsOpen = openerDetails.open;\r\n    if (!actualIsOpen && isOpen) setIsOpen(false);\r\n\r\n\r\n    const setUpPlayer = (song) => {\r\n        if (!playing) setPlaying(true);\r\n        let newQueue = [];\r\n        if (album.Type === \"Album\") {\r\n            album.Tracks.forEach(each => {\r\n                each.Album = album.Album;\r\n                each.Color = album.Color;\r\n                each.Thumbnail = album.Thumbnail;\r\n            });\r\n            newQueue = album.Tracks;\r\n        }\r\n        if (album.Type === \"Single\") {\r\n            song.Color = album.Color;\r\n            song.Thumbnail = album.Thumbnail;\r\n            newQueue.push(song);\r\n        }\r\n        setQueue(newQueue);\r\n        localStorage.setItem(\"queue\",JSON.stringify(newQueue));\r\n        if (albumSong !== song) setSongPaused(true);\r\n        setAlbumForPlayer(song);\r\n    };\r\n\r\n    const addSongToQueue = () => {\r\n        if (album.Type === \"Album\") {\r\n            song.Album = album.Album;\r\n        }\r\n        song.Color = album.Color;\r\n        song.Thumbnail = album.Thumbnail;\r\n        song.Year = album.Year;\r\n        queue.push(song);\r\n        localStorage.setItem(\"queue\",JSON.stringify(queue));\r\n        setQueue(queue);\r\n        setResObj({ open: true, msg: `Added '${song.Title || song.Album}' to queue` });\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: false\r\n        });\r\n    };\r\n\r\n    const playNextInQueue = () => {\r\n        if (queue.length !== 0) {\r\n            if (album.Type === \"Album\") {\r\n                song.Album = album.Album;\r\n            }\r\n            song.Color = album.Color;\r\n            song.Thumbnail = album.Thumbnail;\r\n            song.Year = album.Year;\r\n            const index = queue.indexOf(albumSong);\r\n            queue.splice(index+1,0,song);\r\n            localStorage.setItem(\"queue\",JSON.stringify(queue));\r\n            setQueue(queue);\r\n            setResObj({ open: true, msg: `Playing '${song.Title || song.Album}' next` });\r\n        }\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: false\r\n        });\r\n    };\r\n\r\n    const isCurrentlyPlaying = () => {\r\n        const titleInSong = song.Title || false;\r\n        const titleInAlbumSong = albumSong.Title || false;\r\n        if (titleInSong && titleInAlbumSong) {\r\n            return song.Title === albumSong.Title;\r\n        } else if (!titleInSong && !titleInAlbumSong) {\r\n            return song.Album === albumSong.Album;\r\n        }\r\n    };\r\n\r\n    const handleSongMenu = (e) => {\r\n        e.stopPropagation();\r\n        setIsOpen(true);\r\n        setOpenerDetails({\r\n            open: !actualIsOpen,\r\n            yValue: e.clientY + 10,\r\n            xValue: e.clientX - 200,\r\n            type: \"song\",\r\n            data: [\r\n                {\r\n                    name: \"Add song to queue\",\r\n                    func: addSongToQueue\r\n                },\r\n                {\r\n                    name: \"Play next\",\r\n                    func: playNextInQueue\r\n                }\r\n            ]\r\n        });\r\n    };\r\n\r\n    const decide = () => {\r\n        if (isOpen && openerDetails.open) {\r\n            return false;\r\n        } else {\r\n            return hidden;\r\n        }\r\n    };\r\n\r\n\r\n    return(\r\n        <div className=\"songrow\" onClick={() => setUpPlayer(song)}\r\n        onMouseOver={() => setHide(false)} onMouseOut={() => setHide(true)}\r\n        style={{ backgroundColor: decide() ? \"transparent\" : \"rgba(255,255,255,0.1)\" }}>\r\n            <div className=\"number\">\r\n                {\r\n                    isCurrentlyPlaying() && !songPaused ?\r\n                    <div className=\"playinganim\">\r\n                        <div className=\"div1\"></div>\r\n                        <div className=\"div2\"></div>\r\n                        <div className=\"div3\"></div>\r\n                        <div className=\"div4\"></div>\r\n                    </div> : index+1\r\n                }\r\n            </div>\r\n            <div className=\"songname\">\r\n                <div className=\"song\" style={{ color: `${ isCurrentlyPlaying() && !songPaused ? \"aquamarine\" : \"white\" }` }}>\r\n                    {\r\n                        type === \"Album\" ? song.Title : song.Album\r\n                    }\r\n                </div>\r\n                <div className=\"artistlist\">\r\n                    {\r\n                        artistArr.map((artist,i) => {\r\n                            return(\r\n                                <>\r\n                                    <p className=\"artistpara\"\r\n                                    onMouseOver={(e) => checkArtist(artist,e,\"artist\")}>{artist}</p>\r\n                                    {\r\n                                        artistArr.length > 1 && i !== artistArr.length-1 ?\r\n                                        <div className=\"artistseparator\"></div> : \"\"\r\n                                    }\r\n                                </>\r\n                            );\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className=\"songduration\">\r\n                <div className={ decide() ? \"beforesongduration hidden\" : \"beforesongduration\" } onClick={handleSongMenu}>\r\n                    <div className=\"songopenercontrol\">\r\n                        <div className=\"songopener1\"></div>\r\n                        <div className=\"songopener2\"></div>\r\n                        <div className=\"songopener3\"></div>\r\n                    </div>\r\n                </div>\r\n                {song.Duration || \"\"}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nconst NewSongRow = ({ song, index, album, openerFunc }) => {\r\n    const [hovered, setHovered] = useState(false);\r\n    const [currentSong, setCurrentSong] = useContext(AlbumContext);\r\n    const [songPaused, setSongPaused] = useContext(SongIsPausedContext);\r\n    const [playing, setPlaying] = useContext(PlayerContext);\r\n    const [queue, setQueue] = useContext(QueueContext);\r\n    const [resp, setResp] = useContext(ResponseBarContext); \r\n\r\n    const isItSame = () => song._trackId === currentSong._trackId;\r\n\r\n    const setUpPlayer = (song) => {\r\n        if (isItSame()) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n\r\n        if (!playing) setPlaying(true);\r\n        const newQueue = [];\r\n        let playingSong;\r\n        if (album.Type === \"Album\") {\r\n            album.Tracks.forEach((each,i) => {\r\n                const obj = { ...each, ...album };\r\n                delete obj.Tracks;\r\n                obj.id = global.id = i;\r\n                if (obj._trackId === song._trackId) playingSong = obj;\r\n                newQueue.push(obj);\r\n            });\r\n        }\r\n        if (album.Type === \"Single\") {\r\n            newQueue.push(song);\r\n            playingSong = song;\r\n        }\r\n        setQueue(newQueue);\r\n        localStorage.setItem(\"queue\",JSON.stringify(newQueue));\r\n        setSongPaused(true);\r\n        setCurrentSong(playingSong);\r\n        // setResp({\r\n        //     ...resp,\r\n        //     open: true,\r\n        //     msg: `Playing '${song.Title || song.Album}' now`\r\n        // });\r\n    };\r\n\r\n    const playButton = () => {\r\n        // if (isItSame()) {\r\n        //     pauseOrPlay();\r\n        // }\r\n        // if (decidePlayOrPause()) {\r\n        //     pauseOrPlay();\r\n        // } else {\r\n        //     const main = album.Type === \"Album\" ? album.Tracks : [album];\r\n        //     if (!playing) setPlaying(true);\r\n        //     if (album.Type === \"Single\") {\r\n        //         setQueue(main);\r\n        //         setPlayingSong(main[0]);\r\n        //     } else {\r\n        //         main.forEach(song => {\r\n        //             song.Album = album.Album;\r\n        //             song.Thumbnail = album.Thumbnail;\r\n        //             song.Color = album.Color;\r\n        //             song.Year = album.Year;\r\n        //         });\r\n        //         setQueue(main);\r\n        //         setPlayingSong(main[0]);\r\n        //     }\r\n        //     localStorage.setItem(\"queue\",JSON.stringify(main));\r\n        //     setSongPaused(true);\r\n        // }\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        openerFunc(e, { dimensions, windowDim, song });\r\n    };\r\n\r\n    return(\r\n        <div className=\"newsongrow\" onMouseOver={() => setHovered(true)} onMouseOut={() => setHovered(false)}\r\n        style={{ backgroundColor: `${ isItSame() ? \"#202020\" : \"transparent\" }` }}>\r\n            <div className=\"outerindex\">\r\n                <img className={ hovered || isItSame() ? \"outerindeximg\" : \"outerindeximg hidden\" }\r\n                src={ isItSame() && !songPaused ? PauseWhite : PlayWhite} alt=\"\" onClick={() => setUpPlayer(song)}\r\n                title={ isItSame() && !songPaused ? \"Pause\" : \"Play\" } />\r\n                {\r\n                    !hovered && !isItSame() ?\r\n                    <div className=\"index\">{index+1}</div> : \"\"\r\n                }\r\n            </div>\r\n            <div className=\"songnameview\">\r\n                <div>{album.Type === \"Album\" ? song.Title : album.Album}</div>\r\n            </div>\r\n            <div className=\"artistnameview\">\r\n                <div>{album.Type === \"Album\" ? song.Artist : album.Artist}</div>\r\n            </div>\r\n            <div className=\"streams\"></div>\r\n            <div className=\"durationview\">\r\n                <div className=\"opener-container\">\r\n                    <div className={ hovered ? \"openercontrol\" : \"openercontrol hidden\" } style={{marginLeft: \"0px\"}}\r\n                    onClick={handleMenu}\r\n                    title=\"More Options\">\r\n                        <div className=\"opener1\"></div>\r\n                        <div className=\"opener2\"></div>\r\n                        <div className=\"opener3\"></div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"durationcontainer\">\r\n                    <div>{album.Type === \"Album\" ? song.Duration : album.Duration}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewActualAlbumView = () => {\r\n    const params = useParams();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [album, setAlbum] = useState({});\r\n    const [releaseDate, setReleaseDate] = useState(\"\");\r\n    const [playingSong, setPlayingSong] = useContext(AlbumContext);\r\n    const [openerDetails, setOpenerDetails] = useContext(MenuContext);\r\n    const [playing, setPlaying] = useContext(PlayerContext);\r\n    const [songPaused, setSongPaused] = useContext(SongIsPausedContext);\r\n    const [queue, setQueue] = useContext(QueueContext);\r\n    const [,setResObj] = useContext(ResponseBarContext);\r\n    const topDiv = useRef(null);\r\n    const hist = useHistory();\r\n    const currentLocation = useLocation();\r\n    const list = [\"tileopener\",\"tileopener1\",\"tileopener2\",\"tileopener3\"];\r\n    isOpen = openerDetails.open;\r\n\r\n\r\n    const decidePlayOrPause = () => playingSong._albumId === album._albumId;\r\n\r\n    const addAlbumToQueue = () => {\r\n        const main = album.Type === \"Album\" ? [ ...album.Tracks ] : { ...album };\r\n        const mainQueue = [ ...queue ];\r\n        const len = mainQueue.length;\r\n        if (len === 0) return;\r\n        if (album.Type === \"Single\") {\r\n            main.id = ++global.id;\r\n            mainQueue.push(main);\r\n            localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n            setQueue(mainQueue);\r\n            setResObj(prev => {\r\n                return { ...prev, open: true, msg: `Added single to queue` };\r\n            });\r\n        } else {\r\n            main.forEach(song => {\r\n                const obj = { ...song, ...album, id: ++global.id };\r\n                delete obj.Tracks;\r\n                mainQueue.push(obj);\r\n            });\r\n            localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n            setQueue(mainQueue);\r\n            setResObj(prev => {\r\n                return { ...prev, open: true, msg: `Added album to queue` };\r\n            });\r\n        }\r\n    };\r\n\r\n    const playAlbumNext = () => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        const len = queue.length;\r\n        if (len === 0) return;\r\n\r\n        const index = queue.indexOf(playingSong);\r\n        const mainQueue = [ ...queue ];\r\n        if (album.Type === \"Single\") {\r\n            album.id = ++global.id;\r\n            mainQueue.splice(index+1, 0, { ...album });\r\n        } else {\r\n            album.Tracks.forEach((song,i) => {\r\n                const obj = { ...song, ...album, id: ++global.id };\r\n                delete obj.Tracks;\r\n                mainQueue.splice(index+1+i, 0, obj);\r\n            });\r\n        }\r\n        localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n        setQueue(mainQueue);\r\n        setResObj(prev => {\r\n            return { ...prev, open: true, msg: `Playing ${album.Album} next` };\r\n        });\r\n        // setOpenerDetails(prev => {\r\n        //     return { ...prev, open: false };\r\n        // });\r\n    };\r\n\r\n    const goBack = () => hist.goBack();\r\n\r\n    const playButton = () => {\r\n        if (decidePlayOrPause()) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n\r\n        const main = album.Type === \"Album\" ? [ ...album.Tracks ] : { ...album };\r\n        if (!playing) setPlaying(true);\r\n        if (album.Type === \"Single\") {\r\n            main.id = global.id = 0;\r\n            setQueue([main]);\r\n            setPlayingSong(main);\r\n        } else {\r\n            for (let i=0; i<main.length; i++) {\r\n                const obj = { ...album };\r\n                delete obj.Tracks;\r\n                main[i].id = global.id = i;\r\n                main[i] = { ...main[i], ...obj };\r\n            }\r\n            setQueue(main);\r\n            setPlayingSong(main[0]);\r\n        }\r\n        localStorage.setItem(\"queue\",JSON.stringify(main));\r\n        setSongPaused(true);\r\n    };\r\n\r\n    const call = async () => {\r\n        const res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: `/getAlbumDetails?albumId=${params.albumId}`\r\n        });\r\n        if (res) {\r\n            setReleaseDate(dateToString(res.album.releaseDate));\r\n            setAlbum(res.album);\r\n            // setMoreAlbums(res.moreAlbums);\r\n            setIsLoading(false);\r\n            return;\r\n        }\r\n        hist.push(`${prefix}${basename}/homescreen`);\r\n    };\r\n\r\n    const addAndDisplay = () => {\r\n        let min = 0, sec = 0;\r\n        if (album.Type === \"Album\") {\r\n            album.Tracks.forEach(track => {\r\n                const dur = track.Duration.split(\": \");\r\n                min += parseInt(dur[0]);\r\n                sec += parseInt(dur[1]);\r\n            });\r\n            min += Math.floor(sec/60);\r\n            sec = sec%60;\r\n        } else {\r\n            const div = album.Duration.split(\": \");\r\n            min = parseFloat(div[0]);\r\n            sec = parseFloat(div[1]);\r\n        }\r\n        return `${min} minutes${ sec !== 0 ? ` ${sec} seconds` : `` }`;\r\n    };\r\n\r\n    const shareAlbum = () => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        setResObj(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                msg: \"Album link copied to clipboard\"\r\n            };\r\n        });\r\n        navigator.clipboard.writeText(`${sharingBaseLink}/album/${album._albumId}`);\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const data = [\r\n            {\r\n                name: `Play next in queue`,\r\n                func: playAlbumNext\r\n            },\r\n            {\r\n                name: \"Share album\",\r\n                func: shareAlbum\r\n            }\r\n        ];\r\n        setOpenerDetails(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                xValue: dimensions.x + 5,\r\n                yValue: dimensions.y + 5,\r\n                data\r\n            };\r\n        });\r\n    };\r\n\r\n    const addTrackToQueue = each => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        const dummy = [ ...queue ];\r\n        const len = dummy.length;\r\n        if (len === 0) return;\r\n\r\n        if (album.Type === \"Album\") {\r\n            const obj = { ...each, ...album };\r\n            delete obj.Tracks;\r\n            each = obj;\r\n        }\r\n        dummy[len] = { ...each, id: ++global.id };\r\n        setQueue(dummy);\r\n        setResObj(prev => {\r\n            return { ...prev, open: true, msg: `Added ${each.Title || each.Album} to queue` };\r\n        });\r\n    };\r\n\r\n    const playTrackNext = each => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        if (queue.length === 0) return;\r\n\r\n        // const curIndex = queue.indexOf(playingSong);\r\n        const curIndex = queue.findIndex(e => e.id === playingSong.id);\r\n        const dummy = [ ...queue ];\r\n        if (album.Type === \"Album\") {\r\n            const obj = { ...each, ...album };\r\n            delete obj.Tracks;\r\n            each = obj;\r\n        }\r\n        dummy.splice(curIndex+1, 0, { ...each, id: ++global.id });\r\n        setQueue(dummy);\r\n        setResObj(prev => {\r\n            return { ...prev, open: true, msg: `Playing ${each.Title || each.Album} next` };\r\n        });\r\n    };\r\n\r\n    const shareTrack = selectedSong => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        setResObj(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                msg: \"Track link copied to clipboard\"\r\n            };\r\n        });\r\n        navigator.clipboard.writeText(`${sharingBaseLink}/track/${album._albumId}/${selectedSong._trackId}`);\r\n    };\r\n\r\n    const handleEachMenu = (e, { dimensions, windowDim, song: selectedSong }) => {\r\n        e.stopPropagation();\r\n        const data = [\r\n            {\r\n                name: \"Add track to queue\",\r\n                func: () => addTrackToQueue(selectedSong)\r\n            },\r\n            {\r\n                name: \"Play track next\",\r\n                func: () => playTrackNext(selectedSong)\r\n            },\r\n            {\r\n                name: \"Share track\",\r\n                func: () => shareTrack(selectedSong)\r\n            }\r\n        ];\r\n        setOpenerDetails(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                xValue: checkX(dimensions.x, windowDim.width),\r\n                yValue: checkY(dimensions.y, windowDim.height, data.length),\r\n                data\r\n            };\r\n        });\r\n    };\r\n\r\n    const documentClick = e => {\r\n        if (!list.includes(e.target.className) && isOpen) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n    const documentScroll = e => {\r\n        if (isOpen) {\r\n            setOpenerDetails({\r\n                ...openerDetails,\r\n                open: false\r\n            });\r\n        }\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n    }, [currentLocation.pathname]);\r\n\r\n    useEffect(() => {\r\n        if (isLoading) {\r\n            call();\r\n        }\r\n        topDiv.current = document.querySelector(\".newalbum\");\r\n        // document.addEventListener(\"click\", documentClick);\r\n        // topDiv.current && topDiv.current.addEventListener(\"scroll\", documentScroll);\r\n        return () => {\r\n            // document.removeEventListener(\"click\", documentClick);\r\n            // topDiv.current && topDiv.current.removeEventListener(\"scroll\", documentScroll);\r\n        };\r\n    }, [isLoading]);\r\n\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>;\r\n    }\r\n    return (\r\n        <div className=\"newalbum\">\r\n            <div className=\"topalbumview\">\r\n                {/* <div className=\"backbuttoncontainer\">\r\n                    <div className=\"backbuttonview\" onClick={goBack}>\r\n                        <img src={BackButton} alt=\"\" />\r\n                    </div>\r\n                </div> */}\r\n                <div className=\"coverview\">\r\n                    <img src={album.Thumbnail} alt=\"\" />\r\n                </div>\r\n                <div className=\"detailsview\">\r\n                    <div className=\"innerdetailsview\">\r\n                        <div className=\"albumnameview\">{album.Album}</div>\r\n                        <div style={{width: \"100%\", height: \"10px\"}}></div>\r\n                        <div className=\"detailsoneview\">\r\n                            <div className=\"albumtype\">{album.Type}</div>\r\n                            <div className=\"content-separator\"><div></div></div>\r\n                            {\r\n                                album.AlbumArtist.split(\", \").length > 1 ? \r\n                                album.AlbumArtist.split(\", \").map((each,i) => {\r\n                                    return (\r\n                                        <>\r\n                                            <div className=\"albumartistview\">{each}</div>\r\n                                            {\r\n                                                i !== album.AlbumArtist.split(\", \").length-1 ?\r\n                                                <div className=\"content-separator\"><div></div></div> : \"\"\r\n                                            }\r\n                                        </>\r\n                                    );\r\n                                }) :\r\n                                <div className=\"albumartistview\">{album.AlbumArtist}</div>\r\n                            }\r\n                            <div className=\"content-separator\"><div></div></div>\r\n                            <div className=\"albumyear\">{album.Year}</div>\r\n                        </div>\r\n                        <div className=\"detailsoneview\">\r\n                            <div className=\"albumtype\">\r\n                                { album.Type === \"Single\" ? \"1 Song\" : album.Tracks.length > 1 ? `${album.Tracks.length} songs` : \"1 song\" }\r\n                            </div>\r\n                            <div className=\"content-separator\"><div></div></div>\r\n                            <div className=\"albumtype\">{addAndDisplay()}</div>\r\n                        </div>\r\n                        <div style={{width: \"100%\", height: \"10px\"}}></div>\r\n                        <div className=\"detailsoneview\">\r\n                            <div className=\"albumtype\">\r\n                                {releaseDate}\r\n                            </div>\r\n                        </div>\r\n                        <div style={{width: \"100%\", height: \"30px\"}}></div>\r\n                        <div className=\"buttonholder\">\r\n                            <Button className=\"playbuttonview\" onClick={playButton}>\r\n                                {\r\n                                    decidePlayOrPause() && !songPaused ?\r\n                                    <><img src={Pause} alt=\"\" /><p>PAUSE</p></> :\r\n                                    <><img src={Play} alt=\"\" /><p>PLAY</p></>\r\n                                }\r\n                            </Button>\r\n                            <Button className=\"addtoqueue\" onClick={addAlbumToQueue}>\r\n                                <img src={AddButton} alt=\"\" />\r\n                                ADD TO QUEUE\r\n                            </Button>\r\n                            <div className=\"opener-holder\">\r\n                                <div className=\"tileopener\" title=\"More Options\" onClick={handleMenu}>\r\n                                    <div className=\"tileopener1\"></div>\r\n                                    <div className=\"tileopener2\"></div>\r\n                                    <div className=\"tileopener3\"></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div style={{width: \"100%\", height: \"50px\"}}></div>\r\n            <div className=\"bottomalbumview\">\r\n                {\r\n                    album.Type === \"Single\" ?\r\n                    <NewSongRow song={album} index={0} album={album} openerFunc={handleEachMenu} /> :\r\n                    album.Tracks.map((each,i) => {\r\n                        return <NewSongRow song={each} index={i} album={album} openerFunc={handleEachMenu} />\r\n                    })\r\n                }\r\n            </div>\r\n            <div style={{width: \"100%\", height: \"20px\"}}></div>\r\n            <div className=\"copyright1\">\r\n                <img src={copyright} alt=\"\" />\r\n                {`All the songs on Studio Music ${String.fromCharCode(8482)} are pirated and we are aware of this being illegal.`}\r\n            </div>\r\n            <div className=\"copyright2\">\r\n                <img src={copyright} alt=\"\" />\r\n                We do not own any of the songs. This is just a project. Please do not sue us.\r\n            </div>\r\n            { playing ? <div style={{width: \"100%\", height: \"100px\"}}></div> : null }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n\r\nexport default NewActualAlbumView;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport \"../../../css/albumview.css\";\r\nimport Play from \"../../../assets/playbutton-black.svg\";\r\nimport Pause from \"../../../assets/pausebutton-black.svg\";\r\nimport AddButton from \"../../../assets/addbutton-black.svg\";\r\nimport copyright from \"../../../assets/copyright.png\";\r\nimport Button from \"../../../Button\";\r\nimport { pauseOrPlay } from \"../../../homepage\";\r\nimport { MidPanelLoader } from \"./index\";\r\nimport {\r\n    sendRequest,\r\n    prefix,\r\n    basename,\r\n    dateToString,\r\n    global,\r\n    sharingBaseLink\r\n} from \"../../../common\";\r\nimport {\r\n    SongIsPausedContext,\r\n    AlbumContext,\r\n    MenuContext,\r\n    PlayerContext,\r\n    ResponseBarContext,\r\n    QueueContext\r\n} from \"../../../index\";\r\n\r\n\r\nconst Trackview = () => {\r\n    const [track, setTrack] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [releaseDate, setReleaseDate] = useState(\"\");\r\n    const [songPaused, setSongPaused] = useContext(SongIsPausedContext);\r\n    const [playingSong, setPlayingSong] = useContext(AlbumContext);\r\n    const [, setOpenerDetails] = useContext(MenuContext);\r\n    const [,setResObj] = useContext(ResponseBarContext);\r\n    const [queue, setQueue] = useContext(QueueContext);\r\n    const [playing, setPlaying] = useContext(PlayerContext);\r\n    const params = useParams();\r\n    const hist = useHistory();\r\n\r\n    const decidePlayOrPause = () => playingSong._trackId === track._trackId;\r\n\r\n    const playButton = e => {\r\n        if (decidePlayOrPause()) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n\r\n        if (!playing) setPlaying(true);\r\n        const item = { ...track };\r\n        item.id = global.id = 0;\r\n        setQueue([ item ]);\r\n        localStorage.setItem(\"queue\",JSON.stringify([item]));\r\n        setSongPaused(true);\r\n        setPlayingSong(item);\r\n    };\r\n\r\n    const addTrackToQueue = e => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        const dummy = [ ...queue ];\r\n        const len = dummy.length;\r\n        if (len === 0) return;\r\n\r\n        dummy[len] = { ...track, id: ++global.id };\r\n        setQueue(dummy);\r\n        setResObj(prev => {\r\n            return { ...prev, open: true, msg: `Added ${track.Title} to queue` };\r\n        });\r\n    };\r\n\r\n    const playTrackNext = () => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        if (queue.length === 0) return;\r\n\r\n        const curIndex = queue.findIndex(e => e.id === playingSong.id);\r\n        const dummy = [ ...queue ];\r\n        dummy.splice(curIndex+1, 0, { ...track, id: ++global.id });\r\n        setQueue(dummy);\r\n        setResObj(prev => {\r\n            return { ...prev, open: true, msg: `Playing ${track.Title} next` };\r\n        });\r\n    };\r\n\r\n    const shareTrack = () => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        setResObj(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                msg: \"Track link copied to clipboard\"\r\n            };\r\n        });\r\n        navigator.clipboard.writeText(`${sharingBaseLink}/track/${track._albumId}/${track._trackId}`);\r\n    };\r\n\r\n    const goToAlbum = () => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        hist.push(`${prefix}${basename}/album/${track._albumId}`);\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const data = [\r\n            {\r\n                name: `Play next in queue`,\r\n                func: playTrackNext\r\n            },\r\n            {\r\n                name: \"Share track\",\r\n                func: shareTrack\r\n            },\r\n            {\r\n                name: \"Go to album\",\r\n                func: goToAlbum\r\n            }\r\n        ];\r\n        setOpenerDetails(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                xValue: dimensions.x + 5,\r\n                yValue: dimensions.y + 5,\r\n                data\r\n            };\r\n        });\r\n    };\r\n\r\n    const addAndDisplay = () => {\r\n        const div = track.Duration.split(\": \");\r\n        const min = parseFloat(div[0]);\r\n        const sec = parseFloat(div[1]);\r\n        return `${min} minutes${ sec !== 0 ? ` ${sec} seconds` : `` }`;\r\n    };\r\n\r\n    const call = async () => {\r\n        const res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: `/getTrack?albumId=${params.albumId}&trackId=${params.trackId}`\r\n        });\r\n        if (res && res.track) {\r\n            setTrack(res.track);\r\n            setReleaseDate(dateToString(res.track.releaseDate));\r\n            setIsLoading(false);\r\n            return;\r\n        }\r\n        hist.push(`${prefix}${basename}/homescreen`);\r\n    };\r\n\r\n    useEffect(() => {\r\n        call();\r\n    }, []);\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>;\r\n    }\r\n    return (\r\n        <div className=\"newalbum\">\r\n            <div className=\"topalbumview\">\r\n                <div className=\"coverview\">\r\n                    <img src={track.Thumbnail} alt=\"\" />\r\n                </div>\r\n                <div className=\"detailsview\">\r\n                    <div className=\"innerdetailsview\">\r\n                        <div className=\"albumnameview\">{track.Title || track.Album}</div>\r\n                        <div style={{width: \"100%\", height: \"10px\"}}></div>\r\n                        <div className=\"detailsoneview\">\r\n                            <div className=\"albumtype\">{track.Type}</div>\r\n                            <div className=\"content-separator\"><div></div></div>\r\n                            {\r\n                                track.Artist.split(\", \").length > 1 ? \r\n                                track.Artist.split(\", \").map((each,i) => {\r\n                                    return (\r\n                                        <>\r\n                                            <div className=\"albumartistview\">{each}</div>\r\n                                            {\r\n                                                i !== track.Artist.split(\", \").length-1 ?\r\n                                                <div className=\"content-separator\"><div></div></div> : \"\"\r\n                                            }\r\n                                        </>\r\n                                    );\r\n                                }) :\r\n                                <div className=\"albumartistview\">{track.Artist}</div>\r\n                            }\r\n                            <div className=\"content-separator\"><div></div></div>\r\n                            <div className=\"albumyear\">{track.Year}</div>\r\n                        </div>\r\n                        <div className=\"detailsoneview\">\r\n                            <div className=\"albumtype\">\r\n                                {\"1 Song\"}\r\n                            </div>\r\n                            <div className=\"content-separator\"><div></div></div>\r\n                            <div className=\"albumtype\">{addAndDisplay()}</div>\r\n                        </div>\r\n                        <div style={{width: \"100%\", height: \"10px\"}}></div>\r\n                        <div className=\"detailsoneview\">\r\n                            <div className=\"albumtype\">\r\n                                {releaseDate}\r\n                            </div>\r\n                        </div>\r\n                        <div style={{width: \"100%\", height: \"30px\"}}></div>\r\n                        <div className=\"buttonholder\">\r\n                            <Button className=\"playbuttonview\" onClick={playButton}>\r\n                                {\r\n                                    decidePlayOrPause() && !songPaused ?\r\n                                    <><img src={Pause} alt=\"\" /><p>PAUSE</p></> :\r\n                                    <><img src={Play} alt=\"\" /><p>PLAY</p></>\r\n                                }\r\n                            </Button>\r\n                            <Button className=\"addtoqueue\" onClick={addTrackToQueue}>\r\n                                <img src={AddButton} alt=\"\" />\r\n                                ADD TO QUEUE\r\n                            </Button>\r\n                            <div className=\"opener-holder\">\r\n                                <div className=\"tileopener\" title=\"More Options\" onClick={handleMenu}>\r\n                                    <div className=\"tileopener1\"></div>\r\n                                    <div className=\"tileopener2\"></div>\r\n                                    <div className=\"tileopener3\"></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div style={{width: \"100%\", height: \"50px\"}}></div>\r\n            <div style={{width: \"100%\", height: \"20px\"}}></div>\r\n            <div className=\"copyright1\">\r\n                <img src={copyright} alt=\"\" />\r\n                {`All the songs on Studio Music ${String.fromCharCode(8482)} are pirated and we are aware of this being illegal.`}\r\n            </div>\r\n            <div className=\"copyright2\">\r\n                <img src={copyright} alt=\"\" />\r\n                We do not own any of the songs. This is just a project. Please do not sue us.\r\n            </div>\r\n            { playing ? <div style={{width: \"100%\", height: \"100px\"}}></div> : null }\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Trackview;","import React, { useState, useEffect } from \"react\";\r\nimport \"../../../css/radiostyles.css\";\r\nimport {\r\n    CustomUseState,\r\n    radioGlobal,\r\n    playingGlobal,\r\n    queueGlobal,\r\n    albumGlobal,\r\n    queueOpenedGlobal,\r\n    // topBarGlobal,\r\n    sendRequest\r\n} from \"../../../common\";\r\nimport { MidPanelLoader } from \"./index\";\r\nimport Queue from \"./Queue\";\r\n\r\n\r\nconst ActualRadio = () => {\r\n    const [isRadioOn,] = CustomUseState(radioGlobal);\r\n    // const [song, setSong] = CustomUseState(albumGlobal);\r\n    const [queue, setQueue] = CustomUseState(queueGlobal);\r\n    // const [, setPlaying] = CustomUseState(playingGlobal);\r\n    // const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    const decide = (color) => {\r\n        color = color.split(\",\");\r\n        color[3] = \"0.5)\";\r\n        color = color.join(\",\");\r\n        return color;\r\n    };\r\n\r\n    const call = async () => {\r\n        const res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: `/shuffle`\r\n        });\r\n        setQueue(res);\r\n        setIsLoading(false);\r\n        // setPlaying(true);\r\n        // setSong(res.data[0]);\r\n        // setRadioOn(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!isRadioOn) {\r\n            call();\r\n        } else {\r\n            setIsLoading(false);\r\n        }\r\n        // setTopBarConfig({\r\n        //     buttonFunc: () => {},\r\n        //     title: \"\",\r\n        //     bgColor: \"transparent\",\r\n        //     button: false\r\n        // });\r\n    }, []);\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        <div className=\"radio\"\r\n        // style={{ backgroundColor: `${decide(queue[1].Color)}` }}\r\n        >\r\n            <div className=\"topdiv\">\r\n                <div className=\"firstalbum\">\r\n                    <img src={queue[0].Thumbnail} alt=\"\"/>\r\n                </div>\r\n                <div className=\"mainalbum\">\r\n                    <img src={queue[1].Thumbnail} alt=\"\"/>\r\n                </div>\r\n                <div className=\"secondalbum\">\r\n                    <img src={queue[2].Thumbnail} alt=\"\"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Radio = () => {\r\n    const [queueOpened,] = CustomUseState(queueOpenedGlobal);\r\n\r\n    if (queueOpened) {\r\n        return <Queue/>\r\n    }\r\n    return <ActualRadio/>\r\n};\r\n\r\n\r\nexport default Radio;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport \"../../../css/searchstyles.css\";\r\nimport \"../../../css/homestyles.css\";\r\nimport \"../../../css/hometeststyles.css\";\r\nimport SearchIcon from \"../../../assets/searchicon.svg\";\r\nimport Close from \"../../../assets/blackclose.png\";\r\nimport Play from \"../../../assets/playbutton-white.svg\";\r\nimport Pause from \"../../../assets/pausebutton-white.svg\";\r\nimport {\r\n    sendRequest,\r\n    queueOpenedGlobal,\r\n    CustomUseState,\r\n    searchBarGlobal,\r\n    searchInputGlobal,\r\n    topBarGlobal,\r\n    topBgColorGlobal,\r\n    albumGlobal,\r\n    songIsPausedGlobal,\r\n    openerGlobal,\r\n    checkX,\r\n    checkY,\r\n    prefix,\r\n    basename,\r\n    playingGlobal,\r\n    queueGlobal,\r\n    responseBar,\r\n    global,\r\n    sharingBaseLink\r\n} from \"../../../common\";\r\nimport Queue from \"./Queue\";\r\nimport Button from \"../../../Button\";\r\nimport { MidPanelLoader } from \"./index\";\r\nimport { HorizontalList } from \"./HomeScreen\";\r\nimport { pauseOrPlay } from \"../../index\";\r\nimport {\r\n    AlbumContext,\r\n    MenuContext,\r\n    PlayerContext,\r\n    QueueContext,\r\n    ResponseBarContext,\r\n    SearchInputContext,\r\n    SongIsPausedContext\r\n} from \"../../../index\";\r\nlet timeout = undefined, searchBar, topBar, topBgColorLocal, setcolor = false;\r\n\r\n\r\n\r\nconst InnerSongList = ({ obj }) => {\r\n    const [hidden, setHidden] = useState(true);\r\n\r\n    const decide = () => {\r\n        if (hidden) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    return(\r\n        <div className=\"leftlist\" onMouseOver={() => setHidden(false)} onMouseOut={() => setHidden(true)}\r\n        style={{ backgroundColor: decide() ? \"#181818\" : \"rgba(255,255,255,0.1)\" }}>\r\n            <div className=\"leftalbumart\">\r\n                {/* <div className=\"innerleftalbumart\"> */}\r\n                    <img src={obj.Thumbnail} alt=\"\" />\r\n                {/* </div> */}\r\n            </div>\r\n            <div className=\"names\">\r\n                <div className=\"songtitlename\">{obj.Title || obj.Album}</div>\r\n                <div className=\"songartist\">{obj.Artist}</div>\r\n            </div>\r\n            <div className={ decide() ? \"songplay hidden\" : \"songplay\" }>\r\n                <div className=\"innersongplay\">\r\n                    <img src={Play} alt=\"\" className=\"img\"/>\r\n                </div>\r\n            </div>\r\n            <div className={ decide() ? \"beforesongresult hidden\" : \"beforesongresult\" }>\r\n                <div className=\"customopener\">\r\n                    <div className=\"opener1\"></div>\r\n                    <div className=\"opener2\"></div>\r\n                    <div className=\"opener3\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst SongList = ({ list }) => {\r\n    return(\r\n        <div className=\"songlist\">\r\n            {\r\n                list.map(each => {\r\n                    return <InnerSongList obj={each} />;\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Each = ({ each }) => {\r\n    const [hover, setHover] = useState(false);\r\n    // let hoverLocal = hover;\r\n\r\n    const lessen = (value) => {\r\n        let colors = each.Color.split(\",\");\r\n        colors[3] = `${value})`;\r\n        colors = colors.join(\",\");\r\n        return colors;\r\n    };\r\n\r\n    return(\r\n        <div className=\"eachitem\">\r\n            <div className=\"songitem\"\r\n            // style={{ backgroundColor: `${ hover ? lessen(0.1) : lessen(0.7) }` }}\r\n            // style={{ backgroundImage: `url(${each.Thumbnail})`, backgroundSize: \"cover\" }}\r\n            onMouseOver={() => setHover(true)}\r\n            onMouseOut={() => setHover(false)}\r\n            >\r\n                <div className=\"innersongitem\"\r\n                style={{ backgroundImage: `url(${each.Thumbnail})`, backgroundSize: \"cover\" }}\r\n                >\r\n                    <div className=\"fullscreen\"\r\n                    style={{ backgroundColor: `${ hover ? \"rgba(0,0,0,0.4)\" : \"rgba(0,0,0,0.7)\" }` }}>\r\n                        <div className=\"actualcontents\">\r\n                            {/* <img src={each.Thumbnail} className=\"itemart\" alt=\"\" /> */}\r\n                            <div className=\"itemalbum\">{each.Album}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst RecommendedRow = ({ row }) => {\r\n    return(\r\n        <div className=\"recommendedrow\">\r\n            {\r\n                row.map(each => {\r\n                    return(\r\n                        <Each each={each} />\r\n                    );\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ActualSearch = () => {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [searchConfig, setSearchConfig] = CustomUseState(searchBarGlobal);\r\n    const [topBarConfig, setTopBarConfig] = CustomUseState(topBarGlobal);\r\n    const [topBgColor, setTopBgColor] = CustomUseState(topBgColorGlobal);\r\n    const [recents, setRecents] = useState([]);\r\n    const [recommended, setRecommended] = useState({});\r\n    searchBar = searchConfig;\r\n    topBar = topBarConfig;\r\n    topBgColorLocal = topBgColor;\r\n    let { result, input, callLoading } = searchBar;\r\n\r\n    const recentSearches = async () => {\r\n        const res = await sendRequest({\r\n            method: \"GET\",\r\n            endpoint: \"/getRecentSearch\"\r\n        });\r\n        setIsLoading(false);\r\n        setRecents(res.recents);\r\n        setRecommended(res.recommended);\r\n        // setTopBarConfig({\r\n        //     ...topBar,\r\n        //     // bgColor: \"#121212\"\r\n        //     bgColor: topBgColor\r\n        // });\r\n    };\r\n\r\n    const closeFunc = async (item) => {\r\n        const res = await sendRequest({\r\n            method: \"POST\",\r\n            endpoint: \"/removeFromRecents\",\r\n            data: {\r\n                item\r\n            }\r\n        });\r\n    };\r\n\r\n    const scrollHandler = (e) => {\r\n        const top = e.currentTarget.scrollTop;\r\n        if (top > 100 && !setcolor) {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                bgColor: topBgColorLocal\r\n            });\r\n            setcolor = true;\r\n        }\r\n        if (top < 100 && setcolor) {\r\n            setTopBarConfig({\r\n                ...topBar,\r\n                // bgColor: \"#121212\"\r\n                bgColor: \"transparent\"\r\n            });\r\n            setcolor = false;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        setSearchConfig({\r\n            ...searchBar,\r\n            show: true,\r\n            // input: \"\",\r\n            result: {}\r\n        });\r\n        setTopBarConfig({\r\n            ...topBar,\r\n            // bgColor: \"#121212\"\r\n            bgColor: \"transparent\"\r\n        });\r\n        recentSearches();\r\n        return () => {\r\n            setSearchConfig({\r\n                ...searchBar,\r\n                input: \"\",\r\n                show: false,\r\n                callLoading: false\r\n            });\r\n\r\n        }\r\n    },[]);\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        <div className=\"searchmain\" onScroll={scrollHandler}>\r\n            <div className=\"librarytop\"\r\n            style={{ backgroundColor: topBgColor }}\r\n            >\r\n                <div className=\"innerlibrarytop\">\r\n                    <div className=\"forblur\"></div>\r\n                    <div className=\"bigtitle\">Search</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"noncolour\">\r\n            {\r\n                callLoading ? <MidPanelLoader/> : \"\"\r\n            }\r\n            {\r\n                recents.length !== 0 && !callLoading && input === \"\" ?\r\n                <>\r\n                    <div style={{ width: \"100%\", height: \"10px\" }}/>\r\n                    <div className=\"outline\">\r\n                        <div className=\"maintitle\">\r\n                            <p>Recent Searches</p>\r\n                            <div className=\"viewmore\">\r\n                                <p>Clear All</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"list\">\r\n                            <HorizontalList list={recents} addCloseButton={true} closeFunc={closeFunc}/>\r\n                        </div>\r\n                    </div>\r\n                </> : \"\"\r\n            }\r\n            {\r\n                Object.keys(recommended).length !== 0 && !callLoading && input === \"\" ?\r\n                <div className=\"outline\">\r\n                    <div className=\"maintitle\">\r\n                        <p>Recommended</p>\r\n                    </div>\r\n                    <div style={{ width: \"100%\", height: \"0px\" }}></div>\r\n                    {/* {\r\n                        Object.keys(recommended).map(row => {\r\n                            return(\r\n                                <RecommendedRow row={recommended[row]} />\r\n                            );\r\n                        })\r\n                    } */}\r\n                    {\r\n                        Object.keys(recommended).map(each => {\r\n                            return(\r\n                                <div className=\"list\">\r\n                                    <HorizontalList list={recommended[each]} />\r\n                                </div>\r\n                            );\r\n                        })\r\n                    }\r\n                </div> : \"\"\r\n            }\r\n            {\r\n                result.noResults && !callLoading && input !== \"\" ?\r\n                <div className=\"noresults\">No results found for \"{input}\"</div> : \"\"\r\n            }\r\n            {   \r\n                Object.keys(result).length > 1 && input !== \"\" ?\r\n                <div className=\"smain\">\r\n                    <div className=\"outline\">\r\n                        {\r\n                            Object.keys(result.songs).length !== 0 ?\r\n                            <div className=\"maintitle\">\r\n                                <p>Songs</p>\r\n                            </div> : \"\"\r\n                        }\r\n                        {   \r\n                            Object.keys(result.songs).map(each => {\r\n                                return(\r\n                                    // <div className=\"list\">\r\n                                        <SongList list={result.songs[each]}/>\r\n                                    // </div>\r\n                                );\r\n                            })\r\n                        }\r\n                        {\r\n                            Object.keys(result.albums).length !== 0 ?\r\n                            <div style={{ width: \"100%\", height: \"15px\" }}></div> : \"\"\r\n                        }\r\n                        {\r\n                            Object.keys(result.albums).length !== 0 ?\r\n                            <div className=\"maintitle\">\r\n                                <p>Albums</p>\r\n                            </div> : \"\"\r\n                        }\r\n                        {   \r\n                            Object.keys(result.albums).map(each => {\r\n                                return(\r\n                                    <div className=\"list\">\r\n                                        <HorizontalList list={result.albums[each]}/>\r\n                                    </div>\r\n                                );\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div> \r\n                : \"\"\r\n            }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n\r\nconst EachInSongList = ({\r\n    song,\r\n    playingSong,\r\n    setPlayingSong,\r\n    songIsPaused,\r\n    openerFunc,\r\n    playing,\r\n    setPlaying,\r\n    setSongIsPaused,\r\n    setQueue,\r\n    openerDetails,\r\n    setOpenerDetails\r\n}) => {\r\n    const [hovered, setHovered] = useState(false);\r\n\r\n    const determine = () => playingSong._trackId === song._trackId;\r\n\r\n    const handlePlayPause = e => {\r\n        e.stopPropagation();\r\n        if (openerDetails.open) {\r\n            setOpenerDetails({ ...openerDetails, open: false });\r\n        }\r\n        if (determine()) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n        const main = { ...song };\r\n        if (!playing) setPlaying(true);\r\n        main.id = global.id = 0;\r\n        setQueue([main]);\r\n        setPlayingSong(main);\r\n        localStorage.setItem(\"queue\",JSON.stringify([main]));\r\n        setSongIsPaused(true);\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        openerFunc(e, { dimensions, windowDim, song });\r\n    };\r\n\r\n    return(\r\n        <div className=\"each-list-song\" onMouseOver={() => setHovered(true)} onMouseOut={() => setHovered(false)}\r\n        style={{ backgroundColor: `${ determine() ? \"#202020\" : \"\" }` }}\r\n        >\r\n            <div className=\"each-list-song-cover\">\r\n                <div className=\"each-list-song-cover-inner\">\r\n                    <img className=\"each-list-song-cover-inner-img\" src={song.Thumbnail} alt=\"\" />\r\n                    <div className=\"each-song-dummyshadow\">\r\n                        <Button className=\"each-button\" onClick={handlePlayPause}>\r\n                            {\r\n                                determine() ?\r\n                                <img src={ songIsPaused ? Play : Pause } alt=\"\" /> :\r\n                                <img src={Play} alt=\"\" />\r\n                            }\r\n                        </Button>\r\n                    </div>\r\n                    {\r\n                        !hovered && determine() ? \r\n                        <div className=\"anim-cover\">\r\n                            {\r\n                                !songIsPaused ?\r\n                                <div className=\"playinganim\">\r\n                                    <div className=\"div1\"></div>\r\n                                    <div className=\"div2\"></div>\r\n                                    <div className=\"div3\"></div>\r\n                                    <div className=\"div4\"></div>\r\n                                </div> : \r\n                                <div className=\"pausedanim\">\r\n                                    <div className=\"div5\"></div>\r\n                                    <div className=\"div6\"></div>\r\n                                    <div className=\"div7\"></div>\r\n                                    <div className=\"div8\"></div>\r\n                                </div> \r\n                            }\r\n                        </div> : null\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className={ hovered ? \"each-list-song-details short\" : \"each-list-song-details\" }>\r\n                <div className=\"each-list-song-title\">{song.Title || song.Album}</div>\r\n                <div className=\"each-list-song-below\">\r\n                    <p>Song</p>\r\n                    <div className=\"search-separator\"><div></div></div>\r\n                    <p>{song.Artist}</p>\r\n                    <div className=\"search-separator\"><div></div></div>\r\n                    <p>{song.Album}</p>\r\n                    <div className=\"search-separator\"><div></div></div>\r\n                    <p>{song.Duration}</p>\r\n                </div>\r\n            </div>\r\n            <div className={ hovered ? \"each-list-opener\" : \"each-list-opener hidden\" }>\r\n                <div className=\"tileopener\" onClick={handleMenu}>\r\n                    <div className=\"tileopener1\"></div>\r\n                    <div className=\"tileopener2\"></div>\r\n                    <div className=\"tileopener3\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst EachInAlbumList = ({\r\n    album,\r\n    playingSong,\r\n    setPlayingSong,\r\n    songIsPaused,\r\n    setSongIsPaused,\r\n    openerFunc,\r\n    playing,\r\n    setPlaying,\r\n    setQueue,\r\n    openerDetails,\r\n    setOpenerDetails\r\n}) => {\r\n    const hist = useHistory();\r\n    const [hovered, setHovered] = useState(false);\r\n\r\n    const display = e => {\r\n        setTimeout(() => {\r\n            hist.push(`${prefix}${basename}/album/${album._albumId}`);\r\n        },500);\r\n    };\r\n\r\n    const determine = () => playingSong._albumId === album._albumId;\r\n\r\n    const handlePlayPause = e => {\r\n        e.stopPropagation();\r\n        if (openerDetails.open) {\r\n            setOpenerDetails({ ...openerDetails, open: false });\r\n        }\r\n        if (determine()) {\r\n            pauseOrPlay();\r\n            return;\r\n        }\r\n        const main = album.Type === \"Album\" ? [ ...album.Tracks ] : { ...album };\r\n        if (!playing) setPlaying(true);\r\n        if (album.Type === \"Single\") {\r\n            main.id = global.id = 0;\r\n            setQueue([main]);\r\n            setPlayingSong(main);\r\n        } else {\r\n            for (let i=0; i<main.length; i++) {\r\n                const obj = { ...main[i], ...album };\r\n                obj.id = global.id = i;\r\n                delete obj.Tracks;\r\n                main[i] = obj;\r\n            }\r\n            setQueue(main);\r\n            setPlayingSong(main[0]);\r\n        }\r\n        localStorage.setItem(\"queue\",JSON.stringify(main));\r\n        setSongIsPaused(true);\r\n    };\r\n\r\n    const handleMenu = e => {\r\n        e.stopPropagation();\r\n        const dimensions = { x: e.clientX, y: e.clientY };\r\n        const windowDim = { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight };\r\n        openerFunc(e, { dimensions, windowDim, song: album });\r\n    };\r\n\r\n    return(\r\n        <Button className=\"each-album-button\" onClick={display}>\r\n        <div className=\"each-list-song\" onMouseOver={() => setHovered(true)} onMouseOut={() => setHovered(false)}\r\n        // style={{ backgroundColor: `${ hovered ? \"#202020\" : \"\" }` }}\r\n        >\r\n            <div className=\"each-list-song-cover\">\r\n                <div className=\"each-list-song-cover-inner\">\r\n                    <img className=\"each-list-song-cover-inner-img\" src={album.Thumbnail} alt=\"\" />\r\n                    <div className=\"each-song-dummyshadow\">\r\n                        <Button className=\"each-button\" onClick={handlePlayPause}>\r\n                            {\r\n                                determine() ?\r\n                                <img src={ songIsPaused ? Play : Pause } alt=\"\" /> :\r\n                                <img src={Play} alt=\"\" />\r\n                            }\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={ hovered ? \"each-list-song-details short\" : \"each-list-song-details\" }>\r\n                <div className=\"each-list-song-title\">{album.Title || album.Album}</div>\r\n                <div className=\"each-list-song-below\">\r\n                    <p>{album.Type}</p>\r\n                    <div className=\"search-separator\"><div></div></div>\r\n                    <p>{album.AlbumArtist}</p>\r\n                    <div className=\"search-separator\"><div></div></div>\r\n                    <p>{album.Year}</p>\r\n                </div>\r\n            </div>\r\n            <div className={ hovered ? \"each-list-opener\" : \"each-list-opener hidden\" }>\r\n                <div className=\"tileopener\" onClick={handleMenu}>\r\n                    <div className=\"tileopener1\"></div>\r\n                    <div className=\"tileopener2\"></div>\r\n                    <div className=\"tileopener3\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </Button>\r\n    );\r\n    // return(\r\n    //     <div className=\"each-list-album\">\r\n    //         <div className=\"each-list-album-inner\">\r\n    //             <Button className=\"eachartcover\" onClick={display} title={album.Album}>\r\n    //                 <div className=\"eachshadow\"></div>\r\n    //                 <div className={ (playingSong.Album === album.Album) ? \"showplaybuttonfixed\" : \"showplaybutton\" }>\r\n    //                     <Button className=\"innerplaybutton\" onClick={handlePlayPause}\r\n    //                     title={ (!songIsPaused && playingSong.Album === album.Album) ? \"Pause\" : \"Play\" } >\r\n    //                         <img src={ (!songIsPaused && playingSong.Album === album.Album) ? Pause : Play } alt=\"\" />\r\n    //                     </Button>\r\n    //                 </div>\r\n    //                 <div className=\"library-opener\" onClick={handleMenu} title=\"More Options\">\r\n    //                     <div className=\"library-opener1\"></div>\r\n    //                     <div className=\"library-opener2\"></div>\r\n    //                     <div className=\"library-opener3\"></div>\r\n    //                 </div>\r\n    //                 <img src={album.Thumbnail} alt=\"\" className=\"eachalbumart\" />\r\n    //             </Button>\r\n    //             <div className=\"eachalbumname\" onClick={display}>{album.Album}</div>\r\n    //             <span className=\"eachbottom\">\r\n    //                 <span>{album.AlbumArtist}</span>\r\n    //             </span>\r\n    //         </div>\r\n    //     </div>\r\n    // );\r\n};\r\n\r\nconst SongsList = ({ songs, openerFunc, openerDetails, setOpenerDetails }) => {\r\n    const [playingSong, setPlayingSong] = useContext(AlbumContext);\r\n    const [songIsPaused, setSongIsPaused] = useContext(SongIsPausedContext);\r\n    const [playing, setPlaying] = useContext(PlayerContext);\r\n    const [,setQueue] = useContext(QueueContext);\r\n\r\n    return(\r\n        <div className=\"songs-list\">\r\n            <div className=\"songs-list-title\">Songs</div>\r\n            <div className=\"songs-list-container\">\r\n                {\r\n                    songs.map(each => {\r\n                        return <EachInSongList song={each} playingSong={playingSong} setPlayingSong={setPlayingSong}\r\n                                songIsPaused={songIsPaused} openerFunc={openerFunc} playing={playing} setPlaying={setPlaying}\r\n                                setSongIsPaused={setSongIsPaused} setQueue={setQueue}\r\n                                openerDetails={openerDetails} setOpenerDetails={setOpenerDetails} />;\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst AlbumsList = ({ albums, openerFunc, openerDetails, setOpenerDetails }) => {\r\n    const [playingSong, setPlayingSong] = useContext(AlbumContext);\r\n    const [songIsPaused, setSongIsPaused] = useContext(SongIsPausedContext);\r\n    const [playing, setPlaying] = useContext(PlayerContext);\r\n    const [,setQueue] = useContext(QueueContext);\r\n\r\n    return(\r\n        <div className=\"songs-list\">\r\n            <div className=\"songs-list-title\">Albums</div>\r\n            {/* <div className=\"albums-list-grid\"> */}\r\n            <div className=\"albums-list-container\">\r\n                {\r\n                    albums.map(each => {\r\n                        return <EachInAlbumList album={each} playingSong={playingSong} setPlayingSong={setPlayingSong}\r\n                                songIsPaused={songIsPaused} playing={playing} setPlaying={setPlaying}\r\n                                setSongIsPaused={setSongIsPaused} setQueue={setQueue} openerFunc={openerFunc}\r\n                                openerDetails={openerDetails} setOpenerDetails={setOpenerDetails} />;\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst NewSearch = () => {\r\n    const [playingSong, setPlayingSong] = useContext(AlbumContext);\r\n    const [input,] = useContext(SearchInputContext);\r\n    const [openerDetails, setOpenerDetails] = useContext(MenuContext);\r\n    const [queue, setQueue] = useContext(QueueContext);\r\n    const [, setResObj] = useContext(ResponseBarContext);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [songsList, setSongsList] = useState([]);\r\n    const [albumsList, setAlbumsList] = useState([]);\r\n    const hist = useHistory();\r\n    const location = useLocation();\r\n\r\n    const call = async () => {\r\n        const searchValue = location.search.replace(\"q\",\"name\");\r\n        const res = await sendRequest({\r\n            method: \"GET\",\r\n            // endpoint: `/search?name=${input}`\r\n            endpoint: `/search${searchValue}`\r\n        });\r\n        setSongsList(res.songs);\r\n        setAlbumsList(res.albums);\r\n        setIsLoading(false);\r\n    };\r\n\r\n    const addTrackToQueue = (song) => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        const dummy = [ ...queue ];\r\n        const len = dummy.length;\r\n        if (len === 0) return;\r\n\r\n        dummy[len] = { ...song, id: ++global.id };\r\n        setQueue(dummy);\r\n        setResObj(prev => {\r\n            return { ...prev, open: true, msg: `Added ${song.Title || song.Album} to queue` };\r\n        });\r\n    };\r\n\r\n    const playTrackNext = (song) => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        if (queue.length === 0) return;\r\n\r\n        const curIndex = queue.indexOf(playingSong);\r\n        const dummy = [ ...queue ];\r\n        dummy.splice(curIndex+1, 0, { ...song, id: ++global.id });\r\n        setQueue(dummy);\r\n        setResObj({ open: true, msg: `Playing ${song.Title || song.Album} next` });\r\n    };\r\n\r\n    const goToAlbum = (song) => {\r\n        setOpenerDetails({ ...openerDetails, open: false });\r\n        hist.push(`${prefix}${basename}/album/${song._albumId}`);\r\n    };\r\n\r\n    const shareTrack = song => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        setResObj(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                msg: \"Track link copied to clipboard\"\r\n            };\r\n        });\r\n        navigator.clipboard.writeText(`${sharingBaseLink}/track/${song._albumId}/${song._trackId}`);\r\n    };\r\n\r\n    const handleSongMenu = (e, { dimensions, windowDim, song: album }) => {\r\n        const data = [\r\n            {\r\n                name: \"Add to queue\",\r\n                func: () => addTrackToQueue(album)\r\n            },\r\n            {\r\n                name: \"Play next\",\r\n                func: () => playTrackNext(album)\r\n            },\r\n            {\r\n                name: \"Go to album\",\r\n                func: () => goToAlbum(album)\r\n            },\r\n            {\r\n                name: \"Share track\",\r\n                func: () => shareTrack(album)\r\n            }\r\n            // {\r\n            //     name: \"Start radio\",\r\n            //     func: () => {}\r\n            // }\r\n        ];\r\n        e.stopPropagation();\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: true,\r\n            xValue: checkX(dimensions.x, windowDim.width),\r\n            yValue: checkY(dimensions.y, windowDim.height, data.length),\r\n            data\r\n        });\r\n    };\r\n\r\n    const addAlbumToQueue = (album) => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        const main = album.Type === \"Album\" ? album.Tracks : { ...album };\r\n        const mainQueue = [ ...queue ];\r\n        const len = mainQueue.length;\r\n        if (len === 0) return;\r\n\r\n        if (album.Type === \"Single\") {\r\n            main.id = ++global.id;\r\n            mainQueue.push(main);\r\n            localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n            setQueue(mainQueue);\r\n            setResObj({ open: true, msg: `Added single to queue` });\r\n        } else {\r\n            const newmain = [ ...main ];\r\n            newmain.forEach(song => {\r\n                const obj = { ...song, ...album, id: ++global.id };\r\n                delete obj.Tracks;\r\n                mainQueue.push(obj);\r\n            });\r\n            localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n            setQueue(mainQueue);\r\n            setResObj({ open: true, msg: `Added album to queue` });\r\n        }\r\n    };\r\n\r\n    const playAlbumNext = (album) => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        const len = queue.length;\r\n        if (len === 0) return;\r\n\r\n        const index = queue.indexOf(playingSong);\r\n        const mainQueue = [ ...queue ];\r\n        if (album.Type === \"Single\") {\r\n            album.id = ++global.id;\r\n            mainQueue.splice(index+1, 0, { ...album });\r\n        } else {\r\n            const tracks = album.Tracks || [];\r\n            [ ...tracks ].forEach((song,i) => {\r\n                const obj = { ...song, ...album, id: ++global.id };\r\n                delete obj.Tracks;\r\n                mainQueue.splice(index+1+i, 0, obj);\r\n            });\r\n        }\r\n        localStorage.setItem(\"queue\",JSON.stringify(mainQueue));\r\n        setQueue(mainQueue);\r\n        setResObj({ open: true, msg: `Playing ${album.Album} next` });\r\n    };\r\n\r\n    const shareAlbum = item => {\r\n        setOpenerDetails(prev => {\r\n            return { ...prev, open: false };\r\n        });\r\n        setResObj(prev => {\r\n            return {\r\n                ...prev,\r\n                open: true,\r\n                msg: \"Album link copied to clipboard\"\r\n            };\r\n        });\r\n        navigator.clipboard.writeText(`${sharingBaseLink}/album/${item._albumId}`);\r\n    };\r\n\r\n    const handleAlbumMenu = (e, { dimensions, windowDim, song: album }) => {\r\n        const data = [\r\n            {\r\n                name: \"Add to queue\",\r\n                func: () => addAlbumToQueue(album)\r\n            },\r\n            {\r\n                name: \"Play next\",\r\n                func: () => playAlbumNext(album)\r\n            },\r\n            {\r\n                name: \"Share album\",\r\n                func: () => shareAlbum(album)\r\n            }\r\n        ];\r\n        e.stopPropagation();\r\n        setOpenerDetails({\r\n            ...openerDetails,\r\n            open: true,\r\n            xValue: checkX(dimensions.x, windowDim.width),\r\n            yValue: checkY(dimensions.y, windowDim.height, data.length),\r\n            data\r\n        });\r\n    };\r\n\r\n    // useEffect(() => {\r\n    //     setIsLoading(true);\r\n    //     call();\r\n    // }, [input]);\r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n        call();\r\n    }, [location.search]);\r\n\r\n    if (isLoading) {\r\n        return <MidPanelLoader/>\r\n    }\r\n    return(\r\n        <div className=\"search-page\">\r\n            <div className=\"inner-search-page\">\r\n                {\r\n                    songsList.length !== 0 || albumsList.length !== 0 ?\r\n                    <>\r\n                    {\r\n                        songsList.length !== 0 ?\r\n                        <SongsList songs={songsList} openerFunc={handleSongMenu}\r\n                        openerDetails={openerDetails} setOpenerDetails={setOpenerDetails} /> : null\r\n                    }\r\n                    <div style={{ width: \"100%\", height: \"30px\" }}></div>\r\n                    {\r\n                        albumsList.length !== 0 ?\r\n                        <AlbumsList albums={albumsList} openerFunc={handleAlbumMenu}\r\n                        openerDetails={openerDetails} setOpenerDetails={setOpenerDetails} /> : null\r\n                    }\r\n                    </> :\r\n                    <div className=\"no-results\">\r\n                        <span>No results found for</span>\r\n                        <p>'{input}'</p>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n\r\nexport default NewSearch;","import React, { useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nexport const PlayerContext = React.createContext();\r\nexport const AlbumContext = React.createContext();\r\nexport const QueueContext = React.createContext();\r\nexport const QueueOpenedContext = React.createContext();\r\nexport const SongIsPausedContext = React.createContext();\r\nexport const RepeatTypeContext = React.createContext();\r\nexport const RadioContext = React.createContext();\r\nexport const MenuContext = React.createContext();\r\nexport const ProfileContext = React.createContext();\r\nexport const ResponseBarContext = React.createContext();\r\nexport const MiniPlayerContext = React.createContext();\r\nexport const LyricsContext = React.createContext();\r\nexport const LyricsTextContext = React.createContext();\r\nexport const FullScreenContext = React.createContext();\r\nexport const SearchContext = React.createContext();\r\nexport const SearchInputContext = React.createContext();\r\nexport const KeyShortcutContext = React.createContext();\r\nexport const UserContext = React.createContext();\r\n\r\n\r\nconst MainApp = () => {\r\n    const [playing, setPlaying] = useState(false);\r\n    const [song, setSong] = useState({});\r\n    const [queue, setQueue] = useState([]);\r\n    const [queueOpened, setQueueOpened] = useState(\"\");\r\n    const [paused, setPaused] = useState(false);\r\n    const [repeat, setRepeat] = useState(1);\r\n    const [radio, setRadio] = useState(false);\r\n    const [opener, setOpener] = useState({ open: false, yValue: 0, xValue: 0, type: null, data: [] });\r\n    const [profile, setProfile] = useState(false);\r\n    const [resp, setResp] = useState({ open: \"\", msg: \"\" });\r\n    const [mini, setMini] = useState(false);\r\n    const [lyrics, setLyrics] = useState([]);\r\n    const [lyricsText, setLyricsText] = useState({});\r\n    const [scr, setScr] = useState({ show: false });\r\n    const [searchInput, setSearchInput] = useState(\"\");\r\n    const [search, setSearch] = useState({ open: false, input: \"\", prevTab: \"\" });\r\n    const [openKeyShortcuts, setOpenKeyShortcuts] = useState(false);\r\n    const [user, setUser] = useState({ name: \"\", email: \"\", picture: \"\", limit: \"\" });\r\n\r\n    return(\r\n        <PlayerContext.Provider value={[playing, setPlaying]}>\r\n        <AlbumContext.Provider value={[song, setSong]}>\r\n        <QueueContext.Provider value={[queue, setQueue]}>\r\n        <QueueOpenedContext.Provider value={[queueOpened, setQueueOpened]}>\r\n        <SongIsPausedContext.Provider value={[paused, setPaused]}>\r\n        <RepeatTypeContext.Provider value={[repeat, setRepeat]}>\r\n        <RadioContext.Provider value={[radio, setRadio]}>\r\n        <MenuContext.Provider value={[opener, setOpener]}>\r\n        <ProfileContext.Provider value={[profile, setProfile]}>\r\n        <ResponseBarContext.Provider value={[resp, setResp]}>\r\n        <MiniPlayerContext.Provider value={[mini, setMini]}>\r\n        <LyricsContext.Provider value={[lyrics, setLyrics]}>\r\n        <LyricsTextContext.Provider value={[lyricsText, setLyricsText]}>\r\n        <FullScreenContext.Provider value={[scr, setScr]}>\r\n        <SearchContext.Provider value={[search, setSearch]}>\r\n        <SearchInputContext.Provider value={[searchInput, setSearchInput]}>\r\n        <KeyShortcutContext.Provider value={[openKeyShortcuts, setOpenKeyShortcuts]}>\r\n        <UserContext.Provider value={[user, setUser]}>\r\n            <App/>\r\n        </UserContext.Provider>\r\n        </KeyShortcutContext.Provider>\r\n        </SearchInputContext.Provider>\r\n        </SearchContext.Provider>\r\n        </FullScreenContext.Provider>\r\n        </LyricsTextContext.Provider>\r\n        </LyricsContext.Provider>\r\n        </MiniPlayerContext.Provider>\r\n        </ResponseBarContext.Provider>\r\n        </ProfileContext.Provider>\r\n        </MenuContext.Provider>\r\n        </RadioContext.Provider>\r\n        </RepeatTypeContext.Provider>\r\n        </SongIsPausedContext.Provider>\r\n        </QueueOpenedContext.Provider>\r\n        </QueueContext.Provider>\r\n        </AlbumContext.Provider>\r\n        </PlayerContext.Provider>\r\n    );\r\n};\r\n\r\n\r\nReactDOM.render(<MainApp/>, document.getElementById(\"root\"));"],"sourceRoot":""}